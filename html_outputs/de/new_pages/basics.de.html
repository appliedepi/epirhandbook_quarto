<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EpiRhandbook auf Deutsch - 3&nbsp; R Grundlagen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../new_pages/transition_to_R.de.html" rel="next">
<link href="../new_pages/data_used.de.html" rel="prev">
<link href="../images/Applied_Epi_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QXDW878QLX', { 'anonymize_ip': true});
</script>
<!-- Global site tag (gtag.js) - Google Analytics 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QXDW878QLX');
</script> -->

</head><body class="nav-sidebar floating"><div class="alert alert-info alert-dismissible">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
  <strong>Need help learning R?</strong> Enroll in Applied Epi's <a href="https://www.appliedepi.org/live/" class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/" class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/" class="alert-link">Community Q&amp;A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org" class="alert-link">R Help Desk service</a>.
</div>






<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/basics.de.html">Grundlagen</a></li><li class="breadcrumb-item"><a href="../new_pages/basics.de.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R Grundlagen</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EpiRhandbook auf Deutsch</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/appliedepi/epihandbook_quarto" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Über dieses Buch</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/editorial_style.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Redaktionelle und technische Hinweise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_used.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Handbuch und Daten herunterladen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Grundlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/basics.de.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R Grundlagen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transition_to_R.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Übergang zu R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/packages_suggested.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Vorgeschlagene Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/r_projects.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R-Projekte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/importing.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Import und Export</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Datenmanagement</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/cleaning.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Cleaning data and core functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/dates.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Mit Daten arbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/characters_strings.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Characters and strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/factors.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Faktoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/pivoting.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Daten pivotieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/grouping.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Daten gruppieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/joining_matching.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Daten verknüpfen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/deduplication.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">De-Duplizierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/iteration.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Iteration, Schleifen und Listen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Analyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_descriptive.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Beschreibende Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/stat_tests.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Einfache statistische Tests</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/regression.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Univariate und multivariable Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/missing_data.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Fehlende Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/standardization.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Standardisierte Sätze</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/moving_average.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Gleitende Durchschnitte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/time_series.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Zeitreihen und Erkennung von Ausbrüchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epidemic_models.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Epidemie-Modellierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/contact_tracing.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Ermittlung von Kontaktpersonen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survey_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Umfrage-Analyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survival_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Survival-Analyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/gis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">GIS-Grundlagen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Datenvisualisierung</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_presentation.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Tische für die Präsentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">ggplot Grundlagen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_tips.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">ggplot-Tipps</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epicurves.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Epidemische Kurven</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/age_pyramid.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Demografische Pyramiden und Likert-Skalen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/heatmaps.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Wärmebilanzen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/diagrams.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Diagramme und Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/combination_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Analyse der Kombinationen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transmission_chains.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Übertragungsketten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/phylogenetic_trees.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Phylogenetische Bäume</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/interactive_plots.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Interaktive Diagramme</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Berichte und Dashboards</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/rmarkdown.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/reportfactory.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Organisieren von Routineberichten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/flexdashboard.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Dashboards mit R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/shiny_basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Dashboards mit Shiny</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Verschiedenes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/writing_functions.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Funktionen schreiben</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/directories.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Verzeichnis-Interaktionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/collaboration.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Versionskontrolle und Zusammenarbeit mit Git und Github</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/errors.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Häufige Fehler</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/help.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Hilfe bekommen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/network_drives.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">R auf Netzlaufwerken</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_table.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Daten-Tabelle</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#warum-r-benutzen" id="toc-warum-r-benutzen" class="nav-link active" data-scroll-target="#warum-r-benutzen"><span class="header-section-number">3.1</span> Warum R benutzen?</a></li>
  <li><a href="#schlüsselbegriffe" id="toc-schlüsselbegriffe" class="nav-link" data-scroll-target="#schlüsselbegriffe"><span class="header-section-number">3.2</span> Schlüsselbegriffe</a></li>
  <li><a href="#learning" id="toc-learning" class="nav-link" data-scroll-target="#learning"><span class="header-section-number">3.3</span> Ressourcen zum Lernen</a>
  <ul class="collapse">
  <li><a href="#ressourcen-innerhalb-von-rstudio" id="toc-ressourcen-innerhalb-von-rstudio" class="nav-link" data-scroll-target="#ressourcen-innerhalb-von-rstudio">Ressourcen innerhalb von RStudio</a></li>
  <li><a href="#cheatsheets" id="toc-cheatsheets" class="nav-link" data-scroll-target="#cheatsheets">Cheatsheets</a></li>
  <li><a href="#twitter" id="toc-twitter" class="nav-link" data-scroll-target="#twitter">Twitter</a></li>
  <li><a href="#kostenlose-online-ressourcen" id="toc-kostenlose-online-ressourcen" class="nav-link" data-scroll-target="#kostenlose-online-ressourcen">Kostenlose Online-Ressourcen</a></li>
  <li><a href="#andere-sprachen-als-englisch" id="toc-andere-sprachen-als-englisch" class="nav-link" data-scroll-target="#andere-sprachen-als-englisch">Andere Sprachen als Englisch</a></li>
  </ul></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">3.4</span> Installation</a>
  <ul class="collapse">
  <li><a href="#r-und-rstudio" id="toc-r-und-rstudio" class="nav-link" data-scroll-target="#r-und-rstudio">R und RStudio</a></li>
  <li><a href="#andere-software-die-du-kann-installieren-musst" id="toc-andere-software-die-du-kann-installieren-musst" class="nav-link" data-scroll-target="#andere-software-die-du-kann-installieren-musst">Andere Software, die du <em>kann</em> installieren musst</a></li>
  </ul></li>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link" data-scroll-target="#rstudio"><span class="header-section-number">3.5</span> RStudio</a>
  <ul class="collapse">
  <li><a href="#rstudio-orientierung" id="toc-rstudio-orientierung" class="nav-link" data-scroll-target="#rstudio-orientierung">RStudio Orientierung</a></li>
  <li><a href="#rstudio-einstellungen" id="toc-rstudio-einstellungen" class="nav-link" data-scroll-target="#rstudio-einstellungen">RStudio-Einstellungen</a></li>
  <li><a href="#tastaturkürzel" id="toc-tastaturkürzel" class="nav-link" data-scroll-target="#tastaturkürzel">Tastaturkürzel</a></li>
  </ul></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">3.6</span> Funktionen</a>
  <ul class="collapse">
  <li><a href="#einfache-funktionen" id="toc-einfache-funktionen" class="nav-link" data-scroll-target="#einfache-funktionen">Einfache Funktionen</a></li>
  <li><a href="#funktionen-mit-mehreren-argumenten" id="toc-funktionen-mit-mehreren-argumenten" class="nav-link" data-scroll-target="#funktionen-mit-mehreren-argumenten">Funktionen mit mehreren Argumenten</a></li>
  <li><a href="#funktionen-schreiben" id="toc-funktionen-schreiben" class="nav-link" data-scroll-target="#funktionen-schreiben">Funktionen schreiben</a></li>
  </ul></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><span class="header-section-number">3.7</span> Pakete</a>
  <ul class="collapse">
  <li><a href="#installieren-und-laden" id="toc-installieren-und-laden" class="nav-link" data-scroll-target="#installieren-und-laden">Installieren und laden</a></li>
  <li><a href="#code-syntax" id="toc-code-syntax" class="nav-link" data-scroll-target="#code-syntax">Code-Syntax</a></li>
  <li><a href="#funktion-hilfe" id="toc-funktion-hilfe" class="nav-link" data-scroll-target="#funktion-hilfe">Funktion Hilfe</a></li>
  <li><a href="#pakete-aktualisieren" id="toc-pakete-aktualisieren" class="nav-link" data-scroll-target="#pakete-aktualisieren">Pakete aktualisieren</a></li>
  <li><a href="#pakete-löschen" id="toc-pakete-löschen" class="nav-link" data-scroll-target="#pakete-löschen">Pakete löschen</a></li>
  <li><a href="#abhängigkeiten" id="toc-abhängigkeiten" class="nav-link" data-scroll-target="#abhängigkeiten">Abhängigkeiten</a></li>
  <li><a href="#maskierte-funktionen" id="toc-maskierte-funktionen" class="nav-link" data-scroll-target="#maskierte-funktionen">Maskierte Funktionen</a></li>
  <li><a href="#lösen-entladen" id="toc-lösen-entladen" class="nav-link" data-scroll-target="#lösen-entladen">Lösen / Entladen</a></li>
  <li><a href="#ältere-version-installieren" id="toc-ältere-version-installieren" class="nav-link" data-scroll-target="#ältere-version-installieren">Ältere Version installieren</a></li>
  <li><a href="#vorgeschlagene-pakete" id="toc-vorgeschlagene-pakete" class="nav-link" data-scroll-target="#vorgeschlagene-pakete">Vorgeschlagene Pakete</a></li>
  </ul></li>
  <li><a href="#scripts" id="toc-scripts" class="nav-link" data-scroll-target="#scripts"><span class="header-section-number">3.8</span> Skripte</a>
  <ul class="collapse">
  <li><a href="#kommentieren" id="toc-kommentieren" class="nav-link" data-scroll-target="#kommentieren">Kommentieren</a></li>
  <li><a href="#stil" id="toc-stil" class="nav-link" data-scroll-target="#stil">Stil</a></li>
  <li><a href="#beispiel-skript" id="toc-beispiel-skript" class="nav-link" data-scroll-target="#beispiel-skript">Beispiel Skript</a></li>
  <li><a href="#r-markdown" id="toc-r-markdown" class="nav-link" data-scroll-target="#r-markdown">R Markdown</a></li>
  <li><a href="#r-notebooks" id="toc-r-notebooks" class="nav-link" data-scroll-target="#r-notebooks">R-Notebooks</a></li>
  <li><a href="#glänzend" id="toc-glänzend" class="nav-link" data-scroll-target="#glänzend">Glänzend</a></li>
  <li><a href="#code-falten" id="toc-code-falten" class="nav-link" data-scroll-target="#code-falten">Code falten</a></li>
  </ul></li>
  <li><a href="#arbeitsverzeichnis" id="toc-arbeitsverzeichnis" class="nav-link" data-scroll-target="#arbeitsverzeichnis"><span class="header-section-number">3.9</span> Arbeitsverzeichnis</a>
  <ul class="collapse">
  <li><a href="#empfohlener-ansatz" id="toc-empfohlener-ansatz" class="nav-link" data-scroll-target="#empfohlener-ansatz">Empfohlener Ansatz</a></li>
  <li><a href="#per-befehl-einstellen" id="toc-per-befehl-einstellen" class="nav-link" data-scroll-target="#per-befehl-einstellen">Per Befehl einstellen</a></li>
  <li><a href="#manuell-einstellen" id="toc-manuell-einstellen" class="nav-link" data-scroll-target="#manuell-einstellen">Manuell einstellen</a></li>
  <li><a href="#innerhalb-eines-r-projekts" id="toc-innerhalb-eines-r-projekts" class="nav-link" data-scroll-target="#innerhalb-eines-r-projekts">Innerhalb eines R-Projekts</a></li>
  <li><a href="#arbeitsverzeichnis-in-einem-r-markdown" id="toc-arbeitsverzeichnis-in-einem-r-markdown" class="nav-link" data-scroll-target="#arbeitsverzeichnis-in-einem-r-markdown">Arbeitsverzeichnis in einem R Markdown</a></li>
  <li><a href="#dateipfade-bereitstellen" id="toc-dateipfade-bereitstellen" class="nav-link" data-scroll-target="#dateipfade-bereitstellen">Dateipfade bereitstellen</a></li>
  </ul></li>
  <li><a href="#objects" id="toc-objects" class="nav-link" data-scroll-target="#objects"><span class="header-section-number">3.10</span> Objekte</a>
  <ul class="collapse">
  <li><a href="#alles-ist-ein-objekt" id="toc-alles-ist-ein-objekt" class="nav-link" data-scroll-target="#alles-ist-ein-objekt">Alles ist ein Objekt</a></li>
  <li><a href="#das-definieren-von-objekten--" id="toc-das-definieren-von-objekten--" class="nav-link" data-scroll-target="#das-definieren-von-objekten--">Das Definieren von Objekten (<code>&lt;-</code>)</a></li>
  <li><a href="#objektstruktur" id="toc-objektstruktur" class="nav-link" data-scroll-target="#objektstruktur">Objektstruktur</a></li>
  <li><a href="#objektklassen" id="toc-objektklassen" class="nav-link" data-scroll-target="#objektklassen">Objektklassen</a></li>
  <li><a href="#spaltenvariablen" id="toc-spaltenvariablen" class="nav-link" data-scroll-target="#spaltenvariablen">Spalten/Variablen (<code>$</code>)</a></li>
  <li><a href="#zugangindex-mit-klammern" id="toc-zugangindex-mit-klammern" class="nav-link" data-scroll-target="#zugangindex-mit-klammern">Zugang/Index mit Klammern (<code>[ ]</code>)</a></li>
  <li><a href="#objekte-entfernen" id="toc-objekte-entfernen" class="nav-link" data-scroll-target="#objekte-entfernen">Objekte entfernen</a></li>
  </ul></li>
  <li><a href="#rohrleitungen" id="toc-rohrleitungen" class="nav-link" data-scroll-target="#rohrleitungen"><span class="header-section-number">3.11</span> Rohrleitungen (<code>%&gt;%</code>)</a>
  <ul class="collapse">
  <li><a href="#rohre" id="toc-rohre" class="nav-link" data-scroll-target="#rohre"><strong>Rohre</strong></a></li>
  <li><a href="#definiere-zwischenobjekte" id="toc-definiere-zwischenobjekte" class="nav-link" data-scroll-target="#definiere-zwischenobjekte">Definiere Zwischenobjekte</a></li>
  </ul></li>
  <li><a href="#operators" id="toc-operators" class="nav-link" data-scroll-target="#operators"><span class="header-section-number">3.12</span> Wichtige Operatoren und Funktionen</a>
  <ul class="collapse">
  <li><a href="#zuweisungsoperatoren" id="toc-zuweisungsoperatoren" class="nav-link" data-scroll-target="#zuweisungsoperatoren">Zuweisungsoperatoren</a></li>
  <li><a href="#relationale-und-logische-operatoren" id="toc-relationale-und-logische-operatoren" class="nav-link" data-scroll-target="#relationale-und-logische-operatoren">Relationale und logische Operatoren</a></li>
  <li><a href="#fehlende-werte" id="toc-fehlende-werte" class="nav-link" data-scroll-target="#fehlende-werte">Fehlende Werte</a></li>
  <li><a href="#mathematik-und-statistik" id="toc-mathematik-und-statistik" class="nav-link" data-scroll-target="#mathematik-und-statistik">Mathematik und Statistik</a></li>
  <li><a href="#in" id="toc-in" class="nav-link" data-scroll-target="#in"><code>%in%</code></a></li>
  </ul></li>
  <li><a href="#fehler-warnungen" id="toc-fehler-warnungen" class="nav-link" data-scroll-target="#fehler-warnungen"><span class="header-section-number">3.13</span> Fehler &amp; Warnungen</a>
  <ul class="collapse">
  <li><a href="#fehler-versus-warnung" id="toc-fehler-versus-warnung" class="nav-link" data-scroll-target="#fehler-versus-warnung">Fehler versus Warnung</a></li>
  <li><a href="#allgemeine-tipps-zur-syntax" id="toc-allgemeine-tipps-zur-syntax" class="nav-link" data-scroll-target="#allgemeine-tipps-zur-syntax">Allgemeine Tipps zur Syntax</a></li>
  <li><a href="#code-assistenten" id="toc-code-assistenten" class="nav-link" data-scroll-target="#code-assistenten">Code Assistenten</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/basics.de.html">Grundlagen</a></li><li class="breadcrumb-item"><a href="../new_pages/basics.de.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R Grundlagen</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R Grundlagen</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/basics_header_close.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../images/basics_header_close.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Willkommen!</p>
<p>Diese Seite gibt einen Überblick über die Grundlagen von R. Sie ist nicht als umfassendes Tutorial gedacht, aber sie vermittelt die Grundlagen und kann nützlich sein, um dein Gedächtnis aufzufrischen. Der Abschnitt über <a href="#learning">Ressourcen zum Lernen</a> verweist auf umfassendere Tutorials.</p>
<p>Teile dieser Seite wurden mit Genehmigung der <a href="https://r4epis.netlify.app/">R4Epis Projekt</a>.</p>
<p>Siehe die Seite zum [Umstieg auf R] für Tipps zum Umstieg von STATA, SAS oder Excel auf R.</p>
<!-- ======================================================= -->
<section id="warum-r-benutzen" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="warum-r-benutzen"><span class="header-section-number">3.1</span> Warum R benutzen?</h2>
<p>Wie auf der Website <a href="https://www.r-project.org/about.html">R-Projekt-Website</a> ist R eine Programmiersprache und Umgebung für statistische Berechnungen und Grafiken. Sie ist sehr vielseitig, erweiterbar und wird von der Gemeinschaft getragen.</p>
<p><strong>Kosten</strong></p>
<p>Die Nutzung von R ist kostenlos! In der Community gibt es eine starke Ethik für kostenloses und quelloffenes Material.</p>
<p><strong>Reproduzierbarkeit</strong></p>
<p>Wenn du deine Datenverwaltung und -analyse in einer Programmiersprache durchführst (im Vergleich zu Excel oder einem anderen primär auf Mausklicks basierenden/manuellen Tool), verbessert sich <strong>Reproduzierbarkeit</strong> macht <strong>Fehlererkennung</strong> und erleichtert dir die Arbeit.</p>
<p><strong>Gemeinschaft</strong></p>
<p>Die R-Nutzergemeinschaft ist riesig und kooperativ. Täglich werden neue Pakete und Werkzeuge zur Lösung von realen Problemen entwickelt und von der Nutzergemeinschaft geprüft. Ein Beispiel, <a href="https://rladies.org/">R-Ladies</a> ist eine weltweite Organisation, die es sich zur Aufgabe gemacht hat, die Geschlechtervielfalt in der R-Gemeinschaft zu fördern. Sie ist eine der größten Organisationen von R-Nutzern. Wahrscheinlich gibt es auch eine Ortsgruppe in deiner Nähe!</p>
</section>
<section id="schlüsselbegriffe" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="schlüsselbegriffe"><span class="header-section-number">3.2</span> Schlüsselbegriffe</h2>
<p><strong>RStudio</strong> - RStudio ist eine grafische Benutzeroberfläche (GUI) zur einfacheren Nutzung von <strong>R</strong>. Mehr lesen <a href="#rstudio">im Abschnitt RStudio</a>.</p>
<p><strong>Objekte</strong> - Alles, was du in R speicherst - Datensätze, Variablen, eine Liste von Ortsnamen, eine Gesamtbevölkerungszahl, sogar Ausgaben wie Diagramme - sind <em>Objekte</em> die <em>einen Namen zugewiesen bekommen</em> und <em>kann referenziert werden</em> in späteren Befehlen. Mehr lesen <a href="#objects">im Abschnitt Objekte</a>.</p>
<p><strong>Funktionen</strong> - Eine Funktion ist eine Code-Operation, die Eingaben akzeptiert und eine transformierte Ausgabe zurückgibt. Mehr lesen <a href="#functions">im Abschnitt Funktionen</a>.</p>
<p><strong>Pakete</strong> - Ein R-Paket ist ein gemeinsam nutzbares Bündel von Funktionen. Mehr lesen <a href="#packages">im Abschnitt Pakete</a>.</p>
<p><strong>Skripte</strong> - Ein Skript ist eine Dokumentendatei, die deine Befehle enthält. Mehr lesen <a href="#scripts">im Abschnitt Skripte</a></p>
</section>
<section id="learning" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="learning"><span class="header-section-number">3.3</span> Ressourcen zum Lernen</h2>
<section id="ressourcen-innerhalb-von-rstudio" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="ressourcen-innerhalb-von-rstudio">Ressourcen innerhalb von RStudio</h3>
<p><strong>Hilfe-Dokumentation</strong></p>
<p>Auf der Registerkarte “Hilfe” von RStudio findest du die Dokumentation zu R-Paketen und bestimmten Funktionen. Diese befindet sich in dem Bereich, der auch Dateien, Diagramme und Pakete enthält (normalerweise im unteren rechten Bereich). Als Abkürzung kannst du auch den Namen eines Pakets oder einer Funktion nach einem Fragezeichen in die R-Konsole eingeben, um die entsprechende Hilfeseite zu öffnen. Setze keine Klammern.</p>
<p>Zum Beispiel: <code>?filter</code> oder <code>?diagrammeR</code>.</p>
<p><strong>Interaktive Tutorials</strong></p>
<p>Es gibt mehrere Möglichkeiten, R interaktiv zu lernen <em>innerhalb von</em> RStudio.</p>
<p>RStudio selbst bietet ein Tutorial-Fenster, das von der <a href="https://blog.rstudio.com/2020/02/25/rstudio-1-3-integrated-tutorials/"><strong>learnr</strong></a> R-Paket. Installiere einfach dieses Paket und öffne ein Tutorial über die neue Registerkarte “Tutorial” in der oberen rechten RStudio-Leiste (die auch die Registerkarten Umgebung und Verlauf enthält).</p>
<p>Das R-Paket <a href="https://swirlstats.com/"><strong>swirl</strong></a> bietet interaktive Kurse in der R-Konsole an. Installiere und lade dieses Paket und führe dann den Befehl <code>swirl()</code> (leere Klammern) in der R-Konsole aus. Du wirst sehen, dass in der Konsole Eingabeaufforderungen erscheinen. Reagiere, indem du in der Konsole tippst. Sie wird dich durch einen Kurs deiner Wahl führen.</p>
</section>
<section id="cheatsheets" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="cheatsheets">Cheatsheets</h3>
<p>Es gibt viele PDF-“Cheatsheets” auf der Website <a href="https://rstudio.com/resources/cheatsheets/">RStudio-Website</a> zum Beispiel:</p>
<ul>
<li>Faktoren mit <strong>forcats</strong> paket</li>
<li>Termine und Zeiten mit <strong>lubridate</strong> paket</li>
<li>Schnüre mit <strong>stringr</strong> paket</li>
<li>iterative Operationen mit <strong>purrr</strong> Paket</li>
<li>Datenimport\</li>
<li>Datenumwandlung Cheatsheet mit <strong>dplyr</strong> paket</li>
<li>R Markdown (zum Erstellen von Dokumenten wie PDF, Word, Powerpoint…)\</li>
<li>Shiny (um interaktive Webanwendungen zu erstellen)\</li>
<li>Datenvisualisierung mit <strong>ggplot2</strong> paket</li>
<li>Kartographie (GIS)\</li>
<li><strong>Merkblatt</strong> Paket (interaktive Karten)\</li>
<li>Python mit R (<strong>netzartig</strong> Paket)</li>
</ul>
<p>Dies ist eine Online-Ressource speziell für <a href="https://jules32.github.io/r-for-excel-users/">Excel-Benutzer</a></p>
</section>
<section id="twitter" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="twitter">Twitter</h3>
<p>R hat eine lebendige Twitter-Community, in der du Tipps, Abkürzungen und Neuigkeiten erfahren kannst - folge diesen Accounts:</p>
<ul>
<li>Folge uns! <a href="https://twitter.com/epirhandbook"><span class="citation" data-cites="epiRhandbook">@epiRhandbook</span></a>\</li>
<li>R Funktion A Tag <a href="https://twitter.com/rfunctionaday"><span class="citation" data-cites="rfuntionaday">@rfuntionaday</span></a> ist eine <em>unglaubliche</em> Ressource\</li>
<li>R für Datenwissenschaft <a href="https://twitter.com/rstats4ds?lang=en"><span class="citation" data-cites="rstats4ds">@rstats4ds</span></a>\</li>
<li>RStudio <a href="https://twitter.com/rstudio?lang=en"><span class="citation" data-cites="RStudio">@RStudio</span></a>\</li>
<li>RStudio Tipps <a href="https://twitter.com/rstudiotips"><span class="citation" data-cites="rstudiotips">@rstudiotips</span></a>\</li>
<li>R-Blogger <a href="https://twitter.com/Rbloggers"><span class="citation" data-cites="Rbloggers">@Rbloggers</span></a>\</li>
<li>R-Ladies <a href="https://twitter.com/RLadiesGlobal"><span class="citation" data-cites="RLadiesGlobal">@RLadiesGlobal</span></a>\</li>
<li>Hadley Wickham <a href="https://twitter.com/hadleywickham?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"><span class="citation" data-cites="hadleywickham">@hadleywickham</span></a></li>
</ul>
<p>Auch:</p>
<p><strong>#epitwitter</strong> und <strong>#rstats</strong></p>
</section>
<section id="kostenlose-online-ressourcen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="kostenlose-online-ressourcen">Kostenlose Online-Ressourcen</h3>
<p>Ein maßgeblicher Text ist das <a href="https://r4ds.had.co.nz/">R für Datenwissenschaft</a> Buch von Garrett Grolemund und Hadley Wickham</p>
<p>Die <a href="https://r4epis.netlify.app/">R4Epis</a> Projekt-Website zielt darauf ab, “standardisierte Tools zur Datenbereinigung, -analyse und -berichterstattung zu entwickeln, die gängige Arten von Ausbrüchen und bevölkerungsbasierten Erhebungen abdecken, die in einem MSF-Notfallszenario durchgeführt werden”. Du findest dort R-Grundlagen-Schulungsmaterial, Vorlagen für RMarkdown-Berichte über Ausbrüche und Erhebungen sowie Tutorials, die dir bei der Einrichtung helfen.</p>
</section>
<section id="andere-sprachen-als-englisch" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="andere-sprachen-als-englisch">Andere Sprachen als Englisch</h3>
<p><a href="https://www.rstudio.com/collections/espanol/">Materiales de RStudio en Español</a></p>
<p><a href="https://juba.github.io/tidyverse/index.html">Einführung in R und Tidyverse (französisch)</a></p>
<!-- ======================================================= -->
</section>
</section>
<section id="installation" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="installation"><span class="header-section-number">3.4</span> Installation</h2>
<section id="r-und-rstudio" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r-und-rstudio">R und RStudio</h3>
<p><strong>Wie man R installiert</strong></p>
<p>Besuche diese Website <a href="https://www.r-project.org/">https://www.r-project.org/</a> und lade die neueste Version von R herunter, die für deinen Computer geeignet ist.</p>
<p><strong>So installierst du RStudio</strong></p>
<p>Besuche diese Website <a href="https://rstudio.com/products/rstudio/download/">https://rstudio.com/products/rstudio/download/</a> und lade die neueste kostenlose Desktop-Version von RStudio herunter, die für deinen Computer geeignet ist.</p>
<p><strong>Berechtigungen</strong><br>
Beachte, dass du R und RStudio auf einem Laufwerk installieren solltest, auf dem du Lese- und Schreibrechte hast. Andernfalls wird deine Fähigkeit, R-Pakete zu installieren (was häufig vorkommt), beeinträchtigt. Wenn du Probleme hast, versuche RStudio zu öffnen, indem du mit der rechten Maustaste auf das Symbol klickst und “Als Administrator ausführen” auswählst. Weitere Tipps findest du auf der Seite [R auf Netzlaufwerken].</p>
<p><strong>Wie man R und RStudio aktualisiert</strong></p>
<p>Deine Version von R wird beim Start in der R-Konsole angezeigt. Du kannst auch Folgendes ausführen <code>sessionInfo()</code>.</p>
<p>Um R zu aktualisieren, besuche die oben genannte Website und installiere R neu. Alternativ kannst du die <strong>installr</strong> Paket (unter Windows) verwenden, indem du <code>installr::updateR()</code>. Dadurch werden Dialogfelder geöffnet, die dir helfen, die neueste R-Version herunterzuladen und deine Pakete auf die neue R-Version zu aktualisieren. Weitere Details findest du in der <strong>installr</strong> <a href="https://www.r-project.org/nosvn/pandoc/installr.html">Dokumentation</a>.</p>
<p>Sei dir bewusst, dass die alte R-Version noch auf deinem Computer vorhanden sein wird. Du kannst vorübergehend eine ältere Version (ältere “Installation”) von R ausführen, indem du in RStudio auf “Extras” -&gt; “Globale Optionen” klickst und eine R-Version auswählst. Das kann nützlich sein, wenn du ein Paket verwenden möchtest, das noch nicht für die neueste Version von R aktualisiert wurde.</p>
<p>Um RStudio zu aktualisieren, kannst du auf die oben genannte Website gehen und RStudio erneut herunterladen. Eine andere Möglichkeit ist, in RStudio auf “Hilfe” -&gt; “Nach Updates suchen” zu klicken, aber das zeigt möglicherweise nicht die allerneuesten Updates an.</p>
<p>Um zu sehen, welche Versionen von R, RStudio oder Paketen verwendet wurden, als dieses Handbuch erstellt wurde, schaue auf der Seite [Redaktionelle und technische Hinweise].</p>
</section>
<section id="andere-software-die-du-kann-installieren-musst" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="andere-software-die-du-kann-installieren-musst">Andere Software, die du <em>kann</em> installieren musst</h3>
<ul>
<li>TinyTeX (<em>zum Kompilieren eines RMarkdown-Dokuments in PDF</em>)\</li>
<li>Pandoc (<em>zum Kompilieren von RMarkdown-Dokumenten</em>)\</li>
<li>RTools (<em>zum Erstellen von Paketen für R</em>)\</li>
<li>phantomjs (<em>zum Speichern von Standbildern von animierten Netzwerken, wie z.B. Übertragungsketten</em>)</li>
</ul>
<section id="tinytex" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="tinytex">TinyTex</h4>
<p>TinyTex ist eine benutzerdefinierte LaTeX-Distribution, die nützlich ist, wenn du PDFs aus R erstellen willst.<br>
Siehe <a href="https://yihui.org/tinytex/">https://yihui.org/tinytex/</a> für weitere Informationen.</p>
<p>So installierst du TinyTex aus R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'tinytex'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># to uninstall TinyTeX, run tinytex::uninstall_tinytex()</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pandoc" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="pandoc">Pandoc</h4>
<p>Pandoc ist ein Dokumentenkonverter, eine von R unabhängige Software. <strong>Sie ist im Lieferumfang von RStudio enthalten und muss nicht heruntergeladen werden.</strong> Es hilft bei der Konvertierung von Rmarkdown-Dokumenten in Formate wie .pdf und fügt komplexe Funktionen hinzu.</p>
</section>
<section id="rtools" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="rtools">RTools</h4>
<p>RTools ist eine Sammlung von Software zum Erstellen von Paketen für R</p>
<p>Installiere von dieser Website: <a href="https://cran.r-project.org/bin/windows/Rtools/">https://cran.r-project.org/bin/windows/Rtools/</a></p>
</section>
<section id="phantomjs" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="phantomjs">phantomjs</h4>
<p>Dies wird oft verwendet, um “Screenshots” von Webseiten zu machen. Wenn du zum Beispiel eine Übertragungskette mit <strong>epicontacts</strong> Paket eine Übertragungskette erstellst, wird eine HTML-Datei erzeugt, die interaktiv und dynamisch ist. Wenn du ein statisches Bild möchtest, kann es sinnvoll sein, die <a href="https://wch.github.io/webshot/articles/intro.html"><strong>webshot</strong></a> Paket, um diesen Prozess zu automatisieren. Dazu wird das externe Programm “phantomjs” benötigt. Installieren kannst du phantomjs über die <strong>Webshot</strong> Paket mit dem Befehl <code>webshot::install_phantomjs()</code>.</p>
<!-- ======================================================= -->
</section>
</section>
</section>
<section id="rstudio" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="rstudio"><span class="header-section-number">3.5</span> RStudio</h2>
<section id="rstudio-orientierung" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="rstudio-orientierung">RStudio Orientierung</h3>
<p><strong>Öffne zunächst RStudio.</strong> Da die Icons sehr ähnlich aussehen können, solltest du sicherstellen, dass du das <em>RStudio</em> und nicht R.</p>
<p>Damit RStudio funktioniert, musst du auch R auf dem Computer installiert haben (siehe oben für die Installationsanweisungen).</p>
<p><strong>RStudio</strong> ist eine Schnittstelle (GUI) zur einfacheren Nutzung von <strong>R</strong>. Du kannst dir R als den Motor eines Fahrzeugs vorstellen, der die entscheidende Arbeit leistet, und RStudio als die Karosserie des Fahrzeugs (mit Sitzen, Zubehör usw.), die dir hilft, den Motor tatsächlich zu nutzen, um vorwärts zu kommen! Hier findest du den kompletten RStudio-Benutzeroberflächen-Spickzettel (PDF) <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">hier</a></p>
<p>In der Standardeinstellung zeigt RStudio vier rechteckige Fenster an.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/RStudio_overview.PNG" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="../images/RStudio_overview.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>[<strong><em>TIPP:</em></strong> Wenn dein RStudio nur einen linken Bereich anzeigt, liegt das daran, dass du noch keine Skripte geöffnet hast].{style=“color: black;”}</p>
<p><strong>Das Fenster “Quelle</strong><br>
In diesem Bereich, der sich standardmäßig oben links befindet, kannst du deine Daten bearbeiten, ausführen und speichern. <a href="#scripts">Skripte</a>. Skripte enthalten die Befehle, die du ausführen willst. In diesem Bereich können auch Datensätze (Datenrahmen) zur Ansicht angezeigt werden.</p>
<p>Für Stata-Benutzer ist dieser Bereich ähnlich wie die Fenster Do-file und Data Editor.</p>
<p><strong>Das R-Konsolen-Fenster</strong></p>
<p>Die R-Konsole, standardmäßig das linke oder untere linke Fenster in R Studio, ist die Heimat der R-“Engine”. Hier werden die Befehle tatsächlich ausgeführt und nicht-grafische Ausgaben sowie Fehler- und Warnmeldungen angezeigt. Du kannst Befehle direkt in die R-Konsole eingeben und ausführen, aber beachte, dass diese Befehle nicht gespeichert werden, wie es bei der Ausführung von Befehlen aus einem Skript der Fall ist.</p>
<p>Wenn du mit Stata vertraut bist, ist die R-Konsole wie das Befehlsfenster und auch das Ergebnisfenster.</p>
<p><strong>Das Umgebungsfenster</strong><br>
Dieser Bereich, der sich standardmäßig oben rechts befindet, wird am häufigsten verwendet, um kurze Zusammenfassungen von <a href="#objects">Objekten</a> in der R-Umgebung in der aktuellen Sitzung. Zu diesen Objekten gehören importierte, geänderte oder erstellte Datensätze, Parameter, die du definiert hast (z. B. eine bestimmte Epi-Woche für die Analyse), oder Vektoren oder Listen, die du während der Analyse definiert hast (z. B. Namen von Regionen). Du kannst auf den Pfeil neben dem Namen eines Datenrahmens klicken, um seine Variablen zu sehen.</p>
<p>In Stata ähnelt dies am meisten dem Fenster Variablenmanager.</p>
<p>Dieses Fenster enthält auch <em>Verlauf</em> wo du die Befehle sehen kannst, die du zuvor ausgeführt hast. Es gibt auch eine Registerkarte “Tutorial”, auf der du interaktive R-Tutorials absolvieren kannst, wenn du die <strong>learnr</strong> Paket installiert hast. Außerdem gibt es einen Bereich “Verbindungen” für externe Verbindungen und einen Bereich “Git”, wenn du dich für eine Schnittstelle zu Github entscheidest.</p>
<p><strong>Plots, Viewer, Pakete und Hilfefenster</strong><br>
Der Bereich unten rechts enthält mehrere wichtige Registerkarten. Typische Plot-Grafiken, einschließlich Karten, werden im Plot-Fenster angezeigt. Interaktive oder HTML-Ausgaben werden im Viewer-Fenster angezeigt. Das Hilfe-Fenster zeigt Dokumentation und Hilfedateien an. Das Dateifenster ist ein Browser, mit dem du Dateien öffnen oder löschen kannst. Im Bereich Pakete kannst du R-Pakete anzeigen, installieren, aktualisieren, löschen, laden/entladen und sehen, welche Version des Pakets du hast. Mehr über Pakete erfährst du in der <a href="#packages">Abschnitt Pakete</a> unten.</p>
<p>Dieser Bereich enthält die Stata-Äquivalente der Fenster Plots Manager und Project Manager.</p>
</section>
<section id="rstudio-einstellungen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="rstudio-einstellungen">RStudio-Einstellungen</h3>
<p>Ändern Sie die RStudio-Einstellungen und das Aussehen in der <em>Werkzeuge</em> Dropdown-Menü, indem du wählst <em>Globale Optionen</em>. Dort kannst du die Standardeinstellungen ändern, einschließlich Aussehen/Hintergrundfarbe.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/RStudio_tools_options_1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="../images/RStudio_tools_options_1.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/RStudio_tools_options.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="../images/RStudio_tools_options.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><strong>neu starten</strong></p>
<p>Wenn dein R einfriert, kannst du R neu starten, indem du im Menü Sitzung auf “R neu starten” klickst. Das erspart dir das lästige Schließen und Öffnen von RStudio. Dabei wird alles in deiner R-Umgebung gelöscht.</p>
</section>
<section id="tastaturkürzel" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tastaturkürzel">Tastaturkürzel</h3>
<p>Im Folgenden findest du einige sehr nützliche Tastenkombinationen. Alle Tastaturkürzel für Windows, Max und Linux findest du auf der zweiten Seite dieses RStudio <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">Spickzettel für die Benutzeroberfläche</a>.</p>
<p>+———————————-+————————+——————————————————————————————————————————–+ | Windows/Linux | Mac | Action | +==================================+========================+================================================================================================================================+ | Esc | Esc | Aktuellen Befehl unterbrechen (nützlich, wenn du versehentlich einen unvollständigen Befehl ausgeführt hast und in der R-Konsole kein “+” sehen kannst) | +———————————-+————————+——————————————————————————————————————————–+ | Strg+s | Cmd+s | Speichern (Skript) | +———————————-+————————+——————————————————————————————————————————–+ | Tab | Tabulator | Auto-Vervollständigen | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Enter | Cmd + Enter | Aktuelle Zeile(n)/Auswahl des Codes ausführen | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Umschalt + C | Cmd + Umschalt + c | die markierten Zeilen kommentieren/unkommentieren | +———————————-+————————+——————————————————————————————————————————–+ | Alt + - | Option + - | Einfügen <code>&lt;-</code> | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Umschalt + m | Cmd + Umschalt + m | Einfügen <code>%&gt;%</code> | +———————————-+————————+——————————————————————————————————————————–+ | Strg + l | Cmd + l | Löschen der R-Konsole | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Alt + b | Cmd + Option + b | Vom Anfang bis zur aktuellen Zeile laufen | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Alt + t | Cmd + Option + t | Den aktuellen Codeabschnitt ausführen (R Markdown) | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Alt + i | Cmd + Shift + r | Codeabschnitt einfügen (in R Markdown) | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Alt + c | Cmd + Option + c | Aktuelles Code-Stück ausführen (R Markdown) | +———————————-+————————+——————————————————————————————————————————–+ | Pfeile nach oben/unten in der R-Konsole | Dasselbe | Umschalten zwischen den zuletzt ausgeführten Befehlen | +———————————-+————————+——————————————————————————————————————————–+ | Umschalttaste + Pfeile nach oben/unten im Skript | Dasselbe | Mehrere Codezeilen auswählen | +———————————-+————————+——————————————————————————————————————————–+ | Strg + f | Cmd + f | Suchen und Ersetzen im aktuellen Skript | +———————————-+————————+——————————————————————————————————————————–+ | Strg + Umschalt + f | Cmd + Umschalt + f | Suchen in Dateien (Suchen/Ersetzen über viele Skripte hinweg) | +———————————-+————————+——————————————————————————————————————————–+ | Alt + l | Cmd + Option + l | Ausgewählten Code einklappen | +———————————-+————————+——————————————————————————————————————————–+ | Shift + Alt + l | Cmd + Shift + Option+l | Ausgewählten Code aufklappen | +———————————-+————————+——————————————————————————————————————————–+</p>
<p>[<strong><em>TIPP:</em></strong> Benutze beim Tippen die Tabulatortaste, um die Autovervollständigungsfunktion von RStudio zu aktivieren. So kannst du Rechtschreibfehler vermeiden. Drücke beim Tippen die Tabulatortaste, um ein Dropdown-Menü mit wahrscheinlichen Funktionen und Objekten anzuzeigen, die auf dem basieren, was du bisher getippt hast].{style=“color: darkgreen;”}</p>
<!-- ======================================================= -->
</section>
</section>
<section id="functions" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="functions"><span class="header-section-number">3.6</span> Funktionen</h2>
<p>Funktionen sind das Herzstück von R. Mit Funktionen führst du Aufgaben und Operationen aus. Viele Funktionen werden mit R installiert, viele weitere stehen zum Download bereit in <em>Pakete</em> (erklärt in der <a href="#packages">Pakete</a> Abschnitt), und du kannst sogar deine eigenen Funktionen schreiben!</p>
<p>Dieser Grundlagenabschnitt über Funktionen erklärt:</p>
<ul>
<li>Was eine Funktion ist und wie sie funktioniert.</li>
<li>Welche Funktion <em>Argumente</em> sind?</li>
<li>Wie du Hilfe zum Verständnis einer Funktion bekommst</li>
</ul>
<p><em>Ein kurzer Hinweis zur Syntax:</em> In diesem Handbuch werden die Funktionen in Code-Text mit offenen Klammern geschrieben, etwa so: <code>filter()</code>. Wie in der <a href="#packages">Pakete</a> erklärt, werden die Funktionen innerhalb von <em>Pakete</em>. In diesem Handbuch werden die Paketnamen in <strong>fett</strong>, wie <strong>dplyr</strong>. Manchmal wird im Beispielcode der Funktionsname explizit mit dem Namen des Pakets verknüpft und mit zwei Doppelpunkten (<code>::</code>) wie hier: <code>dplyr::filter()</code>. Der Zweck dieser Verknüpfung wird im Abschnitt über Pakete erklärt.</p>
<!-- ======================================================= -->
<section id="einfache-funktionen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="einfache-funktionen">Einfache Funktionen</h3>
<p><strong>Eine Funktion ist wie eine Maschine, die Eingaben erhält, mit diesen Eingaben eine Aktion durchführt und eine Ausgabe erzeugt.</strong> Was die Ausgabe ist, hängt von der Funktion ab.</p>
<p><strong>Funktionen wirken in der Regel auf ein Objekt, das innerhalb der Klammern der Funktion steht</strong>. Zum Beispiel kann die Funktion <code>sqrt()</code> berechnet die Quadratwurzel aus einer Zahl:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">49</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>Das Objekt, das einer Funktion übergeben wird, kann auch eine Spalte in einem Datensatz sein (siehe die <a href="#objects">Objekte</a> Abschnitt für weitere Informationen zu allen Arten von Objekten). Da R mehrere Datasets speichern kann, musst du sowohl das Dataset als auch die Spalte angeben. Eine Möglichkeit, dies zu tun, ist die Verwendung der <code>$</code> Notation, um den Namen des Datensatzes und den Namen der Spalte zu verknüpfen (<code>dataset$column</code>). Im folgenden Beispiel wird die Funktion <code>summary()</code> auf die numerische Spalte angewendet <code>age</code> im Datensatz <code>linelist</code> und die Ausgabe ist eine Zusammenfassung der numerischen und fehlenden Werte der Spalte.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print summary statistics of column 'age' in the dataset 'linelist'</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.00    6.00   13.00   16.07   23.00   84.00      86 </code></pre>
</div>
</div>
<p>[<strong><em>HINWEIS:</em></strong> Hinter den Kulissen stellt eine Funktion komplexen zusätzlichen Code dar, der für den Benutzer in einen einfachen Befehl verpackt wurde].{style=“color: black;”}</p>
<!-- ======================================================= -->
</section>
<section id="funktionen-mit-mehreren-argumenten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="funktionen-mit-mehreren-argumenten">Funktionen mit mehreren Argumenten</h3>
<p>Funktionen fragen oft nach mehreren Eingaben, genannt <strong><em>Argumente</em></strong> Die Argumente befinden sich in den Klammern der Funktion, normalerweise durch Kommas getrennt.</p>
<ul>
<li>Einige Argumente sind erforderlich, damit die Funktion richtig funktioniert, andere sind optional.</li>
<li>Optionale Argumente haben Standardeinstellungen\</li>
<li>Argumente können Zeichen, Zahlen, Logik (TRUE/FALSE) und andere Eingaben annehmen.</li>
</ul>
<p>Hier ist eine lustige fiktive Funktion, die <code>oven_bake()</code> als Beispiel für eine typische Funktion. Sie nimmt ein Eingabeobjekt (z. B. einen Datensatz oder in diesem Beispiel “Teig”) und führt darauf Operationen aus, die durch zusätzliche Argumente (<code>minutes =</code> und <code>temperature =</code>). Die Ausgabe kann auf der Konsole ausgegeben oder mit dem Zuweisungsoperator als Objekt gespeichert werden <code>&lt;-</code>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/Function_Bread_Example.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="../images/Function_Bread_Example.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><strong>Ein realistischeres Beispiel</strong> ist die <code>age_pyramid()</code> Befehl erzeugt eine Alterspyramide, die auf definierten Altersgruppen und einer binären Split-Spalte basiert, wie z. B. <code>gender</code>. Die Funktion erhält drei Argumente in Klammern, die durch Kommas getrennt sind. Die Werte, die den Argumenten übergeben werden, bestimmen <code>linelist</code> als den zu verwendenden Datenrahmen, <code>age_cat5</code> als die zu zählende Spalte und <code>gender</code> als Binärspalte, die für die Aufteilung der Pyramide nach Farbe verwendet wird.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an age pyramid</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(<span class="at">data =</span> linelist, <span class="at">age_group =</span> <span class="st">"age_cat5"</span>, <span class="at">split_by =</span> <span class="st">"gender"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="basics.de_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="basics.de_files/figure-html/unnamed-chunk-6-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Der obige Befehl kann auch wie folgt geschrieben werden, allerdings in einem längeren Stil mit einer neuen Zeile für jedes Argument. Dieser Stil ist leichter zu lesen und es ist einfacher, “Kommentare” zu schreiben mit <code>#</code> zu schreiben, um jeden Teil zu erklären (ausführliche Kommentare sind eine gute Praxis!). Um diesen längeren Befehl auszuführen, kannst du den gesamten Befehl markieren und auf “Ausführen” klicken oder du platzierst den Cursor in der ersten Zeile und drückst dann gleichzeitig die Tasten Strg und Enter.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an age pyramid</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> linelist,        <span class="co"># use case linelist</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_group =</span> <span class="st">"age_cat5"</span>, <span class="co"># provide age group column</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">split_by =</span> <span class="st">"gender"</span>     <span class="co"># use gender column for two sides of pyramid</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="basics.de_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="basics.de_files/figure-html/unnamed-chunk-7-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Die erste Hälfte einer Argumentzuweisung (z.B. <code>data =</code>) muss nicht angegeben werden, wenn die Argumente in einer bestimmten Reihenfolge geschrieben werden (die in der Dokumentation der Funktion angegeben ist). Der folgende Code erzeugt genau die gleiche Pyramide wie oben, weil die Funktion die Argumentreihenfolge erwartet: Datenrahmen, <code>age_group</code> Variable, <code>split_by</code> Variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This command will produce the exact same graphic as above</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(linelist, <span class="st">"age_cat5"</span>, <span class="st">"gender"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Eine komplexere <code>age_pyramid()</code> Befehl könnte die <em>optional</em> Argumente zu:</strong></p>
<ul>
<li>Proportionen anstelle von Zählungen anzeigen (setzen <code>proportional = TRUE</code> wenn der Standardwert <code>FALSE</code>)\</li>
<li>Legen Sie die beiden zu verwendenden Farben fest (<code>pal =</code> ist die Abkürzung für “Palette” und wird mit einem Vektor aus zwei Farbnamen geliefert. Siehe die <a href="#objectstructure">Objekte</a> Seite, wie die Funktion <code>c()</code> einen Vektor erzeugt)</li>
</ul>
<p>[<strong><em>HINWEIS:</em></strong> Bei Argumenten, die du mit beiden Teilen des Arguments angibst (z. B. <code>proportional = TRUE</code>), spielt ihre Reihenfolge unter allen Argumenten keine Rolle].{style=“color: black;”}</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  linelist,                    <span class="co"># use case linelist</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age_cat5"</span>,                  <span class="co"># age group column</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,                    <span class="co"># split by gender</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">proportional =</span> <span class="cn">TRUE</span>,         <span class="co"># percents instead of counts</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">"orange"</span>, <span class="st">"purple"</span>)  <span class="co"># colors</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="basics.de_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="basics.de_files/figure-html/unnamed-chunk-9-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section>
<section id="funktionen-schreiben" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="funktionen-schreiben">Funktionen schreiben</h3>
<p>R ist eine Sprache, die sich an Funktionen orientiert. Du solltest dich also befähigt fühlen, deine eigenen Funktionen zu schreiben. Das Erstellen von Funktionen bringt mehrere Vorteile mit sich:</p>
<ul>
<li>Sie erleichtern die modulare Programmierung - die Aufteilung des Codes in unabhängige und überschaubare Teile.</li>
<li>Ersetzt das wiederholte Kopieren und Einfügen, das fehleranfällig sein kann\</li>
<li>Gib Teilen des Codes einprägsame Namen</li>
</ul>
<p>Wie man eine Funktion schreibt, wird ausführlich in der <a href="#funktionen-schreiben">Funktionen schreiben</a> Seite.</p>
<!-- Eine Funktion erhält einen Namen und wird mit dem Zuweisungsoperator `<-` zu einer speziellen **Basis** R-Funktion namens `Funktion()` definiert. Innerhalb der Klammern werden die Argumente definiert, die die Funktion akzeptieren soll. Danach folgen geschweifte Klammern `{ }`, in die der eigentliche Code der Funktion geschrieben wird.     -->
<!-- Die Argumente sollten in der Syntax `Argument = Standard` angegeben werden, getrennt durch Kommas.   -->
<!-- Hier ist ein Beispiel, in dem wir eine Funktion `staff_calc()` erstellen, die als Personalberechner für COVID-19 Falluntersuchungen und Anrufe zur Ermittlung von Kontaktpersonen dient.   -->
<!-- Die Argumente (Eingaben) und ihre Standardwerte werden sein:   -->
<!-- * `daily_cases = NULL` Die Anzahl der neuen COVID-19-Fälle pro Tag -->
<!-- * `contacts_each = 5` Die Anzahl der Kontakte, die für jeden Fall aufgezählt werden -->
<!-- * `time_case = 0.5` Anzahl der Stunden, die für die telefonische Untersuchung eines Falles benötigt werden -->
<!-- * `time_contact = 0.25` Anzahl der Stunden für die telefonische Nachbearbeitung eines Kontakts -->
<!-- * `time_day = 8` Die Anzahl der Stunden, die ein Mitarbeiter pro Tag arbeitet -->
<!-- Unten wird die Funktion erstellt. Der Code endet mit der speziellen Funktion `return()`, die das Ergebnis der Funktion ist.    -->
<!-- ```{r message=FALSE, warning=FALSE, out.width = "75%", out.height="75%"} -->
<!-- staff_calc <- function(daily_cases = NULL, contacts_each = 5, -->
<!-- time_case = 0.5, time_contact = 0.25, time_day = 8){ -->
<!-- # Definiere die täglichen Gesamtstunden für das Anrufen von Fällen -->
<!-- case_hours <- daily_cases * time_case -->
<!-- # Definiere die täglichen Gesamtstunden für das Anrufen von Kontakten -->
<!-- contact_hours <- daily_cases * contacts_each * time_contact -->
<!-- # Berechne die Anzahl der benötigten Mitarbeiter -->
<!-- Personal_erforderlich <- (Fall_Stunden + Kontakt_Stunden)/Zeit_Tag -->
<!-- return(personal_erforderlich) -->
<!-- } -->
<!-- ``` -->
<!-- Sobald dieser Code ausgeführt wird, wird die Funktion definiert und erscheint in der R-Umgebung. Wir können die Funktion ausführen. Im Folgenden werden alle Standardwerte verwendet und `daily_cases = ` wird auf 150 gesetzt.   -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="packages" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="packages"><span class="header-section-number">3.7</span> Pakete</h2>
<p><strong>Pakete enthalten Funktionen.</strong></p>
<p>Ein R-Paket ist ein gemeinsam nutzbares Bündel aus Code und Dokumentation, das vordefinierte Funktionen enthält. Die Nutzer der R-Gemeinschaft entwickeln ständig Pakete für bestimmte Probleme. Es ist sehr wahrscheinlich, dass eines davon dir bei deiner Arbeit helfen kann! Du wirst Hunderte von Paketen installieren und verwenden, wenn du R benutzt.</p>
<p>Bei der Installation enthält R <strong>“base”</strong> Pakete und Funktionen, die allgemeine elementare Aufgaben erledigen. Viele R-Benutzer erstellen jedoch spezielle Funktionen, die von der R-Gemeinschaft überprüft werden und die du als Paket herunterladen kannst. <strong>Paket</strong> für deinen eigenen Gebrauch herunterladen kannst. In diesem Handbuch werden die Paketnamen in <strong>fett</strong>. Einer der schwierigeren Aspekte von R ist, dass es oft viele Funktionen oder Pakete gibt, aus denen du wählen kannst, um eine bestimmte Aufgabe zu erledigen.</p>
<section id="installieren-und-laden" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="installieren-und-laden">Installieren und laden</h3>
<p><em>Funktionen</em> sind enthalten in <strong>Paketen</strong> die aus dem Internet auf deinen Computer heruntergeladen (“installiert”) werden können. Sobald ein Paket heruntergeladen ist, wird es in deiner “Bibliothek” gespeichert. Du kannst dann während deiner aktuellen R-Sitzung auf die darin enthaltenen Funktionen zugreifen, indem du das Paket “lädst”.</p>
<p><em>Stell dir R als deine persönliche Bibliothek vor</em> Wenn du ein Paket herunterlädst, erhält deine Bibliothek ein neues Buch mit Funktionen, aber jedes Mal, wenn du eine Funktion aus diesem Buch benutzen willst, musst du dieses Buch aus deiner Bibliothek ausleihen (“laden”).</p>
<p>Kurz gesagt: Um die Funktionen in einem R-Paket zu nutzen, müssen 2 Schritte durchgeführt werden:</p>
<ol type="1">
<li>Das Paket muss <strong>installiert</strong> (einmal), <em>und</em>\</li>
<li>Das Paket muss <strong>geladen werden</strong> (jede R-Sitzung)</li>
</ol>
<section id="deine-bibliothek" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="deine-bibliothek">Deine Bibliothek</h4>
<p>Deine “Bibliothek” ist eigentlich ein Ordner auf deinem Computer, der einen Ordner für jedes installierte Paket enthält. Finde heraus, wo R auf deinem Computer installiert ist, und suche nach einem Ordner namens “win-library”. Zum Beispiel: <code>R\win-library\4.0</code> (die 4.0 ist die R-Version - für jede R-Version, die du heruntergeladen hast, hast du eine andere Bibliothek).</p>
<p>Du kannst den Dateipfad zu deiner Bibliothek ausgeben, indem du eingibst <code>.libPaths()</code>(leere Klammern). Dies ist besonders wichtig, wenn du mit [R auf Netzlaufwerken].</p>
</section>
<section id="von-cran-installieren" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="von-cran-installieren">Von CRAN installieren</h4>
<p>Am häufigsten laden R-Nutzer Pakete von CRAN herunter. CRAN (Comprehensive R Archive Network) ist ein öffentliches Online-Lager für R-Pakete, die von Mitgliedern der R-Community veröffentlicht wurden.</p>
<p>Machst du dir Sorgen über Viren und Sicherheit, wenn du ein Paket von CRAN herunterlädst? Lies <a href="https://support.rstudio.com/hc/en-us/articles/360042593974-R-and-R-Package-Security">diesen Artikel</a> zu diesem Thema.</p>
</section>
<section id="wie-man-installiert-und-lädt" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="wie-man-installiert-und-lädt">Wie man installiert und lädt</h4>
<p>In diesem Handbuch empfehlen wir die Verwendung des <strong>pacman</strong> Paket (kurz für “Paketmanager”). Es bietet eine praktische Funktion <code>p_load()</code> die bei Bedarf ein Paket installiert <em>und</em> für die Verwendung in der aktuellen R-Sitzung lädt.</p>
<p>Die Syntax ist ganz einfach. Du listest einfach die Namen der Pakete innerhalb der <code>p_load()</code> Klammern auf, getrennt durch Kommas. Dieser Befehl installiert die <strong>rio</strong>, <strong>tidyverse</strong>, und <strong>hier</strong> Pakete, wenn sie noch nicht installiert sind, und lädt sie zur Verwendung. Dies macht die <code>p_load()</code> Ansatz bequem und übersichtlich, wenn du Skripte mit anderen teilst. Beachte, dass bei den Paketnamen zwischen Groß- und Kleinschreibung unterschieden wird.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install (if necessary) and load packages for use</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(rio, tidyverse, here)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Beachte, dass wir die folgende Syntax verwendet haben <code>pacman::p_load()</code> verwendet haben, die den Paketnamen explizit schreibt (<strong>pacman</strong>) vor dem Funktionsnamen (<code>p_load()</code>), verbunden durch zwei Doppelpunkte <code>::</code>. Diese Syntax ist nützlich, weil sie auch die <strong>pacman</strong> Paket lädt (vorausgesetzt, es ist bereits installiert).</p>
<p>Es gibt alternative <strong>Basis</strong> R-Funktionen, die du oft sehen wirst. Die <strong>base</strong> R-Funktion für die Installation eines Pakets ist <code>install.packages()</code>. Der Name des zu installierenden Pakets muss in Klammern angegeben werden <em>in Anführungszeichen</em>. Wenn du mehrere Pakete in einem Befehl installieren willst, müssen sie in einem Zeichenvektor aufgeführt werden <code>c()</code>.</p>
<p>Hinweis: Dieser Befehl <em>installiert</em> ein Paket, führt aber <em>nicht</em> lädt es nicht zur Verwendung in der aktuellen Sitzung.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install a single package with base R</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install multiple packages with base R</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"rio"</span>, <span class="st">"here"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Installation kann auch per Mausklick durchgeführt werden, indem du im RStudio-Fenster “Pakete” auf “Installieren” klickst und nach dem gewünschten Paketnamen suchst.</p>
<p>Die <strong>Basis</strong> R Funktion zu <strong>zu laden</strong> ein Paket zur Verwendung zu laden (nachdem es installiert wurde), ist <code>library()</code>. Es kann immer nur ein Paket auf einmal laden (ein weiterer Grund für die Verwendung von <code>p_load()</code>). Du kannst den Paketnamen mit oder ohne Anführungszeichen angeben.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages for use, with base R</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Um zu überprüfen, ob ein Paket installiert und/oder geladen ist, kannst du den Bereich Pakete in RStudio anzeigen. Wenn das Paket installiert ist, wird es dort mit der Versionsnummer angezeigt. Wenn das Kästchen markiert ist, ist es für die aktuelle Sitzung geladen.</p>
<p><strong>Von Github installieren</strong></p>
<p>Manchmal musst du ein Paket installieren, das noch nicht bei CRAN verfügbar ist. Oder vielleicht ist das Paket auf CRAN verfügbar, aber du möchtest die <em>Entwicklungsversion</em> mit neuen Funktionen, die in der stabileren, veröffentlichten CRAN-Version noch nicht enthalten sind. Diese werden oft auf der Website zur Verfügung gestellt <a href="https://github.com/">github.de</a>in einem freien, öffentlich zugänglichen Code-“Repository”. Mehr über Github erfährst du auf der Handbuchseite zu [Versionskontrolle und Zusammenarbeit mit Git und Github].</p>
<p>Um R-Pakete von Github herunterzuladen, kannst du die Funktion <code>p_load_gh()</code> von <strong>pacman</strong> das Paket, falls nötig, installieren und für die Verwendung in deiner aktuellen R-Sitzung laden. Eine Alternative zur Installation ist die Verwendung des <strong>remotes</strong> oder <strong>devtools</strong> Pakete. Lies mehr über alle <strong>pacman</strong> Funktionen in der <a href="https://cran.r-project.org/web/packages/pacman/pacman.pdf">Paket-Dokumentation</a>.</p>
<p>Um von Github zu installieren, musst du weitere Informationen angeben. Du musst Folgendes angeben:</p>
<ol type="1">
<li>Die Github-ID des Besitzers des Repositorys</li>
<li>Der Name des Repositorys, das das Paket enthält.</li>
<li><em>(optional) Der Name des “Branch” (spezifische Entwicklungsversion), den du herunterladen möchtest</em></li>
</ol>
<p>In den folgenden Beispielen ist das erste Wort in den Anführungszeichen die Github-ID des Repository-Besitzers, nach dem Schrägstrich steht der Name des Repositorys (der Name des Pakets).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install/load the epicontacts package from its Github repository</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load_gh</span>(<span class="st">"reconhub/epicontacts"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn du von einem anderen “Zweig” (Version) als dem Hauptzweig installieren willst, füge den Namen des Zweigs nach einem “@” hinter dem Namen des Repositorys ein.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install the "timeline" branch of the epicontacts package from Github</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load_gh</span>(<span class="st">"reconhub/epicontacts@timeline"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn es keinen Unterschied zwischen der Github-Version und der Version auf deinem Computer gibt, wird nichts unternommen. Du kannst eine Neuinstallation “erzwingen”, indem du stattdessen <code>p_load_current_gh()</code> mit dem Argument <code>update = TRUE</code>. Lies mehr über <strong>pacman</strong> in diesem <a href="http://trinker.github.io/pacman/vignettes/Introduction_to_pacman.html">Online-Vignette</a></p>
<p><strong>Aus ZIP oder TAR installieren</strong></p>
<p>Du kannst das Paket auch von einer URL aus installieren:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>packageurl <span class="ot">&lt;-</span> <span class="st">"https://cran.r-project.org/src/contrib/Archive/dsr/dsr_0.2.2.tar.gz"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(packageurl, <span class="at">repos=</span><span class="cn">NULL</span>, <span class="at">type=</span><span class="st">"source"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oder du lädst es in einer gezippten Datei auf deinen Computer herunter:</p>
<p>Option 1: mit <code>install_local()</code> von der <strong>Fernbedienungen</strong> Paket</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_local</span>(<span class="st">"~/Downloads/dplyr-master.zip"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Option 2: mit <code>install.packages()</code> von <strong>Basis</strong> R, gibt den Dateipfad zur ZIP-Datei an und setzt <code>type = "source</code> und <code>repos = NULL</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"~/Downloads/dplyr-master.zip"</span>, <span class="at">repos=</span><span class="cn">NULL</span>, <span class="at">type=</span><span class="st">"source"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="code-syntax" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="code-syntax">Code-Syntax</h3>
<p>Aus Gründen der Übersichtlichkeit wird in diesem Handbuch den Funktionen manchmal der Name ihres Pakets vorangestellt, indem die <code>::</code> Symbol in der folgenden Weise vorangestellt: <code>package_name::function_name()</code></p>
<p>Sobald ein Paket für eine Sitzung geladen ist, ist dieser explizite Stil nicht mehr nötig. Man kann einfach verwenden <code>function_name()</code>. Die Angabe des Paketnamens ist jedoch nützlich, wenn ein Funktionsname häufig vorkommt und möglicherweise in mehreren Paketen vorhanden ist (z. B. <code>plot()</code>). Wenn du den Paketnamen angibst, wird das Paket auch geladen, wenn es noch nicht geladen ist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This command uses the package "rio" and its function "import()" to import a dataset</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"linelist.xlsx"</span>, <span class="at">which =</span> <span class="st">"Sheet1"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="funktion-hilfe" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="funktion-hilfe">Funktion Hilfe</h3>
<p>Um mehr über eine Funktion zu erfahren, kannst du sie auf der Registerkarte Hilfe im RStudio unten rechts suchen. Du kannst auch einen Befehl ausführen wie <code>?thefunctionname</code> (gib den Namen der Funktion nach einem Fragezeichen ein) und die Hilfeseite wird im Hilfefenster angezeigt. Schließlich kannst du auch online nach Ressourcen suchen.</p>
</section>
<section id="pakete-aktualisieren" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="pakete-aktualisieren">Pakete aktualisieren</h3>
<p>Du kannst Pakete aktualisieren, indem du sie neu installierst. Du kannst auch auf die grüne Schaltfläche “Aktualisieren” in deinem RStudio-Paketfenster klicken, um zu sehen, welche Pakete neue Versionen haben, die du installieren kannst. Sei dir bewusst, dass dein alter Code möglicherweise aktualisiert werden muss, wenn sich die Funktionsweise einer Funktion grundlegend geändert hat!</p>
</section>
<section id="pakete-löschen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="pakete-löschen">Pakete löschen</h3>
<p>Verwende <code>p_delete()</code> von <strong>pacman</strong>, oder <code>remove.packages()</code> von <strong>Basis</strong> R. Alternativ kannst du auch den Ordner suchen, der deine Bibliothek enthält, und diesen Ordner manuell löschen.</p>
</section>
<section id="abhängigkeiten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="abhängigkeiten">Abhängigkeiten</h3>
<p>Pakete hängen oft von anderen Paketen ab, damit sie funktionieren. Diese werden als Abhängigkeiten bezeichnet. Wenn eine Abhängigkeit nicht installiert werden kann, kann auch das Paket, das von ihr abhängt, nicht installiert werden.</p>
<p>Die Abhängigkeiten eines Pakets kannst du mit <code>p_depends()</code> und welche Pakete von ihm abhängen mit <code>p_depends_reverse()</code></p>
</section>
<section id="maskierte-funktionen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="maskierte-funktionen">Maskierte Funktionen</h3>
<p>Es ist nicht ungewöhnlich, dass zwei oder mehr Pakete denselben Funktionsnamen enthalten. Zum Beispiel kann das Paket <strong>dplyr</strong> hat eine <code>filter()</code> Funktion, aber auch das Paket <strong>stats</strong>. Die Standard <code>filter()</code> Funktion hängt von der Reihenfolge ab, in der diese Pakete zum ersten Mal in die R-Sitzung geladen werden - die spätere Funktion wird die Standardfunktion für den Befehl <code>filter()</code>.</p>
<p>Du kannst die Reihenfolge in deinem Umgebungsfenster in R Studio überprüfen - klicke auf das Dropdown-Menü für “Globale Umgebung” und sieh dir die Reihenfolge der Pakete an. Funktionen aus Paketen <em>unter</em> auf der Dropdown-Liste maskieren Funktionen desselben Namens in Paketen, die weiter oben in der Dropdown-Liste stehen. Wenn du ein Paket zum ersten Mal lädst, warnt dich R in der Konsole, wenn eine Maskierung stattfindet, aber das kann man leicht übersehen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/masking_functions.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="../images/masking_functions.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Hier sind einige Möglichkeiten, wie du die Maskierung beheben kannst:</p>
<ol type="1">
<li>Gib den Paketnamen im Befehl an. Verwende zum Beispiel <code>dplyr::filter()</code>\</li>
<li>Ändern Sie die Reihenfolge, in der die Pakete geladen werden (z. B. innerhalb <code>p_load()</code>), und <strong>starte eine neue R-Sitzung</strong></li>
</ol>
</section>
<section id="lösen-entladen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="lösen-entladen">Lösen / Entladen</h3>
<p>Um ein Paket zu lösen (zu entladen), verwende diesen Befehl mit dem richtigen Paketnamen und nur einem Doppelpunkt. Beachte, dass dies die Maskierung möglicherweise nicht auflöst.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(package<span class="sc">:</span>PACKAGE_NAME_HERE, <span class="at">unload=</span><span class="cn">TRUE</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ältere-version-installieren" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="ältere-version-installieren">Ältere Version installieren</h3>
<p>Siehe dies <a href="https://support.rstudio.com/hc/en-us/articles/219949047-Installing-older-versions-of-packages">Leitfaden</a> um eine ältere Version eines bestimmten Pakets zu installieren.</p>
</section>
<section id="vorgeschlagene-pakete" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="vorgeschlagene-pakete">Vorgeschlagene Pakete</h3>
<p>Siehe die Seite über [Empfohlene Pakete] findest du eine Liste der Pakete, die wir für den epidemiologischen Alltag empfehlen.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="scripts" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="scripts"><span class="header-section-number">3.8</span> Skripte</h2>
<p>Skripte sind ein grundlegender Bestandteil der Programmierung. Sie sind Dokumente, die deine Befehle enthalten (z. B. Funktionen zum Erstellen und Ändern von Datensätzen, Drucken von Visualisierungen usw.). Du kannst ein Skript speichern und es später wieder ausführen. Es hat viele Vorteile, wenn du deine Befehle in einem Skript speicherst und ausführst (im Gegensatz zu der Möglichkeit, die Befehle einzeln in die “Befehlszeile” der R-Konsole einzugeben):</p>
<ul>
<li>Übertragbarkeit - du kannst deine Arbeit mit anderen teilen, indem du ihnen deine Skripte schickst.</li>
<li>Reproduzierbarkeit - damit du und andere genau wissen, was du gemacht hast\</li>
<li>Versionskontrolle - damit du Änderungen, die du selbst oder Kollegen vorgenommen haben, nachverfolgen kannst\</li>
<li>Kommentare/Anmerkungen - um deinen Kollegen zu erklären, was du getan hast</li>
</ul>
<section id="kommentieren" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="kommentieren">Kommentieren</h3>
<p>In einem Skript kannst du auch Anmerkungen (“Kommentare”) zu deinem R-Code machen. Das Kommentieren ist hilfreich, um dir und anderen Lesern zu erklären, was du tust. Du kannst einen Kommentar hinzufügen, indem du das Rautezeichen (#) eingibst und deinen Kommentar dahinter schreibst. Der kommentierte Text wird in einer anderen Farbe als der R-Code angezeigt.</p>
<p>Jeder Code, der nach dem # geschrieben wird, wird nicht ausgeführt. Daher ist das # vor dem Code auch eine nützliche Methode, um eine Codezeile vorübergehend zu blockieren (“auskommentieren”), wenn du sie nicht löschen willst). Du kannst mehrere Zeilen auf einmal auskommentieren, indem du sie markierst und Strg+Umschalt+c drückst (Cmd+Umschalt+c auf dem Mac).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A comment can be on a line by itself</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import data</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.xlsx"</span>) <span class="sc">%&gt;%</span>   <span class="co"># a comment can also come after code</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(age &gt; 50)                          # It can also be used to deactivate / remove a line of code</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Auskommentieren <em>was</em> was du tust <em>und auf <strong>warum</strong> du es tust</em>.\</li>
<li>Unterteile deinen Code in logische Abschnitte\</li>
<li>Begleite deinen Code mit einer textlichen Schritt-für-Schritt-Beschreibung dessen, was du tust (z.B. mit nummerierten Schritten)</li>
</ul>
</section>
<section id="stil" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="stil">Stil</h3>
<p>Es ist wichtig, dass du dir deines Coding-Stils bewusst bist - vor allem, wenn du im Team arbeitest. Wir plädieren für die <strong>tidyverse</strong> <a href="https://style.tidyverse.org/">Styleguide</a>. Es gibt auch Pakete wie <strong>styler</strong> und <strong>lintr</strong> die dir helfen, dich an diesen Stil anzupassen.</p>
<p>Ein paar sehr grundlegende Punkte, um deinen Code für andere lesbar zu machen:<br>
* Verwende bei der Benennung von Objekten nur Kleinbuchstaben, Zahlen und Unterstriche. <code>_</code> z.B.. <code>my_data</code><br>
* Verwende häufig Leerzeichen, auch um Operatoren herum, z. B. <code>n = 1</code> und <code>age_new &lt;- age_old + 3</code></p>
</section>
<section id="beispiel-skript" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="beispiel-skript">Beispiel Skript</h3>
<p>Im Folgenden findest du ein Beispiel für ein kurzes R-Skript. Denk daran: Je besser du deinen Code in den Kommentaren erklärst, desto mehr werden dich deine Kollegen mögen!</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/example_script.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="../images/example_script.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section>
<section id="r-markdown" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r-markdown">R Markdown</h3>
<p>Ein R Markdown-Skript ist eine Art von R-Skript, bei dem das Skript selbst <em>wird.</em> ein Ausgabedokument (PDF, Word, HTML, Powerpoint, etc.) wird. Dies sind unglaublich nützliche und vielseitige Werkzeuge, die oft zur Erstellung dynamischer und automatisierter Berichte verwendet werden. Sogar diese Website und dieses Handbuch wurden mit R-Markdown-Skripten erstellt!</p>
<p>Es sei darauf hingewiesen, dass auch R-Anfänger/innen R Markdown verwenden können - lass dich nicht einschüchtern! Mehr dazu erfährst du auf der Handbuchseite über [Berichte mit R Markdown] Dokumente.</p>
<!-- ======================================================= -->
</section>
<section id="r-notebooks" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r-notebooks">R-Notebooks</h3>
<p>Es gibt keinen Unterschied zwischen dem Schreiben in einem Rmarkdown und einem R-Notebook. Die Ausführung des Dokuments unterscheidet sich jedoch leicht. Siehe dies <a href="http://uc-r.github.io/r_notebook">Seite</a> für weitere Details.</p>
<!-- ======================================================= -->
</section>
<section id="glänzend" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="glänzend">Glänzend</h3>
<p>Shiny-Apps/Websites sind in einem Skript enthalten, das folgendermaßen benannt werden muss <code>app.R</code>. Diese Datei hat drei Komponenten:</p>
<ol type="1">
<li>Eine Benutzeroberfläche (ui)\</li>
<li>Eine Serverfunktion\</li>
<li>Ein Aufruf der <code>shinyApp</code> Funktion</li>
</ol>
<p>Siehe die Handbuchseite über [Dashboards mit Shiny] oder dieses Online-Tutorial :<a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/">Shiny-Tutorial</a></p>
<p><em>Früher wurde die obige Datei in zwei Dateien aufgeteilt (<code>ui.R</code> und <code>server.R</code>)</em></p>
</section>
<section id="code-falten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="code-falten">Code falten</h3>
<p>Du kannst Teile des Codes einklappen, damit dein Skript leichter zu lesen ist.</p>
<p>Dazu erstellst du eine Textüberschrift mit #, schreibst deine Überschrift und folgst ihr mit mindestens 4 Bindestrichen (-), Raute (#) oder Gleichheitszeichen (=). Wenn du das getan hast, erscheint ein kleiner Pfeil in der “Rinne” links (neben der Zeilennummer). Du kannst auf diesen Pfeil und den Code darunter klicken, bis die nächste Überschrift eingeklappt wird und an ihrer Stelle ein Doppelpfeil-Symbol erscheint.</p>
<p>Um den Code zu erweitern, klickst du entweder erneut auf den Pfeil im Zwischenraum oder auf das Doppelpfeil-Symbol. Es gibt auch Tastenkombinationen, die im Abschnitt <a href="#rstudio">Abschnitt RStudio</a> auf dieser Seite erklärt werden.</p>
<p>Wenn du Überschriften mit # erstellst, aktivierst du auch das Inhaltsverzeichnis am Ende deines Skripts (siehe unten), das du zur Navigation in deinem Skript verwenden kannst. Du kannst Unterüberschriften erstellen, indem du weitere #-Symbole hinzufügst, zum Beispiel # für primäre, ## für sekundäre und ### für tertiäre Überschriften.</p>
<p>Im Folgenden findest du zwei Versionen eines Beispielskripts. Links ist das Original mit kommentierten Überschriften. Auf der rechten Seite wurden nach jeder Überschrift vier Bindestriche geschrieben, damit sie eingeklappt werden können. Zwei von ihnen wurden eingeklappt, und du kannst sehen, dass das Inhaltsverzeichnis am unteren Rand nun jeden Abschnitt anzeigt.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/code_folding1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="../images/code_folding1.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/code_folding2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="../images/code_folding2.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Andere Bereiche des Codes, die automatisch eingeklappt werden können, sind z. B. “verklammerte” Bereiche mit Klammern <code>{ }</code> wie Funktionsdefinitionen oder bedingte Blöcke (if else-Anweisungen). Mehr über die Codefaltung erfährst du in der RStudio <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections">Seite</a>.</p>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="arbeitsverzeichnis" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="arbeitsverzeichnis"><span class="header-section-number">3.9</span> Arbeitsverzeichnis</h2>
<p>Das Arbeitsverzeichnis ist der Stammordner, den R für deine Arbeit verwendet und in dem R standardmäßig nach Dateien sucht und sie speichert. Standardmäßig speichert R neue Dateien und Ausgaben an diesem Ort und sucht hier auch nach zu importierenden Dateien (z. B. Datensätzen).</p>
<p>Das Arbeitsverzeichnis wird in grauer Schrift oben in der RStudio-Konsole angezeigt. Du kannst das aktuelle Arbeitsverzeichnis auch ausdrucken, indem du <code>getwd()</code> (lass die Klammern leer).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/working_directory_1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="../images/working_directory_1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<section id="empfohlener-ansatz" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="empfohlener-ansatz">Empfohlener Ansatz</h3>
<p><strong>Siehe die Seite über [R-Projekte] für Details zu unserer empfohlenen Vorgehensweise bei der Verwaltung deines Arbeitsverzeichnisses.</strong><br>
Eine gängige, effiziente und problemlose Methode zur Verwaltung deines Arbeitsverzeichnisses und deiner Dateipfade ist die Kombination dieser 3 Elemente in einem [R-Projekt][R-Projekte]-orientierter Arbeitsablauf:</p>
<ol type="1">
<li>Ein R Projekt, in dem du alle deine Dateien speicherst (siehe Seite über [R-Projekte])<br>
</li>
<li>Die <strong>hier</strong>Paket, um Dateien zu finden (siehe Seite über [Importieren und Exportieren])<br>
</li>
<li>Die <strong>rio</strong>Paket, um Dateien zu importieren/exportieren (siehe Seite über [Importieren und Exportieren])</li>
</ol>
<!-- ======================================================= -->
</section>
<section id="per-befehl-einstellen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="per-befehl-einstellen">Per Befehl einstellen</h3>
<p>Bis vor kurzem wurde vielen, die R lernten, beigebracht, ihre Skripte mit einem <code>setwd()</code>Befehl zu beginnen. Bitte erwäge stattdessen, ein [R-Projekt][R-Projekte]-orientierten Arbeitsablauf und lies die<a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">Gründe für die Nichtverwendung von <code>setwd()</code></a>. Kurz gesagt, deine Arbeit wird spezifisch für deinen Computer, die Dateipfade, die zum Importieren und Exportieren von Dateien verwendet werden, werden “brüchig”, und das erschwert die Zusammenarbeit und die Verwendung deines Codes auf anderen Computern erheblich. Es gibt einfache Alternativen!</p>
<p>Wie bereits erwähnt, empfehlen wir diesen Ansatz in den meisten Fällen zwar nicht, aber du kannst den Befehl <code>setwd()</code> mit dem gewünschten Ordner-Dateipfad in Anführungszeichen verwenden, zum Beispiel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Documents/R Files/My analysis"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>[<strong><em>GEFAHR!</em></strong> Das Setzen eines Arbeitsverzeichnisses mit <code>setwd()</code> <em>kann</em> spröde sein, wenn der Dateipfad nur für einen bestimmten Computer gilt. Verwende stattdessen Dateipfade relativ zu einem R-Projekt-Stammverzeichnis (mit dem <strong>hier</strong> Paket). ]{style=“color: red;”}</p>
<!-- ======================================================= -->
</section>
<section id="manuell-einstellen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="manuell-einstellen">Manuell einstellen</h3>
<p>Um das Arbeitsverzeichnis manuell festzulegen (das Zeigen-und-Klicken-Äquivalent von <code>setwd()</code>), klickst du auf das Dropdown-Menü Sitzung und wählst “Arbeitsverzeichnis festlegen” und dann “Verzeichnis wählen”. Dadurch wird das Arbeitsverzeichnis für diese spezielle R-Sitzung festgelegt. Hinweis: Wenn du diesen Weg wählst, musst du dies jedes Mal manuell tun, wenn du RStudio öffnest.</p>
<!-- ======================================================= -->
</section>
<section id="innerhalb-eines-r-projekts" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="innerhalb-eines-r-projekts">Innerhalb eines R-Projekts</h3>
<p>Wenn du ein R-Projekt verwendest, ist das Arbeitsverzeichnis standardmäßig das Stammverzeichnis des R-Projekts, das die “.rproj”-Datei enthält. Dies gilt, wenn du RStudio öffnest, indem du auf “R-Projekt öffnen” klickst (die Datei mit der Erweiterung “.rproj”).</p>
<!-- ======================================================= -->
</section>
<section id="arbeitsverzeichnis-in-einem-r-markdown" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="arbeitsverzeichnis-in-einem-r-markdown">Arbeitsverzeichnis in einem R Markdown</h3>
<p>In einem R-Markdown-Skript ist das Standardarbeitsverzeichnis der Ordner, in dem die R-Markdown-Datei (<code>.Rmd</code>) gespeichert wird. Wenn du ein R-Projekt verwendest und <strong>hier</strong> Paket verwenden, gilt dies nicht und das Arbeitsverzeichnis ist <code>here()</code>wie im Abschnitt [R-Projekte] Seite erklärt wird.</p>
<p>Wenn du das Arbeitsverzeichnis eines eigenständigen R-Markdowns (nicht in einem R-Projekt) ändern willst, musst du <code>setwd()</code> verwendest, gilt dies nur für diesen speziellen Codechunk. Um die Änderung für alle Code Chunks in einem R Markdown vorzunehmen, bearbeite den Setup Chunk und füge die <code>root.dir =</code> Parameter hinzu, z. B. wie unten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">'desired/directorypath'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Es ist viel einfacher, einfach den R-Markdown innerhalb eines R-Projekts zu verwenden und die <strong>hier</strong> Paket zu verwenden.</p>
<!-- ======================================================= -->
</section>
<section id="dateipfade-bereitstellen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dateipfade-bereitstellen">Dateipfade bereitstellen</h3>
<p>Die vielleicht häufigste Quelle der Frustration für einen R-Anfänger (zumindest auf einem Windows-Rechner) ist die Eingabe eines Dateipfads für den Import oder Export von Daten. Eine ausführliche Erklärung, wie du Dateipfade am besten eingibst, findest du in der [Importieren und Exportieren] Seite, aber hier sind ein paar wichtige Punkte:</p>
<p><strong>Gebrochene Pfade</strong></p>
<p>Im Folgenden findest du ein Beispiel für einen “absoluten” oder “vollständigen” Dateipfad. Diese Pfade werden wahrscheinlich nicht funktionieren, wenn sie von einem anderen Computer verwendet werden. Eine Ausnahme ist, wenn du ein gemeinsam genutztes Laufwerk oder ein Netzlaufwerk verwendest.</p>
<pre><code>C:/Users/Name/Document/Analytic Software/R/Projects/Analysis2019/data/March2019.csv  </code></pre>
<p><strong>Schrägstrich Richtung</strong></p>
<p><em>Wenn du einen Dateipfad eingibst, achte auf die Richtung der Schrägstriche.</em> Verwende <em>Schrägstriche</em> (<code>/</code>), um die Komponenten zu trennen (“data/provincial.csv”). Für Windows-Benutzer werden die Dateipfade standardmäßig wie folgt angezeigt <em>Schrägstrichen</em> (\) - du musst also die Richtung der einzelnen Schrägstriche ändern. Wenn du den <strong>hier</strong>Paket wie in den [R-Projekte] Seite beschrieben ist, spielt die Schrägstrichrichtung keine Rolle.</p>
<p><strong>Relative Dateipfade</strong></p>
<p>Wir empfehlen generell, stattdessen “relative” Dateipfade anzugeben - das heißt, den Pfad <em>relativ zu</em> dem Stammverzeichnis deines R-Projekts. Du kannst dies mit der Option <strong>hier</strong>Paket, wie es in den [R-Projekte] Seite erklärt wird. Ein relativer Dateipfad könnte wie folgt aussehen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import csv linelist from the data/linelist/clean/ sub-folders of an R project</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"linelists"</span>, <span class="st">"marin_country.csv"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Auch wenn du relative Dateipfade innerhalb eines R-Projekts verwendest, kannst du trotzdem absolute Pfade verwenden, um Daten außerhalb deines R-Projekts zu importieren/exportieren.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="objects" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="objects"><span class="header-section-number">3.10</span> Objekte</h2>
<p>Alles in R ist ein Objekt, und R ist eine “objektorientierte” Sprache. In diesen Abschnitten wird erklärt:</p>
<ul>
<li>Wie man Objekte erstellt (<code>&lt;-</code>)</li>
<li>Arten von Objekten (z.B. Datenrahmen, Vektoren…)\</li>
<li>Wie man auf Teilbereiche von Objekten zugreift (z.B. Variablen in einem Datensatz)\</li>
<li>Klassen von Objekten (z. B. numerisch, logisch, ganzzahlig, doppelt, Zeichen, Faktor)</li>
</ul>
<!-- ======================================================= -->
<section id="alles-ist-ein-objekt" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="alles-ist-ein-objekt">Alles ist ein Objekt</h3>
<p><em>Dieser Abschnitt ist an die <a href="https://r4epis.netlify.app/training/r_basics/objects/">R4Epis Projekt</a>.</em><br>
Alles, was du in R speicherst - Datensätze, Variablen, eine Liste von Dorfnamen, eine Gesamtbevölkerungszahl, sogar Ausgaben wie Diagramme - sind <strong>Objekte</strong> die <strong>einen Namen zugewiesen bekommen</strong> und <strong>kann referenziert werden</strong> in späteren Befehlen.</p>
<p>Ein Objekt existiert, wenn du ihm einen Wert zugewiesen hast (siehe Abschnitt “Zuweisung” weiter unten). Wenn ihm ein Wert zugewiesen wird, erscheint das Objekt in der Umgebung (siehe den oberen rechten Bereich von RStudio). Es kann dann bearbeitet, manipuliert, verändert und neu definiert werden.</p>
<!-- ======================================================= -->
</section>
<section id="das-definieren-von-objekten--" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="das-definieren-von-objekten--">Das Definieren von Objekten (<code>&lt;-</code>)</h3>
<p><strong>Objekte erstellen <em>indem du ihnen einen Wert zuweist</em> mit dem &lt;- Operator.</strong><br>
Du kannst dir den Zuweisungsoperator so vorstellen <code>&lt;-</code> als die Worte “ist definiert als”. Zuweisungsbefehle folgen im Allgemeinen einer Standardreihenfolge:</p>
<p><strong>Objekt_name</strong> &lt;- <strong>Wert</strong> (oder Prozess/Berechnung, die einen Wert erzeugt)</p>
<p>Du möchtest zum Beispiel die aktuelle epidemiologische Meldewoche als Objekt aufzeichnen, auf das du in einem späteren Code Bezug nehmen kannst. In diesem Beispiel wird das Objekt <code>current_week</code> erstellt, wenn es mit dem Wert <code>"2018-W10"</code> zugewiesen wird (die Anführungszeichen machen dies zu einem Zeichenwert). Das Objekt <code>current_week</code> wird dann im RStudio-Umgebungsfenster (oben rechts) angezeigt und kann in späteren Befehlen referenziert werden.</p>
<p>Die R-Befehle und ihre Ausgabe findest du in den Kästen unten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>current_week <span class="ot">&lt;-</span> <span class="st">"2018-W10"</span>   <span class="co"># this command creates the object current_week by assigning it a value</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>current_week                 <span class="co"># this command prints the current value of current_week object in the console</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-W10"</code></pre>
</div>
</div>
<p>[<strong><em>HINWEIS:</em></strong> Beachte die <code>[1]</code> in der R-Konsolenausgabe zeigt lediglich an, dass du das erste Element der Ausgabe siehst]{style=“color: black;”}</p>
<p>[<strong><em>VORSICHT!</em></strong> <strong>Der Wert eines Objekts kann überschrieben werden</strong> jederzeit überschrieben werden, indem ein Zuweisungsbefehl ausgeführt wird, um seinen Wert neu zu definieren. Daher kann der <strong>Reihenfolge der ausgeführten Befehle sehr wichtig</strong>.]{style=“color: orange;”}</p>
<p>Der folgende Befehl definiert den Wert von <code>current_week</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>current_week <span class="ot">&lt;-</span> <span class="st">"2018-W51"</span>   <span class="co"># assigns a NEW value to the object current_week</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>current_week                 <span class="co"># prints the current value of current_week in the console</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-W51"</code></pre>
</div>
</div>
<p><strong>Gleiche Zeichen <code>=</code></strong></p>
<p>Du wirst auch Gleichheitszeichen im R-Code sehen:</p>
<ul>
<li>Ein doppeltes Gleichheitszeichen <code>==</code> zwischen zwei Objekten oder Werten stellt eine logische <em>Frage</em>: “Ist dies gleich jenem?”.\</li>
<li>Du wirst auch Gleichheitszeichen innerhalb von Funktionen sehen, die verwendet werden, um Werte von Funktionsargumenten anzugeben (lies dazu die folgenden Abschnitte), zum Beispiel <code>max(age, na.rm = TRUE)</code>.\</li>
<li>Du <em>kannst</em> ein einzelnes Gleichheitszeichen verwenden <code>=</code> anstelle von <code>&lt;-</code> um Objekte zu erstellen und zu definieren, aber davon wird abgeraten. Warum dies nicht empfehlenswert ist, kannst du nachlesen <a href="https://renkun.me/2014/01/28/difference-between-assignment-operators-in-r/">hier</a>.</li>
</ul>
<p><strong>Datensätze</strong></p>
<p>Datensätze sind ebenfalls Objekte (in der Regel “Datenrahmen”) und müssen beim Import mit Namen versehen werden. Im folgenden Code wird das Objekt <code>linelist</code> erstellt und mit dem Wert einer CSV-Datei versehen, die mit dem Befehl <strong>rio</strong> Paket importiert wurde und dessen <code>import()</code> Funktion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># linelist is created and assigned the value of the imported CSV file</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"my_linelist.csv"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Mehr über das Importieren und Exportieren von Datensätzen erfährst du in dem Abschnitt über [Import und Export].</p>
<p>[<strong><em>VORSICHT!</em></strong> Ein kurzer Hinweis zur Benennung von Objekten:]{style=“color: orange;”}</p>
<ul>
<li>Objektnamen dürfen keine Leerzeichen enthalten, aber du solltest einen Unterstrich (_) oder einen Punkt (.) anstelle eines Leerzeichens verwenden.\</li>
<li>Bei Objektnamen wird zwischen Groß- und Kleinschreibung unterschieden (d.h. Dataset_A ist anders als dataset_A).</li>
<li>Objektnamen müssen mit einem Buchstaben beginnen (sie dürfen nicht mit einer Zahl wie 1, 2 oder 3 beginnen).</li>
</ul>
<p><strong>Ausgänge</strong></p>
<p>Ausgaben wie Tabellen und Diagramme sind ein Beispiel dafür, wie Ausgaben als Objekte gespeichert oder einfach ausgedruckt werden können, ohne gespeichert zu werden. Eine Kreuztabellierung von Geschlecht und Ergebnis unter Verwendung der <strong>Basis</strong> R-Funktion <code>table()</code> kann direkt auf der R-Konsole ausgegeben werden (<em>ohne</em> gespeichert werden).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># printed to R console only</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(linelist<span class="sc">$</span>gender, linelist<span class="sc">$</span>outcome)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Death Recover
  f  1227     953
  m  1228     950</code></pre>
</div>
</div>
<p>Die gleiche Tabelle kann aber auch als benanntes Objekt gespeichert werden. Dann kann sie optional auch gedruckt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>gen_out_table <span class="ot">&lt;-</span> <span class="fu">table</span>(linelist<span class="sc">$</span>gender, linelist<span class="sc">$</span>outcome)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>gen_out_table</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Death Recover
  f  1227     953
  m  1228     950</code></pre>
</div>
</div>
<p><strong>Spalten</strong></p>
<p>Spalten in einem Datensatz sind ebenfalls Objekte und können definiert, überschrieben und erstellt werden, wie unten im Abschnitt über Spalten beschrieben.</p>
<p>Du kannst den Zuweisungsoperator von <strong>Basis</strong> R verwenden, um eine neue Spalte zu erstellen. Unten wird die neue Spalte <code>bmi</code> (Body Mass Index) erstellt, und für jede Zeile ist der neue Wert das Ergebnis einer mathematischen Operation auf den Zeilenwert in der Spalte <code>wt_kg</code> und <code>ht_cm</code> Spalten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create new "bmi" column using base R syntax</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>linelist<span class="sc">$</span>bmi <span class="ot">&lt;-</span> linelist<span class="sc">$</span>wt_kg <span class="sc">/</span> (linelist<span class="sc">$</span>ht_cm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In diesem Handbuch betonen wir jedoch einen anderen Ansatz zur Definition von Spalten, der die Funktion <code>mutate()</code> aus der <strong>dplyr</strong> Paket und <em>Rohrleitungen</em> mit dem Pipe-Operator (<code>%&gt;%</code>). Die Syntax ist einfacher zu lesen und es gibt weitere Vorteile, die auf der Seite über [Bereinigung von Daten und Kernfunktionen]. Du kannst mehr lesen über<em>Rohrleitungen</em> in dem Abschnitt Rohrleitungen weiter unten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create new "bmi" column using dplyr syntax</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bmi =</span> wt_kg <span class="sc">/</span> (ht_cm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="objektstruktur" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="objektstruktur">Objektstruktur</h3>
<p><strong>Objekte können ein einzelnes Datenelement sein (z. B. <code>my_number &lt;- 24</code>), oder sie können aus strukturierten Daten bestehen.</strong></p>
<p>Die folgende Grafik stammt aus <a href="http://venus.ifca.unican.es/Rintro/dataStruct.html">diesem Online-R-Tutorial</a>. Es zeigt einige gängige Datenstrukturen und ihre Namen. Nicht enthalten in diesem Bild sind räumliche Daten, die im Abschnitt [GIS-Grundlagen] Seite behandelt werden.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/R_data_structures.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="../images/R_data_structures.png" class="quarto-figure quarto-figure-center figure-img" style="width:75.0%;height:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>In der Epidemiologie (und insbesondere in der Feldepidemiologie) wirst du <em>in der Regel</em> Datenrahmen und Vektoren begegnen:</p>
<p>+——————+————————————————————————————————–+————————————————————————————-+ | Gemeinsame Struktur | Erläuterung | Beispiel | +==================+==================================================================================================+=====================================================================================+ | Vektoren | Ein Container für eine Folge von einzelnen Objekten, die alle der gleichen Klasse angehören (z. B. Zahlen, Zeichen). | <strong>“Variablen” (Spalten) in Datenrahmen sind Vektoren</strong> (z. B. die Spalte <code>age_years</code>). | +——————+————————————————————————————————–+————————————————————————————-+ | Datenrahmen | Vektoren (z. B. Spalten), die miteinander verbunden sind und alle die gleiche Anzahl von Zeilen haben. | <code>linelist</code> ist ein Datenrahmen. | +——————+————————————————————————————————–+————————————————————————————-+</p>
<p>Um einen Vektor zu erstellen, der für sich alleine steht (nicht Teil eines Datenrahmens ist), muss die Funktion <code>c()</code> verwendet wird, um die verschiedenen Elemente zu kombinieren. Wenn du zum Beispiel einen Vektor mit der Farbskala eines Plots erstellst: <code>vector_of_colors &lt;- c("blue", "red2", "orange", "grey")</code></p>
<!-- ======================================================= -->
</section>
<section id="objektklassen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="objektklassen">Objektklassen</h3>
<p>Alle in R gespeicherten Objekte haben eine <em>Klasse</em> die R sagt, wie das Objekt zu behandeln ist. Es gibt viele mögliche Klassen, aber die gängigsten sind:</p>
<p>+————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Klasse | Erläuterung | Beispiele | +============+=========================================================================================================================================================================================+=======================================================================================================+ | Zeichen | Dies sind Texte/Wörter/Sätze <strong>“innerhalb von Anführungszeichen”</strong>. Mathe kann mit diesen Objekten nicht durchgeführt werden. | “Zeichenobjekte stehen in Anführungszeichen” | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Integer | Zahlen, die <strong>nur ganz</strong> (keine Dezimalzahlen) | -5, 14, oder 2000 | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Numerisch | Dies sind Zahlen und <strong>können Nachkommastellen enthalten</strong>. Wenn sie in Anführungszeichen stehen, werden sie als Zeichenklasse betrachtet. | 23.1 oder 14 | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Faktor | Dies sind Vektoren, die eine <strong>bestimmte Ordnung</strong> oder Hierarchie von Werten | Eine Variable des wirtschaftlichen Status mit geordneten Werten | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Datum | <strong>Sobald R mitgeteilt wird, dass bestimmte Daten Dates sind</strong>sind, können diese Daten auf besondere Weise manipuliert und angezeigt werden. Siehe die Seite über [Arbeiten mit Daten] für weitere Informationen. | 2018-04-12 oder 15/3/1954 oder Mi 4 Jan 1980 | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Logisch | Werte müssen einen der beiden speziellen Werte TRUE oder FALSE sein (beachte, dass diese <strong>nicht</strong> “TRUE” und “FALSE” in Anführungszeichen) | TRUE oder FALSE | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | data.frame | Ein Datenrahmen ist die Art und Weise, wie R eine <strong>typischen Datensatz</strong>. Er besteht aus miteinander verbundenen Datenvektoren (Spalten), die alle die gleiche Anzahl von Beobachtungen (Zeilen) haben. | Der AJS-Beispiel-Datensatz namens <code>linelist_raw</code> enthält 68 Variablen mit jeweils 300 Beobachtungen (Zeilen). | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | tibble | tibbles sind eine Variante des Datenrahmens, deren Hauptunterschied darin besteht, dass sie besser auf der Konsole ausgegeben werden (die ersten 10 Zeilen und nur die Spalten, die auf den Bildschirm passen) | Jeder Datenrahmen, jede Liste oder Matrix kann mit <code>as_tibble()</code> | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+ | Liste | Eine Liste ist wie ein Vektor, enthält aber andere Objekte, die auch andere Klassen sein können | Eine Liste kann eine einzelne Zahl, einen Datenrahmen, einen Vektor und sogar eine andere Liste enthalten! | +————+—————————————————————————————————————————————————————————————–+——————————————————————————————————-+</p>
<p><strong>Du kannst die Klasse eines Objekts testen, indem du seinen Namen an die Funktion <code>class()</code></strong>. Hinweis: Du kannst auf eine bestimmte Spalte innerhalb eines Datensatzes verweisen, indem du die <code>$</code> Notation verwenden, um den Namen des Datensatzes und den Namen der Spalte zu trennen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist)         <span class="co"># class should be a data frame or tibble</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist<span class="sc">$</span>age)     <span class="co"># class should be numeric</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist<span class="sc">$</span>gender)  <span class="co"># class should be character</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Manchmal wird eine Spalte von R automatisch in eine andere Klasse umgewandelt. Achte hierauf! Wenn du zum Beispiel einen Vektor oder eine Spalte mit Zahlen hast, aber einen Zeichenwert einfügst, wird die gesamte Spalte in die Klasse Zeichen umgewandelt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>num_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co"># define vector as all numbers</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vector)          <span class="co"># vector is numeric class</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>num_vector[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">"three"</span>   <span class="co"># convert the third element to a character</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vector)          <span class="co"># vector is now character class</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Ein häufiges Beispiel dafür ist die Bearbeitung eines Datenrahmens, um eine Tabelle zu drucken: Wenn du eine Summenzeile erstellst und versuchst, Prozentwerte in dieselbe Zelle wie Zahlen einzufügen/zu kleben (z. B. <code>23 (40%)</code>), wird die gesamte numerische Spalte darüber in Zeichen umgewandelt und kann nicht mehr für mathematische Berechnungen verwendet werden.<strong>Manchmal musst du Objekte oder Spalten in eine andere Klasse umwandeln.</strong></p>
<p>+——————+—————————————————————————————+ | Funktion | Aktion | +==================+=======================================================================================+ | <code>as.character()</code> | Konvertiert in Zeichenklasse | +——————+—————————————————————————————+ | <code>as.numeric()</code> | Konvertiert in numerische Klasse | +——————+—————————————————————————————+ | <code>as.integer()</code> | Konvertiert in Integer-Klasse | +——————+—————————————————————————————+ | <code>as.Date()</code> | Konvertiert in die Date-Klasse - Hinweis: siehe Abschnitt über <a href="#dates">Daten</a> für Details | +——————+—————————————————————————————+ | <code>factor()</code> | Hinweis: Das Umdefinieren der Reihenfolge der Wertstufen erfordert zusätzliche Argumente. +——————+—————————————————————————————+</p>
<p>Ebenso gibt es <strong>Basis</strong> R-Funktionen, um zu prüfen, ob ein Objekt einer bestimmten Klasse angehört, wie z. B. <code>is.numeric()</code>, <code>is.character()</code>, <code>is.double()</code>, <code>is.factor()</code>, <code>is.integer()</code></p>
<p>Hier ist <a href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/">mehr Online-Material über Klassen und Datenstrukturen in R</a>.</p>
<!-- ======================================================= -->
</section>
<section id="spaltenvariablen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="spaltenvariablen">Spalten/Variablen (<code>$</code>)</h3>
<p><strong>Eine Spalte in einem Datenrahmen ist technisch gesehen ein “Vektor” (siehe Tabelle oben)</strong> - eine Reihe von Werten, die alle dieselbe Klasse haben müssen (entweder Zeichen, Zahlen, logische Werte usw.).</p>
<p>Ein Vektor kann unabhängig von einem Datenrahmen existieren, z. B. ein Vektor von Spaltennamen, die du als erklärende Variablen in ein Modell aufnehmen willst. Um einen “eigenständigen” Vektor zu erstellen, verwendest du die <code>c()</code> Funktion wie unten beschrieben:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define the stand-alone vector of character values</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>explanatory_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gender"</span>, <span class="st">"fever"</span>, <span class="st">"chills"</span>, <span class="st">"cough"</span>, <span class="st">"aches"</span>, <span class="st">"vomit"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># print the values in this named vector</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>explanatory_vars</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "gender" "fever"  "chills" "cough"  "aches"  "vomit" </code></pre>
</div>
</div>
<p><strong>Spalten in einem Datenrahmen sind ebenfalls Vektoren und können mit der Funktion aufgerufen, referenziert, extrahiert oder erstellt <code>$</code> Symbol.</strong> Die <code>$</code> Symbol verbindet den Namen der Spalte mit dem Namen des zugehörigen Datenrahmens. In diesem Handbuch versuchen wir, das Wort “Spalte” anstelle von “Variable” zu verwenden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve the length of the vector age_years</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(linelist<span class="sc">$</span>age) <span class="co"># (age is a column in the linelist data frame)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Indem du den Namen des Datenrahmens eintippst, gefolgt von <code>$</code> eingibst, siehst du auch ein Dropdown-Menü mit allen Spalten des Datenrahmens. Du kannst mit der Pfeiltaste durch die Spalten blättern, mit der Eingabetaste eine auswählen und so Rechtschreibfehler vermeiden!</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/Calling_Names.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="../images/Calling_Names.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>[<strong><em>ERWEITERTER TIPP:</em></strong> Einige komplexere Objekte (z. B. eine Liste oder ein <code>epicontacts</code> Objekt) können mehrere Ebenen haben, auf die durch mehrere Dollarzeichen zugegriffen werden kann. Zum Beispiel <code>epicontacts$linelist$date_onset</code>]{style=“color: darkgreen;”}</p>
<!-- ======================================================= -->
</section>
<section id="zugangindex-mit-klammern" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="zugangindex-mit-klammern">Zugang/Index mit Klammern (<code>[ ]</code>)</h3>
<p>Es kann sein, dass du Teile von Objekten anzeigen musst, was auch als “Indizierung” bezeichnet wird und oft mit den eckigen Klammern <code>[ ]</code>. verwenden <code>$</code> in einem Datenrahmen, um auf eine Spalte zuzugreifen, ist ebenfalls eine Art der Indizierung.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>my_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>)  <span class="co"># define the vector</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>my_vector[<span class="dv">5</span>]                                  <span class="co"># print the 5th element</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "e"</code></pre>
</div>
</div>
<p>Eckige Klammern funktionieren auch, um bestimmte Teile einer zurückgegebenen Ausgabe zurückzugeben, wie zum Beispiel die Ausgabe einer <code>summary()</code> Funktion:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># All of the summary</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.00    6.00   13.00   16.07   23.00   84.00      86 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Just the second element of the summary, with name (using only single brackets)</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[<span class="dv">2</span>]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1st Qu. 
      6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Just the second element, without name (using double brackets)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[[<span class="dv">2</span>]]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract an element by name, without showing the name</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[[<span class="st">"Median"</span>]]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<p>Klammern funktionieren auch bei Datenrahmen, um bestimmte Zeilen und Spalten anzuzeigen. Du kannst dies mit der Syntax tun <code>dataframe[rows, columns]</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View a specific row (2) from dataset, with all columns (don't forget the comma!)</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>,]</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View all rows, but just one column</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>linelist[, <span class="st">"date_onset"</span>]</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View values from row 2 and columns 5 through 10</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>, <span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>] </span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View values from row 2 and columns 5 through 10 and 18</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">18</span>)] </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows 2 through 20, and specific columns</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span>)]</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows and columns based on criteria</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="co"># *** Note the dataframe must still be named in the criteria!</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>linelist[linelist<span class="sc">$</span>age <span class="sc">&gt;</span> <span class="dv">25</span> , <span class="fu">c</span>(<span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span>)]</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Use View() to see the outputs in the RStudio Viewer pane (easier to read) </span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a><span class="co"># *** Note the capital "V" in View() function</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="st">"date_onset"</span>])</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Save as a new object</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>new_table <span class="ot">&lt;-</span> linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"date_onset"</span>)] </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Beachten Sie, dass Sie die oben beschriebene Zeilen-/Spaltenindizierung für Datenrahmen und Tibbles auch mit folgenden Methoden erreichen können <strong>dplyr</strong> Syntax (Funktionen <code>filter()</code> für Zeilen, und <code>select()</code>für Spalten). Mehr über diese Kernfunktionen erfährst du im Abschnitt [Datenbereinigung und Kernfunktionen] Seite.</p>
<p>Um nach der “Zeilennummer” zu filtern, kannst du die <strong>dplyr</strong> Funktion verwenden. <code>row_number()</code> mit offenen Klammern als Teil einer logischen Filteranweisung. Oft wirst du die <code>%in%</code> Operator und einen Zahlenbereich als Teil dieser logischen Anweisung, wie unten gezeigt. Um die <em>erste</em> N Zeilen zu sehen, kannst du auch die spezielle <strong>dplyr</strong> Funktion verwenden. <code>head()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View first 100 rows</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">100</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show row 5 only</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">5</span>)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows 2 through 20, and three specific columns (note no quotes necessary on column names)</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(date_onset, outcome, age)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bei der Indizierung eines Objekts der Klasse <strong>Liste</strong> geben einfache Klammern immer die Klasse list zurück, auch wenn nur ein einziges Objekt zurückgegeben wird. Doppelte Klammern hingegen können verwendet werden, um auf ein einzelnes Element zuzugreifen und eine andere Klasse als list zurückzugeben.<br>
Klammern können auch hintereinander geschrieben werden, wie unten gezeigt.</p>
<p>Diese <a href="https://r4ds.had.co.nz/vectors.html#lists-of-condiments">visuelle Erklärung der Listenindizierung, mit Pfefferstreuern</a> ist humorvoll und hilfreich.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define demo list</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># First element in the list is a character vector</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">hospitals =</span> <span class="fu">c</span>(<span class="st">"Central"</span>, <span class="st">"Empire"</span>, <span class="st">"Santa Anna"</span>),</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># second element in the list is a data frame of addresses</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">addresses   =</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">street =</span> <span class="fu">c</span>(<span class="st">"145 Medical Way"</span>, <span class="st">"1048 Brown Ave"</span>, <span class="st">"999 El Camino"</span>),</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">city   =</span> <span class="fu">c</span>(<span class="st">"Andover"</span>, <span class="st">"Hamilton"</span>, <span class="st">"El Paso"</span>)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hier siehst du, wie die Liste aussieht, wenn sie auf der Konsole ausgegeben wird. Du siehst, dass es zwei benannte Elemente gibt:</p>
<ul>
<li><code>hospitals</code>, ein Zeichenvektor\</li>
<li><code>addresses</code>, ein Datenrahmen mit Adressen</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>my_list</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hospitals
[1] "Central"    "Empire"     "Santa Anna"

$addresses
           street     city
1 145 Medical Way  Andover
2  1048 Brown Ave Hamilton
3   999 El Camino  El Paso</code></pre>
</div>
</div>
<p>Jetzt extrahieren wir mit verschiedenen Methoden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">1</span>] <span class="co"># this returns the element in class "list" - the element name is still displayed</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hospitals
[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]] <span class="co"># this returns only the (unnamed) character vector</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="st">"hospitals"</span>]] <span class="co"># you can also index by name of the list element</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]][<span class="dv">3</span>] <span class="co"># this returns the third element of the "hospitals" character vector</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">2</span>]][<span class="dv">1</span>] <span class="co"># This returns the first column ("street") of the address data frame</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           street
1 145 Medical Way
2  1048 Brown Ave
3   999 El Camino</code></pre>
</div>
</div>
<!-- ======================================================= -->
</section>
<section id="objekte-entfernen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="objekte-entfernen">Objekte entfernen</h3>
<p>Du kannst einzelne Objekte aus deiner R-Umgebung entfernen, indem du den Namen in das Feld <code>rm()</code> Funktion einfügst (ohne Anführungszeichen):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(object_name)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Du kannst alle Objekte entfernen (deinen Arbeitsbereich leeren), indem du ausführst:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>(<span class="at">all =</span> <span class="cn">TRUE</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="rohrleitungen" class="level2" data-number="3.11">
<h2 data-number="3.11" class="anchored" data-anchor-id="rohrleitungen"><span class="header-section-number">3.11</span> Rohrleitungen (<code>%&gt;%</code>)</h2>
<p><strong>Es gibt zwei allgemeine Ansätze für die Arbeit mit Objekten:</strong></p>
<ol type="1">
<li><strong>Pipes/Tidyverse</strong> - Pipes senden ein Objekt von Funktion zu Funktion - die Betonung liegt auf <em>Aktion</em> und nicht auf dem Objekt.</li>
<li><strong>Definiere Zwischenobjekte</strong> - ein Objekt wird immer wieder neu definiert - die Betonung liegt auf “Objekt”.</li>
</ol>
<!-- ======================================================= -->
<section id="rohre" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="rohre"><strong>Rohre</strong></h3>
<p><strong>Einfach erklärt, der Pipe-Operator (<code>%&gt;%</code>) eine Zwischenausgabe von einer Funktion zur nächsten weiter.</strong><br>
Du kannst dir das so vorstellen, als würdest du “dann” sagen. Viele Funktionen können miteinander verknüpft werden mit <code>%&gt;%</code>.</p>
<ul>
<li><strong>Piping betont eine Abfolge von Aktionen, nicht das Objekt, an dem die Aktionen ausgeführt</strong>\</li>
<li>Pipes sind am besten geeignet, wenn eine Abfolge von Aktionen an einem Objekt ausgeführt werden muss\</li>
<li>Pipes stammen aus dem Paket <strong>magrittr</strong> das automatisch in Paketen enthalten ist <strong>dplyr</strong> und enthalten ist. <strong>tidyverse</strong></li>
<li>Pipes können den Code sauberer und leichter lesbar machen, intuitiver</li>
</ul>
<p>Lies mehr über diesen Ansatz im tidyverse <a href="https://style.tidyverse.org/pipes.html">Styleguide</a></p>
<p>Hier ist ein fiktives Beispiel zum Vergleich, bei dem fiktive Funktionen verwendet werden, um “einen Kuchen zu backen”. Erstens, die Pipe-Methode:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A fake example of how to bake a cake using piping syntax</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> flour <span class="sc">%&gt;%</span>       <span class="co"># to define cake, start with flour, and then...</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add</span>(eggs) <span class="sc">%&gt;%</span>   <span class="co"># add eggs</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add</span>(oil) <span class="sc">%&gt;%</span>    <span class="co"># add oil</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add</span>(water) <span class="sc">%&gt;%</span>  <span class="co"># add water</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mix_together</span>(         <span class="co"># mix together</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">utensil =</span> spoon,</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span>    </span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bake</span>(<span class="at">degrees =</span> <span class="dv">350</span>,   <span class="co"># bake</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">system =</span> <span class="st">"fahrenheit"</span>,</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">minutes =</span> <span class="dv">35</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">let_cool</span>()            <span class="co"># let it cool down</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hier ist eine weitere <a href="https://cfss.uchicago.edu/notes/pipes/#:~:text=Pipes%20are%20an%20extremely%20useful,code%20and%20combine%20multiple%20operations">Link</a> der den Nutzen von Rohren beschreibt.</p>
<p>Rohrleitungen sind keine <strong>Basis</strong> Funktion. Um Piping zu verwenden, muss die <strong>magrittr</strong> Paket installiert und geladen sein (dies geschieht in der Regel durch das Laden von <strong>tidyverse</strong> oder <strong>dplyr</strong> Paket, die es enthalten). Du kannst <a href="https://magrittr.tidyverse.org/">mehr über Piping in der magrittr-Dokumentation lesen</a>.</p>
<p>Beachte, dass Pipes genau wie andere R-Befehle verwendet werden können, um nur das Ergebnis anzuzeigen oder um ein Objekt zu speichern bzw. wieder zu speichern, je nachdem, ob der Zuweisungsoperator <code>&lt;-</code> beteiligt ist. Siehe beides unten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create or overwrite object, defining as aggregate counts by age category (not printed)</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>linelist_summary <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_cat)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the table of counts in the console, but don't save it</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_cat)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  age_cat    n
1     0-4 1095
2     5-9 1095
3   10-14  941
4   15-19  743
5   20-29 1073
6   30-49  754
7   50-69   95
8     70+    6
9    &lt;NA&gt;   86</code></pre>
</div>
</div>
<p><strong><code>%&lt;&gt;%</code></strong><br>
Dies ist eine “Zuweisungs-Pipe” von der <strong>magrittr</strong> Paket, das <em>ein Objekt weiterleitet und auch das Objekt neu definiert</em>. Es muss der erste Pipe-Operator in der Kette sein. Es ist eine Kurzschrift. Die beiden folgenden Befehle sind gleichwertig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">50</span>)</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&lt;&gt;%</span> <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">50</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="definiere-zwischenobjekte" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="definiere-zwischenobjekte">Definiere Zwischenobjekte</h3>
<p>Dieser Ansatz zum Ändern von Objekten/Datenrahmen kann besser sein, wenn:</p>
<ul>
<li>Du musst mehrere Objekte manipulieren.</li>
<li>Es gibt Zwischenschritte, die sinnvoll sind und einen eigenen Objektnamen verdienen</li>
</ul>
<p><strong>Risiken:</strong></p>
<ul>
<li>Für jeden Schritt neue Objekte zu erstellen bedeutet, viele Objekte zu erstellen. Wenn du das falsche verwendest, merkst du das vielleicht nicht!\</li>
<li>Die Benennung aller Objekte kann verwirrend sein\</li>
<li>Fehler sind möglicherweise nicht leicht zu erkennen</li>
</ul>
<p>Entweder benennst du jedes Zwischenobjekt, oder du überschreibst das Original, oder du kombinierst alle Funktionen miteinander. Alle sind mit ihren eigenen Risiken verbunden.</p>
<p>Unten siehst du das gleiche Beispiel für einen gefälschten “Kuchen” wie oben, aber in diesem Stil:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a fake example of how to bake a cake using this method (defining intermediate objects)</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>batter_1 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flour, eggs)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>batter_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(batter_1, oil)</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>batter_3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(batter_2, water)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>batter_4 <span class="ot">&lt;-</span> <span class="fu">mix_together</span>(<span class="at">object =</span> batter_3, <span class="at">utensil =</span> spoon, <span class="at">minutes =</span> <span class="dv">2</span>)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> <span class="fu">bake</span>(batter_4, <span class="at">degrees =</span> <span class="dv">350</span>, <span class="at">system =</span> <span class="st">"fahrenheit"</span>, <span class="at">minutes =</span> <span class="dv">35</span>)</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> <span class="fu">let_cool</span>(cake)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Kombiniere alle Funktionen miteinander - das ist schwer zu lesen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># an example of combining/nesting mutliple functions together - difficult to read</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> <span class="fu">let_cool</span>(<span class="fu">bake</span>(<span class="fu">mix_together</span>(batter_3, <span class="at">utensil =</span> spoon, <span class="at">minutes =</span> <span class="dv">2</span>), <span class="at">degrees =</span> <span class="dv">350</span>, <span class="at">system =</span> <span class="st">"fahrenheit"</span>, <span class="at">minutes =</span> <span class="dv">35</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
</section>
<section id="operators" class="level2" data-number="3.12">
<h2 data-number="3.12" class="anchored" data-anchor-id="operators"><span class="header-section-number">3.12</span> Wichtige Operatoren und Funktionen</h2>
<p>Dieser Abschnitt beschreibt die Operatoren in R, wie z. B.:</p>
<ul>
<li>Definitorische Operatoren.</li>
<li>Relationale Operatoren (kleiner als, gleich zu…)\</li>
<li>Logische Operatoren (und, oder…)\</li>
<li>Umgang mit fehlenden Werten\</li>
<li>Mathematische Operatoren und Funktionen (+/-, &gt;, Summe(), Median(), …)\</li>
<li>Die <code>%in%</code> Operator</li>
</ul>
<!-- ======================================================= -->
<section id="zuweisungsoperatoren" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="zuweisungsoperatoren">Zuweisungsoperatoren</h3>
<p><strong><code>&lt;-</code></strong></p>
<p>Der grundlegende Zuweisungsoperator in R ist <code>&lt;-</code>. So, dass <code>object_name &lt;- value</code>.<br>
Dieser Zuweisungsoperator kann auch geschrieben werden als <code>=</code>. Wir empfehlen die Verwendung von <code>&lt;-</code> für den allgemeinen Gebrauch von R.<br>
Wir empfehlen außerdem, solche Operatoren mit Leerzeichen zu umgeben, um die Lesbarkeit zu verbessern.</p>
<p><strong><code>&lt;&lt;-</code></strong></p>
<p>Wenn [Funktionen schreibst] oder R auf interaktive Weise mit Quellenskripten nutzt, musst du möglicherweise diesen Zuweisungsoperator verwenden<code>&lt;&lt;-</code> (von <strong>base</strong> R). Dieser Operator wird verwendet, um ein Objekt in einer höheren “übergeordneten” R-Umgebung zu definieren. Siehe dies <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html">Online-Referenz</a>.</p>
<p><strong><code>%&lt;&gt;%</code></strong></p>
<p>Dies ist eine “Zuweisungsleitung” aus dem <strong>magrittr</strong> Paket, die ein Objekt weiterleitet und <em>auch das Objekt neu definiert</em>. Es muss der erste Pipe-Operator in der Kette sein. Er ist eine Abkürzung, wie in den folgenden zwei Beispielen gezeigt wird:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_months =</span> age_years <span class="sc">*</span> <span class="dv">12</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Das oben Gesagte ist gleichbedeutend mit dem unten Gesagten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&lt;&gt;%</span> <span class="fu">mutate</span>(<span class="at">age_months =</span> age_years <span class="sc">*</span> <span class="dv">12</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>%&lt;+%</code></strong></p>
<p>Dies wird verwendet, um Daten zu phylogenetischen Bäumen hinzuzufügen mit der <strong>ggtree</strong>Paket. Siehe die Seite über [Phylogenetische Bäume] oder dieses Online<a href="https://yulab-smu.top/treedata-book/">Ressourcenbuch</a>.</p>
<!-- ======================================================= -->
</section>
<section id="relationale-und-logische-operatoren" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="relationale-und-logische-operatoren">Relationale und logische Operatoren</h3>
<p>Relationale Operatoren vergleichen Werte und werden häufig verwendet, um neue Variablen und Teilmengen von Datensätzen zu definieren. Hier sind die gängigen relationalen Operatoren in R:</p>
<p>+————————–+————+————–+——————————————————————————————————————————————————–+ | Bedeutung | Operator | Beispiel | Beispielergebnis | +==========================+============+==============+========================================================================================================================================================+ Gleich | Gleich | <code>==</code> | <code>"A" == "a"</code> | <code>FALSE</code> (weil bei R zwischen Groß- und Kleinschreibung unterschieden wird) <em>Beachte, dass == (doppelte Gleichheit) sich von = (einfache Gleichheit) unterscheidet, das sich wie der Zuweisungsoperator verhält <code>&lt;-</code></em> | +————————–+————+————–+——————————————————————————————————————————————————–+ | Nicht gleich | <code>!=</code> | <code>2 != 0</code> | <code>TRUE</code> | +————————–+————+————–+——————————————————————————————————————————————————–+ | Größer als | <code>&gt;</code> | <code>4 &gt; 2</code> | <code>TRUE</code> | +————————–+————+————–+——————————————————————————————————————————————————–+ | Weniger als | <code>&lt;</code> | <code>4 &lt; 2</code> | <code>FALSE</code> | +————————–+————+————–+——————————————————————————————————————————————————–+ | Größer als oder gleich | <code>&gt;=</code> | <code>6 &gt;= 4</code> | <code>TRUE</code> | +————————–+————+————–+——————————————————————————————————————————————————–+ | Kleiner als oder gleich | <code>&lt;=</code> | <code>6 &lt;= 4</code> | <code>FALSE</code> | +————————–+————+————–+——————————————————————————————————————————————————–+ | Wert fehlt | <code>is.na()</code> | <code>is.na(7)</code> | <code>FALSE</code>(siehe Seite über [Fehlende Daten]) | +————————–+————+————–+——————————————————————————————————————————————————–+ | Value is not missing | <code>!is.na()</code> | <code>!is.na(7)</code> | <code>TRUE</code> | +————————–+————+————–+——————————————————————————————————————————————————–+</p>
<p>Logische Operatoren wie AND und OR werden oft verwendet, um relationale Operatoren zu verbinden und kompliziertere Kriterien zu erstellen. Komplexe Aussagen können Klammern ( ) für die Gruppierung und Reihenfolge der Anwendung erfordern.</p>
<p>+———————+———————————————————————–+ | Bedeutung | Operator | +=====================+=======================================================================+ | AND | <code>&amp;</code> | +———————+———————————————————————–+ | OR | <code>|</code> (vertikaler Balken) | +———————+———————————————————————–+ | Klammern | <code>( )</code> Wird verwendet, um Kriterien zusammenzufassen und die Reihenfolge der Operationen zu verdeutlichen. +———————+———————————————————————–+</p>
<p>Unten haben wir zum Beispiel eine Liste mit zwei Variablen, die wir für unsere Falldefinition verwenden wollen, <code>hep_e_rdt</code> ein Testergebnis und <code>other_cases_in_hh</code>, die uns sagt, ob es noch andere Fälle im Haushalt gibt. Der folgende Befehl verwendet die Funktion <code>case_when()</code> um die neue Variable zu erstellen <code>case_def</code> so dass:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>linelist_cleaned <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">case_def =</span> <span class="fu">case_when</span>(</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(rdt_result) <span class="sc">&amp;</span> <span class="fu">is.na</span>(other_case_in_home)            <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    rdt_result <span class="sc">==</span> <span class="st">"Positive"</span>                                 <span class="sc">~</span> <span class="st">"Confirmed"</span>,</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>    rdt_result <span class="sc">!=</span> <span class="st">"Positive"</span> <span class="sc">&amp;</span> other_cases_in_home <span class="sc">==</span> <span class="st">"Yes"</span>  <span class="sc">~</span> <span class="st">"Probable"</span>,</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                                                     <span class="sc">~</span> <span class="st">"Suspected"</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>+————————————————————————————————+——————————————–+ | Kriterien im obigen Beispiel | Resultierender Wert in neuer Variable “case_def” | +================================================================================================+============================================+ | Wenn der Wert für die Variablen <code>rdt_result</code> und <code>other_cases_in_home</code> fehlen | <code>NA</code> (fehlt) | +————————————————————————————————+——————————————–+ | Wenn der Wert in <code>rdt_result</code> “Positiv” | “Bestätigt” | “Bestätigt” ist +————————————————————————————————+——————————————–+ | Wenn der Wert in <code>rdt_result</code> NICHT “Positiv” ist UND der Wert in <code>other_cases_in_home</code> ist “Ja” | “Wahrscheinlich” | +————————————————————————————————+——————————————–+ | Wenn eines der oben genannten Kriterien nicht erfüllt ist | “Vermutlich” | +————————————————————————————————+——————————————–+</p>
<p><em>Beachte, dass R zwischen Groß- und Kleinschreibung unterscheidet, also ist “positiv” etwas anderes als “positiv”…</em></p>
<!-- ======================================================= -->
</section>
<section id="fehlende-werte" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="fehlende-werte">Fehlende Werte</h3>
<p>In R werden fehlende Werte durch einen speziellen Wert dargestellt <code>NA</code> (ein “reservierter” Wert) dargestellt (Großbuchstaben N und A - nicht in Anführungszeichen). Wenn du Daten importierst, die fehlende Daten auf eine andere Art und Weise erfassen (z. B. 99, “Missing” oder .), solltest du diese Werte umcodieren in <code>NA</code>. Wie du das machst, erfährst du im Abschnitt [Importieren und Exportieren] Seite.</p>
<p><strong>Um zu prüfen, ob ein Wert <code>NA</code> ist, verwenden Sie die spezielle Funktion <code>is.na()</code></strong>, die Folgendes zurückgibt <code>TRUE</code> oder <code>FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>rdt_result <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Positive"</span>, <span class="st">"Suspected"</span>, <span class="st">"Positive"</span>, <span class="cn">NA</span>)   <span class="co"># two positive cases, one suspected, and one unknown</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(rdt_result)  <span class="co"># Tests whether the value of rdt_result is NA</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE  TRUE</code></pre>
</div>
</div>
<p>Lies mehr über vermisst, unendlich, <code>NULL</code>und unmögliche Werte auf der Seite über [Fehlende Daten]. Wie du fehlende Werte beim Importieren von Daten konvertierst, erfährst du auf der Seite über [Importieren und Exportieren].</p>
<!-- ======================================================= -->
</section>
<section id="mathematik-und-statistik" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="mathematik-und-statistik">Mathematik und Statistik</h3>
<p>Alle Operatoren und Funktionen auf dieser Seite sind automatisch verfügbar mit <strong>Basis</strong> R.</p>
<section id="mathematische-operatoren" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="mathematische-operatoren">Mathematische Operatoren</h4>
<p>Diese werden oft verwendet, um Additionen und Divisionen durchzuführen, neue Spalten zu erstellen usw. Im Folgenden findest du gängige mathematische Operatoren in R. Ob du Leerzeichen um die Operatoren setzt, ist nicht wichtig.</p>
<table class="table">
<colgroup>
<col style="width: 43%">
<col style="width: 56%">
</colgroup>
<thead>
<tr class="header">
<th>Zweck</th>
<th>Beispiel in R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Addition</td>
<td>2 + 3</td>
</tr>
<tr class="even">
<td>Subtraktion</td>
<td>2 - 3</td>
</tr>
<tr class="odd">
<td>Multiplikation</td>
<td>2 * 3</td>
</tr>
<tr class="even">
<td>Division</td>
<td>30 / 5</td>
</tr>
<tr class="odd">
<td>Exponent</td>
<td>2^3</td>
</tr>
<tr class="even">
<td>Reihenfolge der Operationen</td>
<td>( )</td>
</tr>
</tbody>
</table>
</section>
<section id="mathematische-funktionen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="mathematische-funktionen">Mathematische Funktionen</h4>
<table class="table">
<colgroup>
<col style="width: 43%">
<col style="width: 56%">
</colgroup>
<thead>
<tr class="header">
<th>Zweck</th>
<th>Funktion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rundung</td>
<td>round(x, Ziffern = n)</td>
</tr>
<tr class="even">
<td>Rundung</td>
<td>janitor::round_half_up(x, digits = n)</td>
</tr>
<tr class="odd">
<td>Obergrenze (aufrunden)</td>
<td>Obergrenze(x)</td>
</tr>
<tr class="even">
<td>floor (abrunden)</td>
<td>floor(x)</td>
</tr>
<tr class="odd">
<td>absoluter Wert</td>
<td>abs(x)</td>
</tr>
<tr class="even">
<td>Quadratwurzel</td>
<td>sqrt(x)</td>
</tr>
<tr class="odd">
<td>Exponent</td>
<td>exponent(x)</td>
</tr>
<tr class="even">
<td>natürlicher Logarithmus</td>
<td>log(x)</td>
</tr>
<tr class="odd">
<td>log Basis 10</td>
<td>log10(x)</td>
</tr>
<tr class="even">
<td>log Basis 2</td>
<td>log2(x)</td>
</tr>
</tbody>
</table>
<p>Anmerkung: für <code>round()</code> die <code>digits =</code> gibt die Anzahl der Nachkommastellen an. Verwende <code>signif()</code> um auf eine Anzahl signifikanter Stellen zu runden.</p>
</section>
<section id="wissenschaftliche-notation" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="wissenschaftliche-notation">Wissenschaftliche Notation</h4>
<p>Die Wahrscheinlichkeit, dass die wissenschaftliche Notation verwendet wird, hängt vom Wert der <code>scipen</code> Option ab.</p>
<p>Aus der Dokumentation von <code>?options</code> scipen ist ein Malus, der angewendet wird, wenn du entscheidest, ob numerische Werte in fester oder exponentieller Notation gedruckt werden sollen. Bei positiven Werten wird die feste Notation bevorzugt, bei negativen die wissenschaftliche Notation: Die feste Notation wird bevorzugt, es sei denn, sie ist um mehr als ‘scipen’ Stellen breiter.</p>
<p>Wenn der Wert auf eine niedrige Zahl (z.B. 0) gesetzt wird, ist sie immer “eingeschaltet”. Um die wissenschaftliche Notation in deiner R-Sitzung “auszuschalten”, setze sie z. B. auf eine sehr hohe Zahl:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># turn off scientific notation</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">999</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abrunden" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="abrunden">Abrunden</h4>
<p>[<strong><em>GEFAHR!</em></strong> <code>round()</code> Verwendet das “Banker’s Rounding”, das von einer 0,5 nur aufrundet, wenn die obere Zahl gerade ist. Verwende <code>round_half_up()</code> von <strong>Hausmeister</strong> um Halbe konsequent auf die nächste ganze Zahl aufzurunden. Siehe <a href="https://cran.r-project.org/web/packages/janitor/vignettes/janitor.html#explore-records-with-duplicated-values-for-specific-combinations-of-variables-with-get_dupes">diese Erklärung</a> ]{style=“color: red;”}</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use the appropriate rounding function for your work</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="fl">3.5</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">round_half_up</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="fl">3.5</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
</section>
<section id="statistische-funktionen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="statistische-funktionen">Statistische Funktionen</h4>
<p>[<strong><em>VORSICHT!</em></strong> Die folgenden Funktionen berücksichtigen standardmäßig auch fehlende Werte in den Berechnungen. Fehlende Werte führen zu einer Ausgabe von <code>NA</code> es sei denn, das Argument <code>na.rm = TRUE</code> angegeben wird. Dies kann in Kurzform geschrieben werden als <code>na.rm = T</code>.]{style=“color: orange;”}</p>
<table class="table">
<colgroup>
<col style="width: 43%">
<col style="width: 56%">
</colgroup>
<thead>
<tr class="header">
<th>Zielsetzung</th>
<th>Funktion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mittelwert (Durchschnitt)</td>
<td>mean(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>Median</td>
<td>median(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>Standardabweichung</td>
<td>sd(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>Quantile*</td>
<td>Quantil(x, Probs)</td>
</tr>
<tr class="odd">
<td>Summe</td>
<td>sum(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>Mindestwert</td>
<td>min(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>Maximalwert</td>
<td>max(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>Bereich der numerischen Werte</td>
<td>bereich(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>Zusammenfassung**</td>
<td>Zusammenfassung(x)</td>
</tr>
</tbody>
</table>
<p>Anmerkungen:</p>
<ul>
<li><code>*quantile()</code>: <code>x</code> ist der zu untersuchende numerische Vektor und <code>probs =</code> ist ein numerischer Vektor mit Wahrscheinlichkeiten zwischen 0 und 1,0, z. B. <code>c(0.5, 0.8, 0.85)</code></li>
<li><code>**summary()</code> Zusammenfassung eines numerischen Vektors mit Mittelwert, Median und gemeinsamen Perzentilen</li>
</ul>
<p>[<strong><em>GEFAHR!</em></strong> Wenn du einen Zahlenvektor an eine der oben genannten Funktionen übergibst, musst du die Zahlen in eine <code>c()</code> .]{style=“color: red;”}</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If supplying raw numbers to a function, wrap them in c()</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">0</span>)    <span class="co"># !!! INCORRECT !!!  </span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">0</span>)) <span class="co"># CORRECT</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.666667</code></pre>
</div>
</div>
</section>
<section id="andere-nützliche-funktionen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="andere-nützliche-funktionen">Andere nützliche Funktionen</h4>
<p>+—————————-+——————-+————————————————-+ | Zielsetzung | Funktion | Beispiel | +============================+===================+=================================================+ | Eine Sequenz erstellen | seq(from, to, by) | <code>seq(1, 10, 2)</code> | +—————————-+——————-+————————————————-+ | x, n-mal wiederholen | rep(x, n-mal) | <code>rep(1:3, 2)</code> oder <code>rep(c("a", "b", "c"), 3)</code> | +—————————-+——————-+————————————————-+ | einen numerischen Vektor unterteilen | cut(x, n) | <code>cut(linelist$age, 5)</code> | +—————————-+——————-+————————————————-+ | Eine Zufallsstichprobe nehmen | sample(x, size) | <code>sample(linelist$id, size = 5, replace = TRUE)</code> | +—————————-+——————-+————————————————-+</p>
<!-- ======================================================= -->
</section>
</section>
<section id="in" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="in"><code>%in%</code></h3>
<p>Ein sehr nützlicher Operator, um Werte abzugleichen und um schnell festzustellen, ob ein Wert in einem Vektor oder Datenrahmen enthalten ist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>my_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="st">"a"</span> <span class="sc">%in%</span> my_vector</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="st">"h"</span> <span class="sc">%in%</span> my_vector</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Um zu fragen, ob ein Wert <strong>nicht</strong> <code>%in%</code> ein Vektor, setze ein Ausrufezeichen (!) <strong>vor</strong> vor die logische Aussage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to negate, put an exclamation in front</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="st">"a"</span> <span class="sc">%in%</span> my_vector</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="st">"h"</span> <span class="sc">%in%</span> my_vector</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p><code>%in%</code> ist sehr nützlich, wenn man die <strong>dplyr</strong> Funktion <code>case_when()</code>. Du kannst einen Vektor vorher definieren und ihn dann später referenzieren. Zum Beispiel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>affirmative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">child_hospitaled =</span> <span class="fu">case_when</span>(</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>    hospitalized <span class="sc">%in%</span> affirmative <span class="sc">&amp;</span> age <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Hospitalized Child"</span>,</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                                      <span class="sc">~</span> <span class="st">"Not"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hinweis: Wenn du eine Teilzeichenkette erkennen willst, vielleicht mit <code>str_detect()</code> von <strong>stringr</strong> nicht akzeptiert, sondern einen Zeichenvektor wie <code>c("1", "Yes", "yes", "y")</code>. Stattdessen muss er eine <em>regulärer Ausdruck</em> - eine verdichtete Zeichenkette mit ODER-Balken, wie z.B. “1|Ja|Ja|J”. Zum Beispiel, <code>str_detect(hospitalized, "1|Yes|yes|y")</code>. Siehe die Seite über [Zeichen und Zeichenketten] für weitere Informationen.</p>
<p>Mit diesem Befehl kannst du einen Zeichenvektor in einen benannten regulären Ausdruck umwandeln:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>affirmative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>affirmative</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"   "Yes" "YES" "yes" "y"   "Y"   "oui" "Oui" "Si" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># condense to </span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>affirmative_str_search <span class="ot">&lt;-</span> <span class="fu">paste0</span>(affirmative, <span class="at">collapse =</span> <span class="st">"|"</span>)  <span class="co"># option with base R</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>affirmative_str_search <span class="ot">&lt;-</span> <span class="fu">str_c</span>(affirmative, <span class="at">collapse =</span> <span class="st">"|"</span>)   <span class="co"># option with stringr package</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>affirmative_str_search</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1|Yes|YES|yes|y|Y|oui|Oui|Si"</code></pre>
</div>
</div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="fehler-warnungen" class="level2" data-number="3.13">
<h2 data-number="3.13" class="anchored" data-anchor-id="fehler-warnungen"><span class="header-section-number">3.13</span> Fehler &amp; Warnungen</h2>
<p>Dieser Abschnitt erklärt:</p>
<ul>
<li>Der Unterschied zwischen Fehlern und Warnungen\</li>
<li>Allgemeine Syntax-Tipps zum Schreiben von R-Code\</li>
<li>Code-Hilfen</li>
</ul>
<p>Häufige Fehler und Warnungen sowie Tipps zur Fehlerbehebung findest du auf der Seite [Fehler und Hilfe].</p>
<!-- ======================================================= -->
<section id="fehler-versus-warnung" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="fehler-versus-warnung">Fehler versus Warnung</h3>
<p>Wenn ein Befehl ausgeführt wird, zeigt dir die R-Konsole möglicherweise Warn- oder Fehlermeldungen in rotem Text an.</p>
<ul>
<li><p>A <strong>Warnung</strong> bedeutet, dass R deinen Befehl ausgeführt hat, aber zusätzliche Schritte durchführen musste oder ungewöhnliche Ausgaben produziert hat, die du beachten solltest.</p></li>
<li><p>Eine <strong>Fehler</strong> bedeutet, dass R deinen Befehl nicht ausführen konnte.</p></li>
</ul>
<p>Suche nach Hinweisen:</p>
<ul>
<li><p>Die Fehler-/Warnmeldung enthält oft eine Zeilennummer für das Problem.</p></li>
<li><p>Wenn ein Objekt “unbekannt” oder “nicht gefunden” ist, hast du es vielleicht falsch geschrieben, vergessen, ein Paket mit library() aufzurufen, oder vergessen, dein Skript nach Änderungen erneut auszuführen.</p></li>
</ul>
<p>Wenn alles andere fehlschlägt, kopiere die Fehlermeldung zusammen mit einigen Schlüsselbegriffen in Google - die Chancen stehen gut, dass jemand anderes das Problem bereits gelöst hat!</p>
<!-- ======================================================= -->
</section>
<section id="allgemeine-tipps-zur-syntax" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="allgemeine-tipps-zur-syntax">Allgemeine Tipps zur Syntax</h3>
<p>Ein paar Dinge, die du beim Schreiben von Befehlen in R beachten solltest, um Fehler und Warnungen zu vermeiden:</p>
<ul>
<li>Schließe immer Klammern - Tipp: Zähle die Anzahl der öffnenden “(” und schließenden Klammern “)” für jedes Code-Stück</li>
<li>Vermeide Leerzeichen in Spalten- und Objektnamen. Verwende stattdessen Unterstriche ( _ ) oder Punkte ( . )</li>
<li>Behalte den Überblick und trenne die Argumente einer Funktion mit Kommas</li>
<li>R unterscheidet zwischen Groß- und Kleinschreibung, das heißt <code>Variable_A</code> ist <em>anders</em> von <code>variable_A</code></li>
</ul>
<!-- ======================================================= -->
</section>
<section id="code-assistenten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="code-assistenten">Code Assistenten</h3>
<p>Jedes Skript (RMarkdown oder ein anderes) gibt Hinweise, wenn du einen Fehler gemacht hast. Wenn du zum Beispiel vergessen hast, ein Komma zu setzen, wo es gebraucht wird, oder eine Klammer zu schließen, setzt RStudio in dieser Zeile auf der rechten Seite des Skripts eine Flagge, um dich zu warnen.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../new_pages/data_used.de.html" class="pagination-link" aria-label="Handbuch und Daten herunterladen">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Handbuch und Daten herunterladen</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../new_pages/transition_to_R.de.html" class="pagination-link" aria-label="Übergang zu R">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Übergang zu R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","openEffect":"zoom","loop":false,"descPosition":"bottom","closeEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>