<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EpiRhandbook auf Deutsch - 7&nbsp; Import und Export</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../new_pages/cleaning.de.html" rel="next">
<link href="../new_pages/r_projects.de.html" rel="prev">
<link href="../images/Applied_Epi_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QXDW878QLX', { 'anonymize_ip': true});
</script>
<!-- Global site tag (gtag.js) - Google Analytics 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QXDW878QLX');
</script> -->

</head><body class="nav-sidebar floating"><div class="alert alert-info alert-dismissible">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
  <strong>Need help learning R?</strong> Enroll in Applied Epi's <a href="https://www.appliedepi.org/live/" class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/" class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/" class="alert-link">Community Q&amp;A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org" class="alert-link">R Help Desk service</a>.
</div>
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.31/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="../site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>






<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/basics.de.html">Grundlagen</a></li><li class="breadcrumb-item"><a href="../new_pages/importing.de.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Import und Export</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EpiRhandbook auf Deutsch</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/appliedepi/epihandbook_quarto" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Über dieses Buch</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/editorial_style.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Redaktionelle und technische Hinweise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_used.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Handbuch und Daten herunterladen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Grundlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R Grundlagen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transition_to_R.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Übergang zu R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/packages_suggested.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Vorgeschlagene Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/r_projects.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R-Projekte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/importing.de.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Import und Export</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Datenmanagement</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/cleaning.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Cleaning data and core functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/dates.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Mit Daten arbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/characters_strings.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Characters and strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/factors.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Faktoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/pivoting.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Daten pivotieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/grouping.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Daten gruppieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/joining_matching.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Daten verknüpfen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/deduplication.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">De-Duplizierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/iteration.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Iteration, Schleifen und Listen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Analyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_descriptive.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Beschreibende Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/stat_tests.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Einfache statistische Tests</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/regression.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Univariate und multivariable Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/missing_data.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Fehlende Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/standardization.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Standardisierte Sätze</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/moving_average.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Gleitende Durchschnitte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/time_series.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Zeitreihen und Erkennung von Ausbrüchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epidemic_models.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Epidemie-Modellierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/contact_tracing.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Ermittlung von Kontaktpersonen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survey_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Umfrage-Analyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survival_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Survival-Analyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/gis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">GIS-Grundlagen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Datenvisualisierung</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_presentation.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Tische für die Präsentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">ggplot Grundlagen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_tips.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">ggplot-Tipps</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epicurves.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Epidemische Kurven</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/age_pyramid.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Demografische Pyramiden und Likert-Skalen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/heatmaps.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Wärmebilanzen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/diagrams.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Diagramme und Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/combination_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Analyse der Kombinationen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transmission_chains.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Übertragungsketten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/phylogenetic_trees.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Phylogenetische Bäume</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/interactive_plots.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Interaktive Diagramme</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Berichte und Dashboards</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/rmarkdown.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/reportfactory.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Organisieren von Routineberichten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/flexdashboard.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Dashboards mit R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/shiny_basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Dashboards mit Shiny</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Verschiedenes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/writing_functions.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Funktionen schreiben</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/directories.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Verzeichnis-Interaktionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/collaboration.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Versionskontrolle und Zusammenarbeit mit Git und Github</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/errors.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Häufige Fehler</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/help.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Hilfe bekommen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/network_drives.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">R auf Netzlaufwerken</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_table.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Daten-Tabelle</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#übersicht" id="toc-übersicht" class="nav-link active" data-scroll-target="#übersicht"><span class="header-section-number">7.1</span> Übersicht</a></li>
  <li><a href="#die-rio-paket" id="toc-die-rio-paket" class="nav-link" data-scroll-target="#die-rio-paket"><span class="header-section-number">7.2</span> Die <strong>rio</strong> Paket</a></li>
  <li><a href="#here" id="toc-here" class="nav-link" data-scroll-target="#here"><span class="header-section-number">7.3</span> Die <strong>hier</strong> Paket</a></li>
  <li><a href="#dateipfade" id="toc-dateipfade" class="nav-link" data-scroll-target="#dateipfade"><span class="header-section-number">7.4</span> Dateipfade</a>
  <ul class="collapse">
  <li><a href="#relative-dateipfade" id="toc-relative-dateipfade" class="nav-link" data-scroll-target="#relative-dateipfade">“Relative” Dateipfade</a></li>
  <li><a href="#absolute-dateipfade" id="toc-absolute-dateipfade" class="nav-link" data-scroll-target="#absolute-dateipfade">“Absolute” Dateipfade</a></li>
  <li><a href="#datei-manuell-auswählen" id="toc-datei-manuell-auswählen" class="nav-link" data-scroll-target="#datei-manuell-auswählen">Datei manuell auswählen</a></li>
  </ul></li>
  <li><a href="#daten-importieren" id="toc-daten-importieren" class="nav-link" data-scroll-target="#daten-importieren"><span class="header-section-number">7.5</span> Daten importieren</a>
  <ul class="collapse">
  <li><a href="#spezifische-excel-tabellen" id="toc-spezifische-excel-tabellen" class="nav-link" data-scroll-target="#spezifische-excel-tabellen">Spezifische Excel-Tabellen</a></li>
  <li><a href="#fehlende-werte-import_missing-.unnumbered" id="toc-fehlende-werte-import_missing-.unnumbered" class="nav-link" data-scroll-target="#fehlende-werte-import_missing-.unnumbered"><span class="header-section-number">7.5.1</span> Fehlende Werte {#import_missing .unnumbered}</a></li>
  <li><a href="#zeilen-überspringen" id="toc-zeilen-überspringen" class="nav-link" data-scroll-target="#zeilen-überspringen">Zeilen überspringen</a></li>
  <li><a href="#verwalte-eine-zweite-kopfzeile" id="toc-verwalte-eine-zweite-kopfzeile" class="nav-link" data-scroll-target="#verwalte-eine-zweite-kopfzeile">Verwalte eine zweite Kopfzeile</a></li>
  <li><a href="#google-sheets" id="toc-google-sheets" class="nav-link" data-scroll-target="#google-sheets">Google Sheets</a></li>
  </ul></li>
  <li><a href="#mehrere-dateien---importieren-exportieren-teilen-kombinieren" id="toc-mehrere-dateien---importieren-exportieren-teilen-kombinieren" class="nav-link" data-scroll-target="#mehrere-dateien---importieren-exportieren-teilen-kombinieren"><span class="header-section-number">7.6</span> Mehrere Dateien - importieren, exportieren, teilen, kombinieren</a></li>
  <li><a href="#von-github-importieren-import_github" id="toc-von-github-importieren-import_github" class="nav-link" data-scroll-target="#von-github-importieren-import_github"><span class="header-section-number">7.7</span> Von Github importieren {#import_github}</a>
  <ul class="collapse">
  <li><a href="#csv-dateien" id="toc-csv-dateien" class="nav-link" data-scroll-target="#csv-dateien">CSV-Dateien</a></li>
  <li><a href="#xlsx-dateien" id="toc-xlsx-dateien" class="nav-link" data-scroll-target="#xlsx-dateien">XLSX-Dateien</a></li>
  <li><a href="#shapefiles" id="toc-shapefiles" class="nav-link" data-scroll-target="#shapefiles">Shapefiles</a></li>
  </ul></li>
  <li><a href="#manuelle-dateneingabe" id="toc-manuelle-dateneingabe" class="nav-link" data-scroll-target="#manuelle-dateneingabe"><span class="header-section-number">7.8</span> Manuelle Dateneingabe</a>
  <ul class="collapse">
  <li><a href="#eingabe-nach-zeilen" id="toc-eingabe-nach-zeilen" class="nav-link" data-scroll-target="#eingabe-nach-zeilen">Eingabe nach Zeilen</a></li>
  <li><a href="#eintrag-nach-spalten" id="toc-eintrag-nach-spalten" class="nav-link" data-scroll-target="#eintrag-nach-spalten">Eintrag nach Spalten</a></li>
  <li><a href="#einfügen-aus-der-zwischenablage" id="toc-einfügen-aus-der-zwischenablage" class="nav-link" data-scroll-target="#einfügen-aus-der-zwischenablage">Einfügen aus der Zwischenablage</a></li>
  </ul></li>
  <li><a href="#importiere-die-letzte-datei" id="toc-importiere-die-letzte-datei" class="nav-link" data-scroll-target="#importiere-die-letzte-datei"><span class="header-section-number">7.9</span> Importiere die letzte Datei</a>
  <ul class="collapse">
  <li><a href="#datum-im-dateinamen" id="toc-datum-im-dateinamen" class="nav-link" data-scroll-target="#datum-im-dateinamen">Datum im Dateinamen</a></li>
  <li><a href="#verwende-die-dateiinfo" id="toc-verwende-die-dateiinfo" class="nav-link" data-scroll-target="#verwende-die-dateiinfo">Verwende die Dateiinfo</a></li>
  </ul></li>
  <li><a href="#apis-import_api" id="toc-apis-import_api" class="nav-link" data-scroll-target="#apis-import_api"><span class="header-section-number">7.10</span> APIs {#import_api}</a>
  <ul class="collapse">
  <li><a href="#http-anfrage" id="toc-http-anfrage" class="nav-link" data-scroll-target="#http-anfrage">HTTP-Anfrage</a></li>
  <li><a href="#pakete" id="toc-pakete" class="nav-link" data-scroll-target="#pakete">Pakete</a></li>
  <li><a href="#öffentlich-zugängliche-daten" id="toc-öffentlich-zugängliche-daten" class="nav-link" data-scroll-target="#öffentlich-zugängliche-daten">Öffentlich zugängliche Daten</a></li>
  <li><a href="#authentifizierung-erforderlich" id="toc-authentifizierung-erforderlich" class="nav-link" data-scroll-target="#authentifizierung-erforderlich">Authentifizierung erforderlich</a></li>
  </ul></li>
  <li><a href="#exportieren." id="toc-exportieren." class="nav-link" data-scroll-target="#exportieren."><span class="header-section-number">7.11</span> exportieren.</a>
  <ul class="collapse">
  <li><a href="#mit-rio-paket" id="toc-mit-rio-paket" class="nav-link" data-scroll-target="#mit-rio-paket">Mit <strong>rio</strong> Paket</a></li>
  <li><a href="#in-die-zwischenablage" id="toc-in-die-zwischenablage" class="nav-link" data-scroll-target="#in-die-zwischenablage">In die Zwischenablage</a></li>
  </ul></li>
  <li><a href="#rds-dateien-import_rds" id="toc-rds-dateien-import_rds" class="nav-link" data-scroll-target="#rds-dateien-import_rds"><span class="header-section-number">7.12</span> RDS-Dateien {#import_rds}</a></li>
  <li><a href="#rdata-dateien-und-listen-import_rdata" id="toc-rdata-dateien-und-listen-import_rdata" class="nav-link" data-scroll-target="#rdata-dateien-und-listen-import_rdata"><span class="header-section-number">7.13</span> Rdata Dateien und Listen {#import_rdata}</a></li>
  <li><a href="#speichern-von-plots" id="toc-speichern-von-plots" class="nav-link" data-scroll-target="#speichern-von-plots"><span class="header-section-number">7.14</span> Speichern von Plots</a></li>
  <li><a href="#ressourcen" id="toc-ressourcen" class="nav-link" data-scroll-target="#ressourcen"><span class="header-section-number">7.15</span> Ressourcen</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/basics.de.html">Grundlagen</a></li><li class="breadcrumb-item"><a href="../new_pages/importing.de.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Import und Export</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Import und Export</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/Import_Export_1500x500.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../images/Import_Export_1500x500.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Auf dieser Seite beschreiben wir, wie du Dateien finden, importieren und exportieren kannst:</p>
<ul>
<li>Die Verwendung der <strong>rio</strong> Pakets zur flexiblen <code>import()</code> und <code>export()</code> viele Arten von Dateien</li>
<li>Verwendung der <strong>hier</strong> Pakets, um Dateien relativ zum Stammverzeichnis eines R-Projekts zu finden - um Komplikationen durch Dateipfade zu vermeiden, die für einen bestimmten Computer spezifisch sind</li>
<li>Spezifische Importszenarien, wie zum Beispiel:
<ul>
<li>Bestimmte Excel-Blätter</li>
<li>Unordentliche Kopfzeilen und überspringende Zeilen</li>
<li>Von Google Sheets</li>
<li>Aus Daten, die auf Websites veröffentlicht wurden</li>
<li>Mit APIs</li>
<li>Importieren der <em>aktuellsten</em> Datei</li>
</ul></li>
<li>Manuelle Dateneingabe</li>
<li>R-spezifische Dateitypen wie RDS und RData</li>
<li>Exportieren/Speichern von Dateien und Plots</li>
</ul>
<!-- ======================================================= -->
<section id="übersicht" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="übersicht"><span class="header-section-number">7.1</span> Übersicht</h2>
<p>Wenn du einen “Datensatz” in R importierst, erstellst du in der Regel einen neuen <em>Datenrahmen</em> Objekt in deiner R-Umgebung und definierst es als eine importierte Datei (z. B. Excel, CSV, TSV, RDS), die sich in deinen Ordnerverzeichnissen unter einem bestimmten Dateipfad/einer bestimmten Adresse befindet.</p>
<p>Du kannst viele Arten von Dateien importieren/exportieren, auch solche, die von anderen Statistikprogrammen (SAS, STATA, SPSS) erstellt wurden. Du kannst auch eine Verbindung zu relationalen Datenbanken herstellen.</p>
<p>R hat sogar seine eigenen Datenformate:</p>
<ul>
<li>Eine RDS-Datei (.rds) speichert ein einzelnes R-Objekt, z. B. einen Datenrahmen. Sie sind nützlich, um bereinigte Daten zu speichern, da sie R-Spaltenklassen enthalten. Lies mehr in <a href="#import_rds">diesem Abschnitt</a>.</li>
<li>Eine RData-Datei (.Rdata) kann verwendet werden, um mehrere Objekte oder sogar einen kompletten R-Arbeitsbereich zu speichern. Lies mehr in <a href="#import_rdata">diesem Abschnitt</a>.</li>
</ul>
<!-- ======================================================= -->
</section>
<section id="die-rio-paket" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="die-rio-paket"><span class="header-section-number">7.2</span> Die <strong>rio</strong> Paket</h2>
<p>Das R-Paket, das wir empfehlen, ist: <strong>rio</strong>. Der Name “rio” ist eine Abkürzung für “R I/O” (input/output).</p>
<p>Seine Funktionen <code>import()</code> und <code>export()</code> können mit vielen verschiedenen Dateitypen umgehen (z. B. .xlsx, .csv, .rds, .tsv). Wenn du einen Dateipfad für eine dieser Funktionen angibst (einschließlich der Dateierweiterung wie “.csv”), <strong>rio</strong> die Erweiterung und verwendet das richtige Tool, um die Datei zu importieren oder zu exportieren.</p>
<p>Die Alternative zur Verwendung von <strong>rio</strong> zu verwenden, ist die Verwendung von Funktionen aus vielen anderen Paketen, von denen jedes für einen bestimmten Dateityp spezifisch ist. Zum Beispiel, <code>read.csv()</code> (<strong>base</strong> R), <code>read.xlsx()</code> (<strong>openxlsx</strong> Paket), und <code>write_csv()</code> (<strong>readr</strong> pacakge), etc. Diese Alternativen können schwer zu merken sein, während die Verwendung von <code>import()</code> und <code>export()</code> von <strong>rio</strong> ist einfach.</p>
<p><strong>rio</strong>’s Funktionen <code>import()</code> und <code>export()</code> das passende Paket und die passende Funktion für eine bestimmte Datei verwenden, basierend auf ihrer Dateierweiterung. Am Ende dieser Seite findest du eine vollständige Tabelle mit den Paketen/Funktionen <strong>rio</strong> im Hintergrund verwendet. Es kann auch dazu verwendet werden, STATA-, SAS- und SPSS-Dateien zu importieren, neben Dutzenden anderer Dateitypen.</p>
<p>Der Import/Export von Shapefiles erfordert andere Pakete, wie auf der Seite über [GIS-Grundlagen].</p>
</section>
<section id="here" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="here"><span class="header-section-number">7.3</span> Die <strong>hier</strong> Paket</h2>
<p>Das Paket <strong>hier</strong> und seine Funktion <code>here()</code> machen es einfach, R mitzuteilen, wo es deine Dateien finden und speichern soll - im Wesentlichen werden Dateipfade erstellt.</p>
<p>Wird in Verbindung mit einem R-Projekt verwendet, <strong>hier</strong> können Sie den Speicherort der Dateien in Ihrem R-Projekt in Bezug auf das R-Projekt selbst beschreiben. <em>Stammverzeichnis</em> (der oberste Ordner). Das ist nützlich, wenn das R-Projekt von mehreren Personen/Computern genutzt wird. Es verhindert Komplikationen aufgrund von eindeutigen Dateipfaden auf verschiedenen Computern (z. B. <code>"C:/Users/Laura/Documents..."</code> indem du den Dateipfad an einem Ort beginnst, der für alle Benutzer gleich ist (das Stammverzeichnis des R-Projekts).</p>
<p>So wird <code>here()</code> innerhalb eines R-Projekts funktioniert:</p>
<ul>
<li>Wenn die <strong>hier</strong> Paket zum ersten Mal in das R-Projekt geladen wird, legt es eine kleine Datei namens “.here” im Stammverzeichnis deines R-Projekts als “Benchmark” oder “Anker” ab</li>
<li>Um in deinen Skripten auf eine Datei in den Unterordnern des R-Projekts zu verweisen, verwendest du die Funktion <code>here()</code> um den Dateipfad zu erstellen <em>in Bezug auf diesen Anker</em></li>
<li>Um den Dateipfad zu erstellen, schreibst du die Namen der Ordner, die über das Stammverzeichnis hinausgehen, in Anführungszeichen, getrennt durch Kommas, und endest schließlich mit dem Dateinamen und der Dateierweiterung, wie unten gezeigt</li>
<li><code>here()</code> Dateipfade können sowohl für den Import als auch für den Export verwendet werden</li>
</ul>
<p>Im Folgenden wird zum Beispiel die Funktion <code>import()</code> wird ein Dateipfad übergeben, der mit <code>here()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"linelists"</span>, <span class="st">"ebola_linelist.xlsx"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Der Befehl <code>here("data", "linelists", "ebola_linelist.xlsx")</code> gibt eigentlich den vollständigen Dateipfad an, der <em>der nur auf dem Computer des Benutzers</em>:</p>
<pre><code>"C:/Users/Laura/Documents/my_R_project/data/linelists/ebola_linelist.xlsx"</code></pre>
<p>Das Schöne daran ist, dass der R-Befehl mit <code>here()</code> erfolgreich auf jedem Computer ausgeführt werden kann, der auf das R-Projekt zugreift.</p>
<p><span style="color: darkgreen;"><strong><em>TIPP:</em></strong> Wenn du dir nicht sicher bist, wo die “.here”-Wurzel gesetzt ist, führe die Funktion <code>here()</code> mit leeren Klammern aus.</span></p>
<p>Lies mehr über die <strong>hier</strong> Paket <a href="https://here.r-lib.org/">unter diesem Link</a>.</p>
<!-- ======================================================= -->
</section>
<section id="dateipfade" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="dateipfade"><span class="header-section-number">7.4</span> Dateipfade</h2>
<p>Wenn du Daten importierst oder exportierst, musst du einen Dateipfad angeben. Du kannst dies auf drei Arten tun:</p>
<ol type="1">
<li><em>Empfohlen:</em> Gib einen “relativen” Dateipfad mit der Option <strong>hier</strong> Paket</li>
<li>Gib den “vollständigen” / “absoluten” Dateipfad an</li>
<li>Manuelle Dateiauswahl</li>
</ol>
<section id="relative-dateipfade" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="relative-dateipfade">“Relative” Dateipfade</h3>
<p>In R bestehen “relative” Dateipfade aus dem Dateipfad <em>relativ zu</em> dem Stammverzeichnis eines R-Projekts. Sie ermöglichen einfachere Dateipfade, die auf verschiedenen Computern funktionieren können (z. B. wenn das R-Projekt auf einem gemeinsamen Laufwerk liegt oder per E-Mail verschickt wird). Wie beschrieben <a href="#here">oben</a> beschrieben, werden relative Dateipfade durch die Verwendung der <strong>hier</strong> Pakets.</p>
<p>Ein Beispiel für einen relativen Dateipfad, der mit <code>here()</code> konstruiert wurde, ist unten zu sehen. Wir gehen davon aus, dass sich die Arbeit in einem R-Projekt befindet, das einen Unterordner “data” und darin einen Unterordner “linelists” enthält, in dem sich die betreffende .xlsx-Datei befindet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"linelists"</span>, <span class="st">"ebola_linelist.xlsx"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="absolute-dateipfade" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="absolute-dateipfade">“Absolute” Dateipfade</h3>
<p>Absolute oder “vollständige” Dateipfade können an Funktionen übergeben werden wie <code>import()</code> zur Verfügung gestellt werden, aber sie sind “zerbrechlich”, da sie nur für den Computer des Nutzers gelten und daher <em>nicht empfohlen</em>.</p>
<p>Unten siehst du ein Beispiel für einen absoluten Dateipfad: Auf Lauras Computer gibt es einen Ordner “analysis”, einen Unterordner “data” und darin einen Unterordner “linelists”, in dem sich die betreffende .xlsx-Datei befindet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"C:/Users/Laura/Documents/analysis/data/linelists/ebola_linelist.xlsx"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Zu den absoluten Dateipfaden gibt es ein paar Dinge zu beachten:</p>
<ul>
<li><strong>Vermeide die Verwendung absoluter Dateipfade</strong> da sie nicht funktionieren, wenn das Skript auf einem anderen Computer ausgeführt wird</li>
<li>Verwende <em>vorwärts</em> Schrägstriche (<code>/</code>), wie im obigen Beispiel (Hinweis: Dies ist <em>NICHT</em> der Standard für Windows-Dateipfade)</li>
<li>Dateipfade, die mit doppelten Schrägstrichen beginnen (z. B. “//…”), werden wahrscheinlich <strong>von R nicht erkannt werden</strong>nicht erkannt und führt zu einer Fehlermeldung. Erwäge, deine Arbeit auf ein “benanntes” oder “beschriftetes” Laufwerk zu verschieben, das mit einem Buchstaben beginnt (z. B. “J:” oder “C:”). Siehe die Seite über [Wechselwirkungen zwischen Verzeichnissen] für weitere Informationen zu diesem Thema.</li>
</ul>
<p>Ein Szenario, in dem absolute Dateipfade sinnvoll sein können, ist, wenn du eine Datei von einem freigegebenen Laufwerk importieren willst, die für alle Benutzer denselben vollständigen Dateipfad hat.</p>
<p><span style="color: darkgreen;"><strong><em>TIPP:</em></strong> So konvertieren Sie schnell alle <code>\</code> zu <code>/</code> zu konvertieren, markiere den gewünschten Code, benutze Strg+f (in Windows), aktiviere das Kontrollkästchen für “In Auswahl” und benutze dann die Ersetzen-Funktion, um sie zu konvertieren.</span></p>
<!-- ======================================================= -->
</section>
<section id="datei-manuell-auswählen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="datei-manuell-auswählen">Datei manuell auswählen</h3>
<p>Du kannst Daten mit einer der folgenden Methoden manuell importieren:</p>
<ol type="1">
<li>Umgebung RStudio Pane, klicke auf “Datensatz importieren” und wähle die Art der Daten aus</li>
<li>Klicke auf Datei / Datensatz importieren / (wähle die Art der Daten)</li>
<li>Um eine manuelle Auswahl zu treffen, verwende die <em>Basis-R</em> Befehl <code>file.choose()</code> (die Klammern bleiben leer), um das Erscheinen eines <strong>Pop-up-Fensters</strong> das es dem Benutzer ermöglicht, die Datei manuell auf seinem Computer auszuwählen. Zum Beispiel:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual selection of a file. When this command is run, a POP-UP window will appear. </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The file path selected will be supplied to the import() command.</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">file.choose</span>())</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color: darkgreen;"><strong><em>TIPP:</em></strong> Die <strong>Pop-up-Fenster</strong> kann HINTER deinem RStudio-Fenster erscheinen.</span></p>
</section>
</section>
<section id="daten-importieren" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="daten-importieren"><span class="header-section-number">7.5</span> Daten importieren</h2>
<p>Zur Verwendung <code>import()</code> um einen Datensatz zu importieren, ist ganz einfach. Gib einfach den Pfad zur Datei (einschließlich des Dateinamens und der Dateierweiterung) in Anführungszeichen an. Wenn du <code>here()</code> um den Dateipfad zu erstellen, befolge die obigen Anweisungen. Nachfolgend ein paar Beispiele:</p>
<p>Importieren einer csv-Datei, die sich in deinem “Arbeitsverzeichnis” oder im Stammverzeichnis des R-Projekts befindet:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_cleaned.csv"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Importieren des ersten Blatts einer Excel-Arbeitsmappe, die sich in den Unterordnern “data” und “linelists” des R-Projekts befindet (der Dateipfad wurde mit <code>here()</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"linelists"</span>, <span class="st">"linelist_cleaned.xlsx"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Importieren eines Datenrahmens (einer .rds-Datei) unter Verwendung eines absoluten Dateipfads:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"C:/Users/Laura/Documents/tuberculosis/data/linelists/linelist_cleaned.rds"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="spezifische-excel-tabellen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="spezifische-excel-tabellen">Spezifische Excel-Tabellen</h3>
<p>Wenn du eine Excel-Arbeitsmappe (.xlsx) an die Datenbank übergibst, wird diese standardmäßig <code>import()</code> angibst, wird das erste Blatt der Arbeitsmappe importiert. Wenn du ein bestimmtes Blatt importieren möchtest <strong>Blatt</strong> importieren möchtest, füge den Blattnamen in die <code>which =</code> Argument. Zum Beispiel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"my_excel_file.xlsx"</span>, <span class="at">which =</span> <span class="st">"Sheetname"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn du das <code>here()</code> Methode verwenden, um einen relativen Pfad zu <code>import()</code> verwenden, können Sie trotzdem ein bestimmtes Blatt angeben, indem Sie die <code>which =</code> Argument nach der schließenden Klammer der Methode <code>here()</code> Funktion hinzufügst.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstration: importing a specific Excel sheet when using relative pathways with the 'here' package</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>linelist_raw <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"linelist.xlsx"</span>), <span class="at">which =</span> <span class="st">"Sheet1"</span>)<span class="st">`</span><span class="at">  </span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>An <em>exportieren</em> einen Datenrahmen aus R in ein bestimmtes Excel-Blatt zu exportieren und den Rest der Excel-Arbeitsmappe unverändert zu lassen, musst du mit einem alternativen Paket importieren, bearbeiten und exportieren, das für diesen Zweck geeignet ist, wie z. B. <strong>openxlsx</strong>. Weitere Informationen finden Sie auf der Seite über [Verzeichnis-Interaktionen] oder<a href="https://ycphs.github.io/openxlsx/">auf dieser Github-Seite</a>.</p>
<p>Wenn deine Excel-Arbeitsmappe das Format .xlsb hat (Excel-Arbeitsmappe im Binärformat), kannst du sie möglicherweise nicht importieren, indem du <strong>rio</strong>. Erwäge, sie erneut als .xlsx zu speichern, oder verwende ein Paket wie <strong>readxlsb</strong> das für folgende Zwecke entwickelt wurde <a href="https://cran.r-project.org/web/packages/readxlsb/vignettes/read-xlsb-workbook.html">diesem Zweck</a>.</p>
<!-- ======================================================= -->
</section>
<section id="fehlende-werte-import_missing-.unnumbered" class="level3" data-number="7.5.1">
<h3 data-number="7.5.1" class="anchored" data-anchor-id="fehlende-werte-import_missing-.unnumbered"><span class="header-section-number">7.5.1</span> Fehlende Werte {#import_missing .unnumbered}</h3>
<p>Du möchtest vielleicht festlegen, welche Werte in deinem Datensatz als fehlend gelten sollen. Wie auf der Seite über [Fehlende Daten] erläutert, ist der Wert in R für fehlende Daten<code>NA</code> aber vielleicht verwendet der Datensatz, den du importieren möchtest, stattdessen 99, “Missing” oder einfach nur ein leeres Zeichen ““.</p>
<p>Verwenden Sie die <code>na =</code> Argument für <code>import()</code> und gib den/die Wert(e) in Anführungszeichen an (auch wenn es Zahlen sind). Du kannst mehrere Werte angeben, indem du sie in einen Vektor einschließt, indem du <code>c()</code> wie unten gezeigt.</p>
<p>Hier wird der Wert “99” im importierten Datensatz als fehlend betrachtet und in <code>NA</code> in R umgewandelt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"my_linelist.xlsx"</span>), <span class="at">na =</span> <span class="st">"99"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hier wird jeder der Werte “Missing”, “” (leere Zelle) oder ” ” (einzelnes Leerzeichen) im importierten Datensatz in <code>NA</code> in R umgewandelt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"my_linelist.csv"</span>), <span class="at">na =</span> <span class="fu">c</span>(<span class="st">"Missing"</span>, <span class="st">""</span>, <span class="st">" "</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="zeilen-überspringen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="zeilen-überspringen">Zeilen überspringen</h3>
<p>Manchmal möchtest du vielleicht vermeiden, eine Datenzeile zu importieren. Das kannst du mit dem Argument <code>skip =</code> wenn du <code>import()</code> von <strong>rio</strong> auf eine .xlsx oder .csv Datei. Gib die Anzahl der Zeilen an, die übersprungen werden sollen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>linelist_raw <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.xlsx"</span>, <span class="at">skip =</span> <span class="dv">1</span>)  <span class="co"># does not import header row</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Leider <code>skip =</code> nur einen ganzzahligen Wert akzeptiert, <em>nicht</em> einen Bereich (z. B. “2:10” funktioniert nicht). Um den Import bestimmter Zeilen, die nicht von oben nach unten aufeinander folgen, zu überspringen, kannst du den Import mehrfach durchführen und die <code>bind_rows()</code> von <strong>dplyr</strong>. Siehe das Beispiel unten, in dem nur Zeile 2 übersprungen wird.</p>
</section>
<section id="verwalte-eine-zweite-kopfzeile" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="verwalte-eine-zweite-kopfzeile">Verwalte eine zweite Kopfzeile</h3>
<p>Manchmal kann es vorkommen, dass deine Daten eine <em>zweite</em> Zeile, zum Beispiel wenn es sich um eine “Data Dictionary”-Zeile handelt, wie unten gezeigt. Diese Situation kann problematisch sein, denn sie kann dazu führen, dass alle Spalten als Klasse “Zeichen” importiert werden.</p>
<p>Unten siehst du ein Beispiel für einen solchen Datensatz (wobei die erste Zeile das Datenwörterbuch ist).</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-9e5ed7cb9b114f355177" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9e5ed7cb9b114f355177">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["case identification number assigned by MOH","5fe599","8689b7","11f8ea","b8812a"],["transmission chain generation number","4","4","2","3"],["estimated date of infection, mm/dd/yyyy","2014-05-08",null,null,"2014-05-04"],["date of symptom onset, YYYY-MM-DD","2014-05-13","2014-05-13","2014-05-16","2014-05-18"],["date of initial hospitalization, mm/dd/yyyy","2014-05-15","2014-05-14","2014-05-18","2014-05-20"],["date of outcome status determination",null,"2014-05-18","2014-05-30",null],["either 'Death' or 'Recovered' or 'Unknown'",null,"Recover","Recover",null],["either 'm' or 'f' or 'unknown'","m","f","m","f"],["age number","2","3","56","18"],["age unit, either 'years' or 'months' or 'days'","years","years","years","years"],[null,"2","3","56","18"],[null,"0-4","0-4","50-69","15-19"],[null,"0-4","0-4","55-59","15-19"],["Name of hospital of first admission","Other","Missing","St. Mark's Maternity Hospital (SMMH)","Port Hospital"],["longitude of residence, approx","-13.2157351064963","-13.2152339775486","-13.212910703914","-13.2363711169728"],["latitude of residence, approx","8.46897295100924","8.45171855856465","8.46481700596819","8.4754761613651"],["case_id of infector","f547d6",null,null,"f90f5f"],["context of known transmission event","other",null,null,"other"],[null,"27","25","91","41"],[null,"48","59","238","135"],[null,"22","22","21","23"],["presence of fever on admission, either 'yes' or 'no'","no",null,null,"no"],["presence of chills on admission, either 'yes' or 'no'","no",null,null,"no"],["presence of cough on admission, either 'yes' or 'no'","yes",null,null,"no"],["presence of aches on admission, either 'yes' or 'no'","no",null,null,"no"],["presence of vomiting on admission, either 'yes' or 'no'","yes",null,null,"no"],[null,"36.8","36.9","36.9","36.8"],["time of hospital admission HH:MM",null,"09:36","16:48","11:22"],[null,"117.1875","71.8184429761563","16.0652496292635","22.4965706447188"],[null,"2","1","2","2"]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>case_id<\/th>\n      <th>generation<\/th>\n      <th>date_infection<\/th>\n      <th>date_onset<\/th>\n      <th>date_hospitalisation<\/th>\n      <th>date_outcome<\/th>\n      <th>outcome<\/th>\n      <th>gender<\/th>\n      <th>age<\/th>\n      <th>age_unit<\/th>\n      <th>age_years<\/th>\n      <th>age_cat<\/th>\n      <th>age_cat5<\/th>\n      <th>hospital<\/th>\n      <th>lon<\/th>\n      <th>lat<\/th>\n      <th>infector<\/th>\n      <th>source<\/th>\n      <th>wt_kg<\/th>\n      <th>ht_cm<\/th>\n      <th>ct_blood<\/th>\n      <th>fever<\/th>\n      <th>chills<\/th>\n      <th>cough<\/th>\n      <th>aches<\/th>\n      <th>vomit<\/th>\n      <th>temp<\/th>\n      <th>time_admission<\/th>\n      <th>bmi<\/th>\n      <th>days_onset_hosp<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"scrollX":true,"columnDefs":[{"name":"case_id","targets":0},{"name":"generation","targets":1},{"name":"date_infection","targets":2},{"name":"date_onset","targets":3},{"name":"date_hospitalisation","targets":4},{"name":"date_outcome","targets":5},{"name":"outcome","targets":6},{"name":"gender","targets":7},{"name":"age","targets":8},{"name":"age_unit","targets":9},{"name":"age_years","targets":10},{"name":"age_cat","targets":11},{"name":"age_cat5","targets":12},{"name":"hospital","targets":13},{"name":"lon","targets":14},{"name":"lat","targets":15},{"name":"infector","targets":16},{"name":"source","targets":17},{"name":"wt_kg","targets":18},{"name":"ht_cm","targets":19},{"name":"ct_blood","targets":20},{"name":"fever","targets":21},{"name":"chills","targets":22},{"name":"cough","targets":23},{"name":"aches","targets":24},{"name":"vomit","targets":25},{"name":"temp","targets":26},{"name":"time_admission","targets":27},{"name":"bmi","targets":28},{"name":"days_onset_hosp","targets":29}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="entferne-die-zweite-kopfzeile" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="entferne-die-zweite-kopfzeile">Entferne die zweite Kopfzeile</h4>
<p>Um die zweite Kopfzeile zu entfernen, musst du die Daten wahrscheinlich zweimal importieren.</p>
<ol type="1">
<li>Importiere die Daten, um die richtigen Spaltennamen zu speichern</li>
<li>Importiere die Daten erneut und überspringe dabei den ersten <em>zwei</em> Zeilen (Kopfzeile und zweite Zeile)</li>
<li>Binde die richtigen Namen an den reduzierten Datenrahmen</li>
</ol>
<p>Das genaue Argument, das zum Binden der korrekten Spaltennamen verwendet wird, hängt von der Art der Datendatei ab (.csv, .tsv, .xlsx, etc.). Das liegt daran, dass <strong>rio</strong> eine andere Funktion für die verschiedenen Dateitypen verwendet (siehe Tabelle oben).</p>
<p><strong>Für Excel-Dateien:</strong> (<code>col_names =</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import first time; store the column names</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>linelist_raw_names <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.xlsx"</span>) <span class="sc">%&gt;%</span> <span class="fu">names</span>()  <span class="co"># save true column names</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># import second time; skip row 2, and assign column names to argument col_names =</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>linelist_raw <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.xlsx"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">skip =</span> <span class="dv">2</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">col_names =</span> linelist_raw_names</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                       ) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Für CSV-Dateien:</strong> (<code>col.names =</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import first time; sotre column names</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>linelist_raw_names <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.csv"</span>) <span class="sc">%&gt;%</span> <span class="fu">names</span>() <span class="co"># save true column names</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># note argument for csv files is 'col.names = '</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>linelist_raw <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.csv"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">skip =</span> <span class="dv">2</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">col.names =</span> linelist_raw_names</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                       ) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Backup-Option</strong> - Ändern von Spaltennamen als separater Befehl</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign/overwrite headers using the base 'colnames()' function</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(linelist_raw) <span class="ot">&lt;-</span> linelist_raw_names</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ein-datenwörterbuch-erstellen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="ein-datenwörterbuch-erstellen">Ein Datenwörterbuch erstellen</h4>
<p>Bonus! Wenn du eine zweite Zeile hast, die ein Datenwörterbuch ist, kannst du daraus ganz einfach ein richtiges Datenwörterbuch erstellen. Dieser Tipp ist von diesem <a href="https://alison.rbind.io/post/2018-02-23-read-multiple-header-rows/">Beitrag</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dict <span class="ot">&lt;-</span> linelist_2headers <span class="sc">%&gt;%</span>             <span class="co"># begin: linelist with dictionary as first row</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span>                             <span class="co"># keep only column names and first dictionary row                </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),       <span class="co"># pivot all columns to long format</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Column"</span>,       <span class="co"># assign new column names</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Description"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-87a20766dcd8f125e51b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-87a20766dcd8f125e51b">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["case_id","generation","date_infection","date_onset","date_hospitalisation","date_outcome","outcome","gender","age","age_unit","age_years","age_cat","age_cat5","hospital","lon","lat","infector","source","wt_kg","ht_cm","ct_blood","fever","chills","cough","aches","vomit","temp","time_admission","bmi","days_onset_hosp"],["case identification number assigned by MOH","transmission chain generation number","estimated date of infection, mm/dd/yyyy","date of symptom onset, YYYY-MM-DD","date of initial hospitalization, mm/dd/yyyy","date of outcome status determination","either 'Death' or 'Recovered' or 'Unknown'","either 'm' or 'f' or 'unknown'","age number","age unit, either 'years' or 'months' or 'days'",null,null,null,"Name of hospital of first admission","longitude of residence, approx","latitude of residence, approx","case_id of infector","context of known transmission event",null,null,null,"presence of fever on admission, either 'yes' or 'no'","presence of chills on admission, either 'yes' or 'no'","presence of cough on admission, either 'yes' or 'no'","presence of aches on admission, either 'yes' or 'no'","presence of vomiting on admission, either 'yes' or 'no'",null,"time of hospital admission HH:MM",null,null]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>Column<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"scrollX":true,"columnDefs":[{"name":"Column","targets":0},{"name":"Description","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="kombiniere-die-beiden-kopfzeilen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="kombiniere-die-beiden-kopfzeilen">Kombiniere die beiden Kopfzeilen</h4>
<p>In manchen Fällen, wenn dein Rohdatensatz <em>zwei</em> Kopfzeilen hat (oder genauer gesagt, die zweite Datenzeile ist eine sekundäre Kopfzeile), möchtest du sie vielleicht “kombinieren” oder die Werte der zweiten Kopfzeile zur ersten Kopfzeile hinzufügen.</p>
<p>Mit dem folgenden Befehl werden die Spaltennamen des Datenrahmens als Kombination (Zusammenfügen) der ersten (echten) Kopfzeile mit dem Wert direkt darunter (in der ersten Zeile) definiert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_data) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(my_data), my_data[<span class="dv">1</span>, ], <span class="at">sep =</span> <span class="st">"_"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
</section>
<section id="google-sheets" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="google-sheets">Google Sheets</h3>
<p>Du kannst Daten aus einer Online-Google-Tabelle importieren, indem du die <strong>googlesheet4</strong> Paket und durch Authentifizierung deines Zugriffs auf die Tabelle importieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"googlesheets4"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nachfolgend wird ein Google-Demoblatt importiert und gespeichert. Dieser Befehl kann zur Bestätigung der Authentifizierung deines Google-Kontos auffordern. Folge den Aufforderungen und Pop-ups in deinem Internetbrowser, um den Tidyverse API-Paketen die Berechtigung zum Bearbeiten, Erstellen und Löschen deiner Tabellen in Google Drive zu erteilen.</p>
<p>Das Blatt unten ist “für jeden mit dem Link einsehbar” und du kannst versuchen, es zu importieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>Gsheets_demo <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(<span class="st">"https://docs.google.com/spreadsheets/d/1scgtzkVLLHAe5a6_eFQEwkZcc14yFUx1KgOMZ4AKUfY/edit#gid=0"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Das Blatt kann auch nur mit der Blatt-ID, einem kürzeren Teil der URL, importiert werden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>Gsheets_demo <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(<span class="st">"1scgtzkVLLHAe5a6_eFQEwkZcc14yFUx1KgOMZ4AKUfY"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ein anderes Paket, <strong>googledrive</strong> bietet nützliche Funktionen zum Schreiben, Bearbeiten und Löschen von Google Sheets. Zum Beispiel kann man mit dem <code>gs4_create()</code> und <code>sheet_write()</code> Funktionen, die du in diesem Paket findest.</p>
<p>Hier sind einige andere hilfreiche Online-Tutorials:<br>
<a href="https://arbor-analytics.com/post/getting-your-data-into-r-from-google-sheets/">Grundlegende Anleitung zum Importieren von Google Sheets</a><br>
<a href="https://googlesheets4.tidyverse.org/articles/googlesheets4.html">Ausführlicheres Tutorial</a><br>
<a href="https://googlesheets4.tidyverse.org/articles/articles/drive-and-sheets.html">Interaktion zwischen googlesheets4 und tidyverse</a></p>
</section>
</section>
<section id="mehrere-dateien---importieren-exportieren-teilen-kombinieren" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="mehrere-dateien---importieren-exportieren-teilen-kombinieren"><span class="header-section-number">7.6</span> Mehrere Dateien - importieren, exportieren, teilen, kombinieren</h2>
<p>Siehe die Seite über [Iteration, Schleifen und Listen] findest du Beispiele dafür, wie du mehrere Dateien oder mehrere Excel-Arbeitsmappendateien importieren und kombinieren kannst. Auf dieser Seite findest du auch Beispiele dafür, wie du einen Datenrahmen in mehrere Teile aufteilst und diese einzeln oder als benannte Blätter in einer Excel-Arbeitsmappe exportierst.</p>
<!-- ======================================================= -->
</section>
<section id="von-github-importieren-import_github" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="von-github-importieren-import_github"><span class="header-section-number">7.7</span> Von Github importieren {#import_github}</h2>
<p>Daten direkt von Github in R zu importieren, kann sehr einfach sein oder ein paar Schritte erfordern - je nach Dateityp. Im Folgenden findest du einige Ansätze:</p>
<section id="csv-dateien" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="csv-dateien">CSV-Dateien</h3>
<p>Es kann einfach sein, eine .csv-Datei direkt von Github mit einem R-Befehl in R zu importieren.</p>
<ol type="1">
<li>Gehe zum Github-Repositorium, suche die gewünschte Datei und klicke sie an</li>
<li>Klicke auf die Schaltfläche “Raw” (du siehst dann die “rohen” csv-Daten, wie unten dargestellt)</li>
<li>Kopiere die URL (Webadresse)</li>
<li>Setze die URL in Anführungszeichen innerhalb der <code>import()</code> R-Befehl</li>
</ol>
<div class="cell" data-layout-align="left">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="../images/download_csv_raw.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="../images/download_csv_raw.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="xlsx-dateien" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="xlsx-dateien">XLSX-Dateien</h3>
<p>Bei einigen Dateien (z. B. .xlsx, .rds, .nwk, .shp) kannst du die “Rohdaten” möglicherweise nicht anzeigen.</p>
<ol type="1">
<li>Gehe zum Github Repo, suche die gewünschte Datei und klicke sie an</li>
<li>Klicke auf die Schaltfläche “Herunterladen”, wie unten gezeigt</li>
<li>Speichere die Datei auf deinem Computer und importiere sie in R</li>
</ol>
<div class="cell" data-layout-align="left">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="../images/download_xlsx.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="../images/download_xlsx.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="shapefiles" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="shapefiles">Shapefiles</h3>
<p>Shapefiles haben viele Unterdateien, die jeweils eine andere Dateierweiterung haben. Eine Datei hat die Endung “.shp”, aber andere können “.dbf”, “.prj” usw. haben. Um ein Shapefile von Github herunterzuladen, musst du jede Unterkomponentendatei einzeln herunterladen und sie im Ordner <em>gleichen</em> Ordner auf deinem Computer speichern. Klicke in Github auf jede einzelne Datei und lade sie herunter, indem du auf die Schaltfläche “Herunterladen” klickst.</p>
<p>Sobald du sie auf deinem Computer gespeichert hast, kannst du das Shapefile importieren, wie im Abschnitt [GIS-Grundlagen] Seite gezeigt, mit<code>st_read()</code> aus dem <strong>sf</strong> Paket. Du musst nur den Dateipfad und den Namen der “.shp”-Datei angeben - vorausgesetzt, die anderen zugehörigen Dateien befinden sich im selben Ordner auf deinem Computer.</p>
<p>Unten kannst du sehen, wie das Shapefile “sle_adm3” aus vielen Dateien besteht, die alle von Github heruntergeladen werden müssen.</p>
<div class="cell" data-layout-align="left">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="../images/download_shp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="../images/download_shp.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section>
</section>
<section id="manuelle-dateneingabe" class="level2" data-number="7.8">
<h2 data-number="7.8" class="anchored" data-anchor-id="manuelle-dateneingabe"><span class="header-section-number">7.8</span> Manuelle Dateneingabe</h2>
<section id="eingabe-nach-zeilen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="eingabe-nach-zeilen">Eingabe nach Zeilen</h3>
<p>Verwenden Sie die <code>tribble</code> Funktion aus dem <strong>tibble</strong> Paket aus dem tidyverse (<a href="https://tibble.tidyverse.org/reference/tribble.html">Online-Referenz für tibble</a>).</p>
<p>Beachte, dass die Spaltenüberschriften mit einem <em>Tilde</em> (<code>~</code>). Beachte auch, dass jede Spalte nur eine Klasse von Daten enthalten darf (Zeichen, Zahlen usw.). Du kannst Tabulatoren, Abstände und neue Zeilen verwenden, um die Dateneingabe intuitiver und lesbarer zu machen. Leerzeichen zwischen den Werten spielen keine Rolle, aber jede Zeile wird durch eine neue Codezeile dargestellt. Ein Beispiel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create the dataset manually by row</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>manual_entry_rows <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>colA, <span class="sc">~</span>colB,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"a"</span>,   <span class="dv">1</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"b"</span>,   <span class="dv">2</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"c"</span>,   <span class="dv">3</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Und jetzt zeigen wir den neuen Datensatz an:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-aaf23e9a7b67f04f42bc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-aaf23e9a7b67f04f42bc">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["a","b","c"],[1,2,3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>colA<\/th>\n      <th>colB<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"colA","targets":1},{"name":"colB","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="eintrag-nach-spalten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="eintrag-nach-spalten">Eintrag nach Spalten</h3>
<p>Da ein Datenrahmen aus Vektoren (vertikalen Spalten) besteht, ist die <strong>Basis</strong> Ansatz zur manuellen Erstellung von Datenrahmen in R, dass du jede Spalte definierst und sie dann miteinander verbindest. Das kann in der Epidemiologie kontraintuitiv sein, da wir unsere Daten normalerweise in Zeilen denken (wie oben).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define each vector (vertical column) separately, each with its own name</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>PatientID <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">235</span>, <span class="dv">452</span>, <span class="dv">778</span>, <span class="dv">111</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>Treatment <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Yes"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>Death     <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color: orange;"><strong><em>VORSICHT!</em></strong> Alle Vektoren müssen die gleiche Länge haben (gleiche Anzahl von Werten).</span></p>
<p>Die Vektoren können dann mit der Funktion zusammengebunden werden <code>data.frame()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combine the columns into a data frame, by referencing the vector names</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>manual_entry_cols <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(PatientID, Treatment, Death)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Und jetzt zeigen wir den neuen Datensatz an:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e39d08b59e0b29892d70" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e39d08b59e0b29892d70">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],[235,452,778,111],["Yes","No","Yes","Yes"],[1,0,1,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>PatientID<\/th>\n      <th>Treatment<\/th>\n      <th>Death<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"PatientID","targets":1},{"name":"Treatment","targets":2},{"name":"Death","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="einfügen-aus-der-zwischenablage" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="einfügen-aus-der-zwischenablage">Einfügen aus der Zwischenablage</h3>
<p>Wenn du Daten von einem anderen Ort kopierst und sie in deiner Zwischenablage hast, kannst du eine der beiden folgenden Möglichkeiten ausprobieren:</p>
<p>Von der <strong>clipr</strong> Paket kannst du Folgendes verwenden <code>read_clip_tbl()</code> als Datenrahmen importieren, oder einfach nur <code>read_clip()</code> um als Zeichenvektor zu importieren. In beiden Fällen lässt du die Klammern leer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> clipr<span class="sc">::</span><span class="fu">read_clip_tbl</span>()  <span class="co"># imports current clipboard as data frame</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> clipr<span class="sc">::</span><span class="fu">read_clip</span>()      <span class="co"># imports as character vector</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Du kannst auch einfach in die Zwischenablage deines Systems exportieren mit <strong>clipr</strong>. Siehe den Abschnitt unten über Export.</p>
<p>Alternativ kannst du auch die Funktion <code>read.table()</code> Funktion von <strong>Basis</strong> R mit <code>file = "clipboard")</code> als Datenrahmen zu importieren:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_from_clipboard <span class="ot">&lt;-</span> <span class="fu">read.table</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clipboard"</span>,  <span class="co"># specify this as "clipboard"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">"t"</span>,           <span class="co"># separator could be tab, or commas, etc.</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">header=</span><span class="cn">TRUE</span>)         <span class="co"># if there is a header row</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="importiere-die-letzte-datei" class="level2" data-number="7.9">
<h2 data-number="7.9" class="anchored" data-anchor-id="importiere-die-letzte-datei"><span class="header-section-number">7.9</span> Importiere die letzte Datei</h2>
<p>Oft erhältst du tägliche Aktualisierungen deiner Datensätze. In diesem Fall möchtest du einen Code schreiben, der die aktuellste Datei importiert. Im Folgenden stellen wir dir zwei Möglichkeiten vor, wie du vorgehen kannst:</p>
<ul>
<li>Auswahl der Datei anhand des Datums im Dateinamen</li>
<li>Auswahl der Datei anhand der Datei-Metadaten (letzte Änderung)</li>
</ul>
<section id="datum-im-dateinamen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="datum-im-dateinamen">Datum im Dateinamen</h3>
<p>Dieser Ansatz beruht auf drei Voraussetzungen:</p>
<ol type="1">
<li>Du vertraust den Daten in den Dateinamen</li>
<li>Die Datumsangaben sind numerisch und erscheinen in <em>der Regel</em> demselben Format (z.B. Jahr, Monat, Tag)</li>
<li>Es gibt keine anderen Zahlen im Dateinamen</li>
</ol>
<p>Wir erklären dir die einzelnen Schritte und zeigen sie dir am Ende kombiniert.</p>
<p>Verwende zunächst <code>dir()</code> von <strong>Basis</strong>R, um nur die Dateinamen für jede Datei im gewünschten Ordner zu extrahieren. Siehe die Seite über [Verzeichnis-Interaktionen] für weitere Details über<code>dir()</code>. In diesem Beispiel ist der Ordner von Interesse der Ordner “linelists” innerhalb des Ordners “example” innerhalb von “data” im R-Projekt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>linelist_filenames <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"example"</span>, <span class="st">"linelists"</span>)) <span class="co"># get file names from folder</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>linelist_filenames                                              <span class="co"># print</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "20201007linelist.csv"          "case_linelist_2020-10-02.csv" 
[3] "case_linelist_2020-10-03.csv"  "case_linelist_2020-10-04.csv" 
[5] "case_linelist_2020-10-05.csv"  "case_linelist_2020-10-08.xlsx"
[7] "case_linelist20201006.csv"    </code></pre>
</div>
</div>
<p>Sobald du diesen Vektor von Namen hast, kannst du die Daten aus ihnen extrahieren, indem du <code>str_extract()</code> von <strong>stringr</strong> mithilfe dieses regulären Ausdrucks. Er extrahiert alle Zahlen im Dateinamen (einschließlich aller anderen Zeichen in der Mitte wie Bindestriche oder Schrägstriche). Du kannst mehr darüber lesen <strong>stringr</strong>im Abschnitt [Zeichenketten und Zeichen] Seite.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>linelist_dates_raw <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(linelist_filenames, <span class="st">"[0-9].*[0-9]"</span>) <span class="co"># extract numbers and any characters in between</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>linelist_dates_raw  <span class="co"># print</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "20201007"   "2020-10-02" "2020-10-03" "2020-10-04" "2020-10-05"
[6] "2020-10-08" "20201006"  </code></pre>
</div>
</div>
<p>Angenommen, die Daten werden im Allgemeinen im gleichen Datumsformat geschrieben (z. B. Jahr, dann Monat, dann Tag) und die Jahre sind 4-stellig, dann kannst du Folgendes verwenden <strong>lubridate</strong> die flexiblen Konvertierungsfunktionen (<code>ymd()</code>, <code>dmy()</code>, oder <code>mdy()</code>), um sie in ein Datum umzuwandeln. Bei diesen Funktionen spielen die Bindestriche, Leerzeichen oder Schrägstriche keine Rolle, nur die Reihenfolge der Zahlen. Lies mehr im Abschnitt [Arbeiten mit Datumsangaben] Seite.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>linelist_dates_clean <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">ymd</span>(linelist_dates_raw)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>linelist_dates_clean</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-10-07" "2020-10-02" "2020-10-03" "2020-10-04" "2020-10-05"
[6] "2020-10-08" "2020-10-06"</code></pre>
</div>
</div>
<p>Die <strong>Basis</strong> R-Funktion <code>which.max()</code> kann dann verwendet werden, um die Indexposition (z. B. 1., 2., 3., …) des maximalen Datumswertes zurückzugeben. Die neueste Datei wird korrekt als die 6. Datei identifiziert - “case_linelist_2020-10-08.xlsx”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>index_latest_file <span class="ot">&lt;-</span> <span class="fu">which.max</span>(linelist_dates_clean)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>index_latest_file</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<p>Wenn wir alle diese Befehle zusammenfassen, könnte der vollständige Code wie folgt aussehen. Beachte, dass die <code>.</code> in der letzten Zeile ein Platzhalter für das gepipte Objekt an dieser Stelle der Pipe-Sequenz ist. An dieser Stelle ist der Wert einfach die Zahl 6. Diese wird in doppelte Klammern gesetzt, um das 6. Element des Vektors der Dateinamen zu extrahieren, der von <code>dir()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  tidyverse,         <span class="co"># data management</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  stringr,           <span class="co"># work with strings/characters</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  lubridate,         <span class="co"># work with dates</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  rio,               <span class="co"># import / export</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  here,              <span class="co"># relative file paths</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  fs)                <span class="co"># directory interactions</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the file name of latest file</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>latest_file <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"example"</span>, <span class="st">"linelists"</span>)) <span class="sc">%&gt;%</span>  <span class="co"># file names from "linelists" sub-folder          </span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_extract</span>(<span class="st">"[0-9].*[0-9]"</span>) <span class="sc">%&gt;%</span>                  <span class="co"># pull out dates (numbers)</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ymd</span>() <span class="sc">%&gt;%</span>                                        <span class="co"># convert numbers to dates (assuming year-month-day format)</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">which.max</span>() <span class="sc">%&gt;%</span>                                  <span class="co"># get index of max date (latest file)</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"example"</span>, <span class="st">"linelists"</span>))[[.]]              <span class="co"># return the filename of latest linelist</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>latest_file  <span class="co"># print name of latest file</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "case_linelist_2020-10-08.xlsx"</code></pre>
</div>
</div>
<p>Du kannst diesen Namen nun verwenden, um den relativen Dateipfad zu vervollständigen, indem du <code>here()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"example"</span>, <span class="st">"linelists"</span>, latest_file) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Und schon kannst du die neueste Datei importieren:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"example"</span>, <span class="st">"linelists"</span>, latest_file)) <span class="co"># import </span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="verwende-die-dateiinfo" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="verwende-die-dateiinfo">Verwende die Dateiinfo</h3>
<p>Wenn deine Dateien kein Datum im Namen haben (oder du diesen Daten nicht traust), kannst du versuchen, das Datum der letzten Änderung aus den Datei-Metadaten zu extrahieren. Verwende Funktionen aus dem Paket <strong>fs</strong> um die Metadaten jeder Datei zu untersuchen. Dazu gehören die Zeit der letzten Änderung und der Dateipfad.</p>
<p>Im Folgenden stellen wir den Ordner von Interesse für <strong>fs</strong>’s <code>dir_info()</code>. In diesem Fall befindet sich der Ordner von Interesse im R-Projekt im Ordner “data”, dem Unterordner “example” und dessen Unterordner “linelists”. Das Ergebnis ist ein Datenrahmen mit einer Zeile pro Datei und Spalten für <code>modification_time</code>, <code>path</code>, usw. Ein visuelles Beispiel dafür findest du auf der Seite über [Verzeichnis-Interaktionen].</p>
<p>Wir können diesen Datenrahmen von Dateien nach der Spalte sortieren <code>modification_time</code> sortieren und dann nur die oberste/letzte Zeile (Datei) mit <strong>Basis</strong> R’s <code>head()</code>. Dann können wir den Dateipfad dieser letzten Datei nur mit dem <strong>dplyr</strong> Funktion <code>pull()</code> auf die Spalte <code>path</code>. Schließlich können wir diesen Dateipfad an <code>import()</code>. Die importierte Datei wird gespeichert als <code>latest_file</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>latest_file <span class="ot">&lt;-</span> <span class="fu">dir_info</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"example"</span>, <span class="st">"linelists"</span>)) <span class="sc">%&gt;%</span>  <span class="co"># collect file info on all files in directory</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(modification_time)) <span class="sc">%&gt;%</span>      <span class="co"># sort by modification time</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span>                               <span class="co"># keep only the top (latest) file</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(path) <span class="sc">%&gt;%</span>                            <span class="co"># extract only the file path</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">import</span>()                                  <span class="co"># import the file</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
</section>
<section id="apis-import_api" class="level2" data-number="7.10">
<h2 data-number="7.10" class="anchored" data-anchor-id="apis-import_api"><span class="header-section-number">7.10</span> APIs {#import_api}</h2>
<p>Eine “Automatisierte Programmierschnittstelle” (API) kann verwendet werden, um Daten direkt von einer Website abzufragen. APIs sind eine Reihe von Regeln, die es einer Softwareanwendung ermöglichen, mit einer anderen zu interagieren. Der Client (du) sendet eine “Anfrage” und erhält eine “Antwort” mit Inhalten. Die R-Pakete <strong>httr</strong> und <strong>jsonlite</strong> können diesen Prozess erleichtern.</p>
<p>Jede API-fähige Website hat ihre eigene Dokumentation und Besonderheiten, mit denen du dich vertraut machen musst. Einige Websites sind öffentlich zugänglich und können von jedermann genutzt werden. Andere, wie z. B. Plattformen mit Benutzer-IDs und Anmeldedaten, erfordern eine Authentifizierung, um auf ihre Daten zuzugreifen.</p>
<p>Natürlich ist eine Internetverbindung erforderlich, um Daten über eine API zu importieren. Wir werden kurz Beispiele für die Nutzung von APIs für den Datenimport geben und dich mit weiteren Ressourcen verlinken.</p>
<p><em>Hinweis: Denke daran, dass die Daten </em>veröffentlicht* auf einer Website ohne API veröffentlicht werden, die einfacher abzurufen ist. Auf eine CSV-Datei kann zum Beispiel einfach durch Angabe der URL der Website zugegriffen werden. <code>import()</code> wie in dem Abschnitt über <a href="#import_github">Importieren aus Github</a>.*</p>
<section id="http-anfrage" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="http-anfrage">HTTP-Anfrage</h3>
<p>Der API-Austausch erfolgt in der Regel über eine HTTP-Anfrage. HTTP steht für Hypertext Transfer Protocol und ist das grundlegende Format für eine Anfrage/Antwort zwischen einem Client und einem Server. Die genaue Eingabe und Ausgabe kann je nach Art der API variieren, aber der Prozess ist derselbe - eine “Anfrage” (oft HTTP Request) des Nutzers, die oft eine Abfrage enthält, gefolgt von einer “Antwort”, die Statusinformationen über die Anfrage und möglicherweise den angeforderten Inhalt enthält.</p>
<p>Hier sind ein paar Komponenten einer <em>HTTP-Anfrage</em>:</p>
<ul>
<li>Die URL des API-Endpunkts</li>
<li>Die “Methode” (oder das “Verb”)</li>
<li>Überschriften</li>
<li>Körper</li>
</ul>
<p>Die “Methode” der HTTP-Anfrage ist die Aktion, die du ausführen möchtest. Die beiden gängigsten HTTP-Methoden sind <code>GET</code> und <code>POST</code> aber andere können sein <code>PUT</code>, <code>DELETE</code>, <code>PATCH</code>, usw. Wenn du Daten in R importierst, ist es sehr wahrscheinlich, dass du <code>GET</code>.</p>
<p>Nach deiner Anfrage erhält dein Computer eine “Antwort” in einem ähnlichen Format wie das, was du gesendet hast, einschließlich URL, HTTP-Status (Status 200 ist das, was du willst!), Dateityp, Größe und dem gewünschten Inhalt. Diese Antwort musst du dann in deiner R-Umgebung parsen und in einen brauchbaren Datenrahmen verwandeln.</p>
</section>
<section id="pakete" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="pakete">Pakete</h3>
<p>Die <strong>httr</strong> Paket eignet sich gut für die Bearbeitung von HTTP-Anfragen in R. Es erfordert kaum Vorkenntnisse über Web-APIs und kann auch von Personen verwendet werden, die mit der Terminologie der Softwareentwicklung weniger vertraut sind. Wenn die HTTP-Antwort im .json-Format vorliegt, kannst du außerdem mit <strong>jsonlite</strong> verwenden, um die Antwort zu parsen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(httr, jsonlite, tidyverse)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="öffentlich-zugängliche-daten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="öffentlich-zugängliche-daten">Öffentlich zugängliche Daten</h3>
<p>Im Folgenden findest du ein Beispiel für eine HTTP-Anfrage, das aus einem Tutorial von <a href="https://www.trafforddatalab.io/open_data_companion/#A_quick_introduction_to_APIs">dem Trafford Data Lab</a>. Auf dieser Seite findest du weitere Ressourcen zum Lernen und API-Übungen.</p>
<p>Szenario: Wir wollen eine Liste von Fastfood-Lokalen in der Stadt Trafford, Großbritannien, importieren. Die Daten können über die API der Food Standards Agency abgerufen werden, die Daten zur Lebensmittelhygienebewertung für das Vereinigte Königreich bereitstellt.</p>
<p>Hier sind die Parameter für unsere Anfrage:</p>
<ul>
<li>HTTP-Verb: GET</li>
<li>API-Endpunkt-URL: <a href="http://api.ratings.food.gov.uk/Establishments">http://api.ratings.food.gov.uk/Establishments</a></li>
<li>Ausgewählte Parameter: Name, Adresse, Längengrad, Breitengrad, businessTypeId, ratingKey, localAuthorityId</li>
<li>Header: “x-api-version”, 2</li>
<li>Datenformat(e): JSON, XML</li>
<li>Dokumentation: <a href="http://api.ratings.food.gov.uk/help">http://api.ratings.food.gov.uk/help</a></li>
</ul>
<p>Der R-Code würde wie folgt lauten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare the request</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="st">"http://api.ratings.food.gov.uk/Establishments"</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>request <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="at">url =</span> path,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">query =</span> <span class="fu">list</span>(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">localAuthorityId =</span> <span class="dv">188</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">BusinessTypeId =</span> <span class="dv">7844</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">pageNumber =</span> <span class="dv">1</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">pageSize =</span> <span class="dv">5000</span>),</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>             <span class="fu">add_headers</span>(<span class="st">"x-api-version"</span> <span class="ot">=</span> <span class="st">"2"</span>))</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="co"># check for any server error ("200" is good!)</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>request<span class="sc">$</span>status_code</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="co"># submit the request, parse the response, and convert to a data frame</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">content</span>(request, <span class="at">as =</span> <span class="st">"text"</span>, <span class="at">encoding =</span> <span class="st">"UTF-8"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fromJSON</span>(<span class="at">flatten =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pluck</span>(<span class="st">"establishments"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Du kannst jetzt den Code bereinigen und die <code>response</code> Datenrahmen, der eine Zeile pro Fastfood-Betrieb enthält, bereinigen und verwenden.</p>
</section>
<section id="authentifizierung-erforderlich" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="authentifizierung-erforderlich">Authentifizierung erforderlich</h3>
<p>Für einige APIs ist eine Authentifizierung erforderlich - du musst nachweisen, wer du bist, damit du auf eingeschränkte Daten zugreifen kannst. Um diese Daten zu importieren, musst du eventuell zuerst eine POST-Methode verwenden, um einen Benutzernamen, ein Passwort oder einen Code anzugeben. Dadurch erhältst du ein Zugriffstoken, das du für nachfolgende GET-Anfragen zum Abrufen der gewünschten Daten verwenden kannst.</p>
<p>Im Folgenden findest du ein Beispiel für die Abfrage von Daten aus <em>Go.Daten</em> das ein Werkzeug zur Untersuchung von Ausbrüchen ist. <em>Go.Data</em> verwendet eine API für alle Interaktionen zwischen dem Web-Frontend und den Smartphone-Anwendungen, die für die Datenerfassung verwendet werden. <em>Go.Data</em> wird auf der ganzen Welt verwendet. Weil Ausbruchsdaten sensibel sind und du nur auf Daten zugreifen können solltest, die <em>deine</em> Ausbruch zugreifen kannst, ist eine Authentifizierung erforderlich.</p>
<p>Im Folgenden findest du ein Beispiel für R-Code mit <strong>httr</strong> und <strong>jsonlite</strong> für die Verbindung mit dem <em>Go.Data</em> API, um Daten zur Kontaktverfolgung aus deinem Ausbruch zu importieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set credentials for authorization</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://godatasampleURL.int/"</span>           <span class="co"># valid Go.Data instance url</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>username <span class="ot">&lt;-</span> <span class="st">"username"</span>                          <span class="co"># valid Go.Data username </span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>password <span class="ot">&lt;-</span> <span class="st">"password"</span>                          <span class="co"># valid Go,Data password </span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>outbreak_id <span class="ot">&lt;-</span> <span class="st">"xxxxxx-xxxx-xxxx-xxxx-xxxxxxx"</span>  <span class="co"># valid Go.Data outbreak ID</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># get access token</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>url_request <span class="ot">&lt;-</span> <span class="fu">paste0</span>(url,<span class="st">"api/oauth/token?access_token=123"</span>) <span class="co"># define base URL request</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare request</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">POST</span>(</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">url =</span> url_request,  </span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">body =</span> <span class="fu">list</span>(</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">username =</span> username,    <span class="co"># use saved username/password from above to authorize                               </span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">password =</span> password),                                       </span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">encode =</span> <span class="st">"json"</span>)</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="co"># execute request and parse response</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>content <span class="ot">&lt;-</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">content</span>(response, <span class="at">as =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fromJSON</span>(<span class="at">flatten =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span>          <span class="co"># flatten nested JSON</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Save access token from response</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>access_token <span class="ot">&lt;-</span> content<span class="sc">$</span>access_token    <span class="co"># save access token to allow subsequent API calls below</span></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a><span class="co"># import outbreak contacts</span></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the access token </span></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>response_contacts <span class="ot">&lt;-</span> <span class="fu">GET</span>(</span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(url,<span class="st">"api/outbreaks/"</span>,outbreak_id,<span class="st">"/contacts"</span>),          <span class="co"># GET request</span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_headers</span>(</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">Authorization =</span> <span class="fu">paste</span>(<span class="st">"Bearer"</span>, access_token, <span class="at">sep =</span> <span class="st">" "</span>)))</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a>json_contacts <span class="ot">&lt;-</span> <span class="fu">content</span>(response_contacts, <span class="at">as =</span> <span class="st">"text"</span>)         <span class="co"># convert to text JSON</span></span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>contacts <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">fromJSON</span>(json_contacts, <span class="at">flatten =</span> <span class="cn">TRUE</span>))   <span class="co"># flatten JSON to tibble</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color: orange;"><strong><em>VORSICHT!</em></strong> Wenn du große Datenmengen von einer API importierst, die eine Authentifizierung erfordert, kann es zu einer Zeitüberschreitung kommen. Um dies zu vermeiden, rufe das access_token vor jeder API-GET-Anfrage erneut ab und versuche, Filter oder Beschränkungen in der Abfrage zu verwenden. </span></p>
<p><span style="color: darkgreen;"><strong><em>TIPP:</em></strong> Die <code>fromJSON()</code> Funktion in der <strong>jsonlite</strong> Paket entschachtelt beim ersten Mal nicht vollständig, so dass du wahrscheinlich immer noch Listenelemente in deinem Tibble haben wirst. Je nachdem, wie verschachtelt deine .json-Datei ist, musst du bestimmte Variablen weiter entschachteln. Weitere Informationen dazu findest du in der Dokumentation für die <strong>jsonlite</strong> Paket nach, zum Beispiel in der <a href="https://rdrr.io/cran/jsonlite/man/flatten.html"><code>flatten()</code> Funktion</a>. </span></p>
<p>Für weitere Details, siehe Dokumentation zu <a href="https://loopback.io/doc/en/lb4/index.html">LoopBack Explorer</a>, die [Kontaktverfolgung] Seite oder API-Tipps auf<a href="https://worldhealthorganization.github.io/godata/api-docs">Go.Data Github Repository</a></p>
<p>Du kannst mehr lesen über die <em>httr</em> Paket <a href="https://httr.r-lib.org/articles/quickstart.html">hier</a></p>
<p>Dieser Abschnitt wurde auch informiert von <a href="https://www.dataquest.io/blog/r-api-tutorial/">dieses Tutorium</a> und <a href="https://medium.com/@traffordDataLab/querying-apis-in-r-39029b73d5f1">dieses Tutorial</a>.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="exportieren." class="level2" data-number="7.11">
<h2 data-number="7.11" class="anchored" data-anchor-id="exportieren."><span class="header-section-number">7.11</span> exportieren.</h2>
<section id="mit-rio-paket" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="mit-rio-paket">Mit <strong>rio</strong> Paket</h3>
<p>Mit <strong>rio</strong> kannst du die <code>export()</code> Funktion auf ähnliche Weise verwenden wie <code>import()</code>. Gib zunächst den Namen des R-Objekts an, das du speichern möchtest (z. B. <code>linelist</code>) und gib dann in Anführungszeichen den Dateipfad an, in dem du die Datei speichern möchtest, einschließlich des gewünschten Dateinamens und der Dateierweiterung. Zum Beispiel:</p>
<p>So wird der Datenrahmen gespeichert <code>linelist</code> als Excel-Arbeitsmappe im Arbeitsverzeichnis/Projektstammordner:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export</span>(linelist, <span class="st">"my_linelist.xlsx"</span>) <span class="co"># will save to working directory</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Du kannst denselben Datenrahmen auch als csv-Datei speichern, indem du die Erweiterung änderst. Wir speichern ihn zum Beispiel auch in einem Dateipfad, der mit <code>here()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export</span>(linelist, <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"my_linelist.csv"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="in-die-zwischenablage" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="in-die-zwischenablage">In die Zwischenablage</h3>
<p>Um einen Datenrahmen in die “Zwischenablage” deines Computers zu exportieren (um ihn dann in eine andere Software wie Excel, Google Spreadsheets usw. einzufügen), kannst du Folgendes verwenden <code>write_clip()</code> aus der <strong>clipr</strong> Paket.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># export the linelist data frame to your system's clipboard</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>clipr<span class="sc">::</span><span class="fu">write_clip</span>(linelist)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="rds-dateien-import_rds" class="level2" data-number="7.12">
<h2 data-number="7.12" class="anchored" data-anchor-id="rds-dateien-import_rds"><span class="header-section-number">7.12</span> RDS-Dateien {#import_rds}</h2>
<p>Neben .csv, .xlsx usw. kannst du auch R-Datenrahmen als .rds-Dateien exportieren/speichern. Das ist ein spezielles Dateiformat für R. Es ist sehr nützlich, wenn du weißt, dass du mit den exportierten Daten wieder in R arbeiten wirst.</p>
<p>Die Spaltenklassen werden gespeichert, so dass du sie beim Import nicht noch einmal bereinigen musst (bei einer Excel- oder sogar CSV-Datei kann das Kopfzerbrechen bereiten). Außerdem ist die Datei kleiner, was für den Export und Import von Vorteil ist, wenn dein Datensatz groß ist.</p>
<p>Wenn du zum Beispiel in einem Epidemiologie-Team arbeitest und Dateien an ein GIS-Team schicken musst, das ebenfalls R verwendet, schick ihnen einfach die .rds-Datei! Dann bleiben alle Spaltenklassen erhalten und sie haben weniger Arbeit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export</span>(linelist, <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"my_linelist.rds"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="rdata-dateien-und-listen-import_rdata" class="level2" data-number="7.13">
<h2 data-number="7.13" class="anchored" data-anchor-id="rdata-dateien-und-listen-import_rdata"><span class="header-section-number">7.13</span> Rdata Dateien und Listen {#import_rdata}</h2>
<p><code>.Rdata</code> Dateien können mehrere R-Objekte speichern - zum Beispiel mehrere Datenrahmen, Modellergebnisse, Listen usw. Das kann sehr nützlich sein, um viele deiner Daten für ein bestimmtes Projekt zu konsolidieren oder zu teilen.</p>
<p>In dem folgenden Beispiel werden mehrere R-Objekte in der exportierten Datei “my_objects.Rdata” gespeichert:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(my_list, my_dataframe, my_vector, <span class="st">"my_objects.Rdata"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hinweis: Wenn du versuchst <em>importieren</em> eine Liste zu importieren, verwende <code>import_list()</code> von <strong>rio</strong> zu importieren, und zwar mit der vollständigen ursprünglichen Struktur und dem Inhalt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">import_list</span>(<span class="st">"my_list.Rdata"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="speichern-von-plots" class="level2" data-number="7.14">
<h2 data-number="7.14" class="anchored" data-anchor-id="speichern-von-plots"><span class="header-section-number">7.14</span> Speichern von Plots</h2>
<p>Anweisungen zum Speichern von Plots, wie sie beispielsweise von <code>ggplot()</code>erstellt werden, werden ausführlich in den [ggplot Grundlagen] Seite.</p>
<p>Kurz gesagt, führe <code>ggsave("my_plot_filepath_and_name.png")</code> nachdem du deinen Plot gedruckt hast. Du kannst entweder ein gespeichertes Plot-Objekt an die <code>plot =</code> Argument übergeben oder nur den Pfad der Zieldatei (mit Dateierweiterung) angeben, um den zuletzt angezeigten Plot zu speichern. Du kannst auch die <code>width =</code>, <code>height =</code>, <code>units =</code>, und <code>dpi =</code>.</p>
<p>Wie du einen Netzwerkgraphen, z. B. einen Übertragungsbaum, speicherst, erfährst du auf der Seite über [Übertragungsketten].</p>
<!-- ======================================================= -->
</section>
<section id="ressourcen" class="level2" data-number="7.15">
<h2 data-number="7.15" class="anchored" data-anchor-id="ressourcen"><span class="header-section-number">7.15</span> Ressourcen</h2>
<p>Die <a href="https://cran.r-project.org/doc/manuals/r-release/R-data.html">R Daten Import/Export Handbuch</a><br>
<a href="https://r4ds.had.co.nz/data-import.html#data-import">R 4 Data Science Kapitel zum Datenimport</a><br>
<a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave()-Dokumentation</a></p>
<p>Nachfolgend eine Tabelle, die aus der <strong>rio</strong> online <a href="https://cran.r-project.org/web/packages/rio/vignettes/rio.html">Vignette</a>. Für jeden Dateityp wird angezeigt: die erwartete Dateierweiterung, das Paket <strong>rio</strong> verwendet, um die Daten zu importieren oder zu exportieren, und ob diese Funktionalität in der standardmäßig installierten Version von <strong>rio</strong>.</p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 23%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Format</th>
<th>Typische Erweiterung</th>
<th>Paket importieren</th>
<th>Paket exportieren</th>
<th>Standardmäßig installiert</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Komma-getrennte Daten</td>
<td>.csv</td>
<td>daten.tabelle <code>fread()</code></td>
<td>daten.tabelle</td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Pipe-getrennte Daten</td>
<td>.psv</td>
<td>data.table <code>fread()</code></td>
<td>daten.tabelle</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>Tab-getrennte Daten</td>
<td>.tsv</td>
<td>data.table <code>fread()</code></td>
<td>daten.tabelle</td>
<td>Ja</td>
</tr>
<tr class="even">
<td>SAS</td>
<td>.sas7bdat</td>
<td>haven</td>
<td>haven</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>SPSS</td>
<td>.sav</td>
<td>haven</td>
<td>haven</td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Stata</td>
<td>.dta</td>
<td>haven</td>
<td>haven</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>SAS</td>
<td>XPORT</td>
<td>.xpt</td>
<td>haven</td>
<td>haven</td>
</tr>
<tr class="even">
<td>SPSS Portable</td>
<td>.por</td>
<td>Hafen</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>Excel</td>
<td>.xls</td>
<td>readxl</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Excel</td>
<td>.xlsx</td>
<td>readxl</td>
<td>openxlsx</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>R-Syntax</td>
<td>.R</td>
<td>Basis</td>
<td>Basis</td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Gespeicherte R-Objekte</td>
<td>.RData, .rda</td>
<td>Basis</td>
<td>Basis</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>Serialisierte R-Objekte</td>
<td>.rds</td>
<td>Basis</td>
<td>Basis</td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Epiinfo</td>
<td>.rec</td>
<td>fremd</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>Minitab</td>
<td>.mtp</td>
<td>ausländische</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Systat</td>
<td>.syd</td>
<td>ausländische</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>“XBASE”</td>
<td>Datenbank-Dateien</td>
<td>.dbf</td>
<td>fremd</td>
<td>ausländisch</td>
</tr>
<tr class="even">
<td>Weka Attribut-Relation Dateiformat</td>
<td>.arff</td>
<td>fremd</td>
<td>ausländisch</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>Format des Datenaustauschs</td>
<td>.dif</td>
<td>utils</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="even">
<td>Fortran-Daten</td>
<td>keine anerkannte Erweiterung</td>
<td>utils</td>
<td></td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>Daten im Festbreitenformat</td>
<td>.fwf</td>
<td>utilities</td>
<td>utils</td>
<td>Ja</td>
</tr>
<tr class="even">
<td>gzip Komma-getrennte Daten</td>
<td>.csv.gz</td>
<td>utilities</td>
<td>utils</td>
<td>Ja</td>
</tr>
<tr class="odd">
<td>CSVY (CSV + YAML-Metadaten-Header)</td>
<td>.csvy</td>
<td>csvy</td>
<td>csvy</td>
<td>Nein</td>
</tr>
<tr class="even">
<td>EViews</td>
<td>.wf1</td>
<td>hexView</td>
<td></td>
<td>Nein</td>
</tr>
<tr class="odd">
<td>Feather R/Python-Austauschformat</td>
<td>.feather</td>
<td>feder</td>
<td>feder</td>
<td>Nein</td>
</tr>
<tr class="even">
<td>Schneller Speicher</td>
<td>.fst</td>
<td>fst</td>
<td>fst</td>
<td>Nein</td>
</tr>
<tr class="odd">
<td>JSON</td>
<td>.json</td>
<td>jsonlite</td>
<td>jsonlite</td>
<td>Nein</td>
</tr>
<tr class="even">
<td>Matlab</td>
<td>.mat</td>
<td>rmatio</td>
<td>rmatio</td>
<td>Nein</td>
</tr>
<tr class="odd">
<td>OpenDocument Tabellenkalkulation</td>
<td>.ods</td>
<td>readODS</td>
<td>readODS</td>
<td>Nein</td>
</tr>
<tr class="even">
<td>HTML-Tabellen</td>
<td>.html</td>
<td>xml2</td>
<td>xml2</td>
<td>Nein</td>
</tr>
<tr class="odd">
<td>Shallow XML Dokumente</td>
<td>.xml</td>
<td>xml2</td>
<td>xml2</td>
<td>Nein</td>
</tr>
<tr class="even">
<td>YAML</td>
<td>.yml</td>
<td>yaml</td>
<td>yaml</td>
<td>Keine</td>
</tr>
<tr class="odd">
<td>Zwischenablage Standard ist tsv</td>
<td></td>
<td>clipr</td>
<td>clipr</td>
<td>Nein</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../new_pages/r_projects.de.html" class="pagination-link" aria-label="R-Projekte">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R-Projekte</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../new_pages/cleaning.de.html" class="pagination-link" aria-label="Cleaning data and core functions">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Cleaning data and core functions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","loop":false,"selector":".lightbox","descPosition":"bottom","closeEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>