<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EpiRhandbook auf Deutsch - 40&nbsp; Berichte mit R Markdown</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../new_pages/reportfactory.de.html" rel="next">
<link href="../new_pages/interactive_plots.de.html" rel="prev">
<link href="../images/Applied_Epi_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QXDW878QLX', { 'anonymize_ip': true});
</script>
<!-- Global site tag (gtag.js) - Google Analytics 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QXDW878QLX');
</script> -->

</head><body class="nav-sidebar floating"><div class="alert alert-info alert-dismissible">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
  <strong>Need help learning R?</strong> Enroll in Applied Epi's <a href="https://www.appliedepi.org/live/" class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/" class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/" class="alert-link">Community Q&amp;A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org" class="alert-link">R Help Desk service</a>.
</div>






<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/rmarkdown.de.html">Berichte und Dashboards</a></li><li class="breadcrumb-item"><a href="../new_pages/rmarkdown.de.html"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EpiRhandbook auf Deutsch</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/appliedepi/epihandbook_quarto" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Über dieses Buch</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/editorial_style.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Redaktionelle und technische Hinweise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_used.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Handbuch und Daten herunterladen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Grundlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R Grundlagen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transition_to_R.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Übergang zu R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/packages_suggested.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Vorgeschlagene Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/r_projects.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R-Projekte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/importing.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Import und Export</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Datenmanagement</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/cleaning.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Cleaning data and core functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/dates.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Mit Daten arbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/characters_strings.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Characters and strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/factors.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Faktoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/pivoting.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Daten pivotieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/grouping.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Daten gruppieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/joining_matching.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Daten verknüpfen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/deduplication.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">De-Duplizierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/iteration.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Iteration, Schleifen und Listen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Analyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_descriptive.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Beschreibende Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/stat_tests.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Einfache statistische Tests</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/regression.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Univariate und multivariable Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/missing_data.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Fehlende Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/standardization.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Standardisierte Sätze</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/moving_average.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Gleitende Durchschnitte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/time_series.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Zeitreihen und Erkennung von Ausbrüchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epidemic_models.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Epidemie-Modellierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/contact_tracing.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Ermittlung von Kontaktpersonen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survey_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Umfrage-Analyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survival_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Survival-Analyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/gis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">GIS-Grundlagen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Datenvisualisierung</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_presentation.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Tische für die Präsentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">ggplot Grundlagen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_tips.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">ggplot-Tipps</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epicurves.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Epidemische Kurven</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/age_pyramid.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Demografische Pyramiden und Likert-Skalen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/heatmaps.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Wärmebilanzen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/diagrams.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Diagramme und Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/combination_analysis.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Analyse der Kombinationen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transmission_chains.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Übertragungsketten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/phylogenetic_trees.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Phylogenetische Bäume</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/interactive_plots.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Interaktive Diagramme</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Berichte und Dashboards</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/rmarkdown.de.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/reportfactory.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Organisieren von Routineberichten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/flexdashboard.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Dashboards mit R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/shiny_basics.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Dashboards mit Shiny</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Verschiedenes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/writing_functions.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Funktionen schreiben</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/directories.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Verzeichnis-Interaktionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/collaboration.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Versionskontrolle und Zusammenarbeit mit Git und Github</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/errors.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Häufige Fehler</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/help.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Hilfe bekommen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/network_drives.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">R auf Netzlaufwerken</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_table.de.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Daten-Tabelle</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#vorbereitung" id="toc-vorbereitung" class="nav-link active" data-scroll-target="#vorbereitung"><span class="header-section-number">40.1</span> Vorbereitung</a></li>
  <li><a href="#erste-schritte" id="toc-erste-schritte" class="nav-link" data-scroll-target="#erste-schritte"><span class="header-section-number">40.2</span> Erste Schritte</a>
  <ul class="collapse">
  <li><a href="#installiere-das-r-paket-rmarkdown" id="toc-installiere-das-r-paket-rmarkdown" class="nav-link" data-scroll-target="#installiere-das-r-paket-rmarkdown">Installiere das R-Paket rmarkdown</a></li>
  <li><a href="#starten-einer-neuen-rmd-datei" id="toc-starten-einer-neuen-rmd-datei" class="nav-link" data-scroll-target="#starten-einer-neuen-rmd-datei">Starten einer neuen Rmd-Datei</a></li>
  <li><a href="#wichtig-zu-wissen" id="toc-wichtig-zu-wissen" class="nav-link" data-scroll-target="#wichtig-zu-wissen">Wichtig zu wissen</a></li>
  </ul></li>
  <li><a href="#r-markdown-komponenten" id="toc-r-markdown-komponenten" class="nav-link" data-scroll-target="#r-markdown-komponenten"><span class="header-section-number">40.3</span> R Markdown Komponenten</a>
  <ul class="collapse">
  <li><a href="#yaml-metadaten" id="toc-yaml-metadaten" class="nav-link" data-scroll-target="#yaml-metadaten">YAML-Metadaten</a></li>
  <li><a href="#text" id="toc-text" class="nav-link" data-scroll-target="#text">Text</a></li>
  <li><a href="#code-blöcke" id="toc-code-blöcke" class="nav-link" data-scroll-target="#code-blöcke">Code-Blöcke</a></li>
  <li><a href="#bilder" id="toc-bilder" class="nav-link" data-scroll-target="#bilder">Bilder</a></li>
  <li><a href="#tische" id="toc-tische" class="nav-link" data-scroll-target="#tische">Tische</a></li>
  <li><a href="#tabellierte-abschnitte" id="toc-tabellierte-abschnitte" class="nav-link" data-scroll-target="#tabellierte-abschnitte">Tabellierte Abschnitte</a></li>
  </ul></li>
  <li><a href="#dateistruktur" id="toc-dateistruktur" class="nav-link" data-scroll-target="#dateistruktur"><span class="header-section-number">40.4</span> Dateistruktur</a>
  <ul class="collapse">
  <li><a href="#eigenständiges-rmd" id="toc-eigenständiges-rmd" class="nav-link" data-scroll-target="#eigenständiges-rmd">Eigenständiges Rmd</a></li>
  <li><a href="#runfile" id="toc-runfile" class="nav-link" data-scroll-target="#runfile">Runfile</a></li>
  <li><a href="#ordnerstruktur" id="toc-ordnerstruktur" class="nav-link" data-scroll-target="#ordnerstruktur">Ordnerstruktur</a></li>
  </ul></li>
  <li><a href="#das-dokument-erstellen" id="toc-das-dokument-erstellen" class="nav-link" data-scroll-target="#das-dokument-erstellen"><span class="header-section-number">40.5</span> Das Dokument erstellen</a>
  <ul class="collapse">
  <li><a href="#option-1-schaltfläche-stricken" id="toc-option-1-schaltfläche-stricken" class="nav-link" data-scroll-target="#option-1-schaltfläche-stricken">Option 1: Schaltfläche “Stricken</a></li>
  <li><a href="#option-2-render-befehl" id="toc-option-2-render-befehl" class="nav-link" data-scroll-target="#option-2-render-befehl">Option 2: <code>render()</code> Befehl</a></li>
  <li><a href="#optionen-3-reportfactory-paket" id="toc-optionen-3-reportfactory-paket" class="nav-link" data-scroll-target="#optionen-3-reportfactory-paket">Optionen 3: <strong>reportfactory</strong> Paket</a></li>
  </ul></li>
  <li><a href="#parametrisierte-berichte" id="toc-parametrisierte-berichte" class="nav-link" data-scroll-target="#parametrisierte-berichte"><span class="header-section-number">40.6</span> Parametrisierte Berichte</a>
  <ul class="collapse">
  <li><a href="#parameter-setzen" id="toc-parameter-setzen" class="nav-link" data-scroll-target="#parameter-setzen">Parameter setzen</a></li>
  <li><a href="#parametrisiertes-beispiel" id="toc-parametrisiertes-beispiel" class="nav-link" data-scroll-target="#parametrisiertes-beispiel">Parametrisiertes Beispiel</a></li>
  <li><a href="#parametrisierung-ohne-params" id="toc-parametrisierung-ohne-params" class="nav-link" data-scroll-target="#parametrisierung-ohne-params">Parametrisierung ohne <code>params</code></a></li>
  </ul></li>
  <li><a href="#schleifenberichte" id="toc-schleifenberichte" class="nav-link" data-scroll-target="#schleifenberichte"><span class="header-section-number">40.7</span> Schleifenberichte</a></li>
  <li><a href="#vorlagen" id="toc-vorlagen" class="nav-link" data-scroll-target="#vorlagen"><span class="header-section-number">40.8</span> Vorlagen</a>
  <ul class="collapse">
  <li><a href="#word-dokumente" id="toc-word-dokumente" class="nav-link" data-scroll-target="#word-dokumente">Word-Dokumente</a></li>
  <li><a href="#powerpoint-dokumente" id="toc-powerpoint-dokumente" class="nav-link" data-scroll-target="#powerpoint-dokumente">Powerpoint-Dokumente</a></li>
  <li><a href="#vorlagen-in-die-yaml-einbinden" id="toc-vorlagen-in-die-yaml-einbinden" class="nav-link" data-scroll-target="#vorlagen-in-die-yaml-einbinden">Vorlagen in die YAML einbinden</a></li>
  <li><a href="#formatieren-von-html-dateien" id="toc-formatieren-von-html-dateien" class="nav-link" data-scroll-target="#formatieren-von-html-dateien">Formatieren von HTML-Dateien</a></li>
  </ul></li>
  <li><a href="#dynamischer-inhalt" id="toc-dynamischer-inhalt" class="nav-link" data-scroll-target="#dynamischer-inhalt"><span class="header-section-number">40.9</span> Dynamischer Inhalt</a>
  <ul class="collapse">
  <li><a href="#tabellen" id="toc-tabellen" class="nav-link" data-scroll-target="#tabellen">Tabellen</a></li>
  <li><a href="#html-widgets" id="toc-html-widgets" class="nav-link" data-scroll-target="#html-widgets">HTML-Widgets</a></li>
  </ul></li>
  <li><a href="#ressourcen" id="toc-ressourcen" class="nav-link" data-scroll-target="#ressourcen"><span class="header-section-number">40.10</span> Ressourcen</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/rmarkdown.de.html">Berichte und Dashboards</a></li><li class="breadcrumb-item"><a href="../new_pages/rmarkdown.de.html"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/rmarkdown_overview.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../images/markdown/rmarkdown_overview.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>R Markdown ist ein weit verbreitetes Werkzeug zur Erstellung automatisierter, reproduzierbarer und veröffentlichungswürdiger Ergebnisse wie z. B. Berichte. Es kann statische oder interaktive Ausgaben in Word, PDF, HTML, PowerPoint und anderen Formaten erstellen.</p>
<p>Ein R Markdown-Skript verbindet R-Code und Text so, dass das Skript tatsächlich <em>dein Ausgabedokument wird</em>. Du kannst ein komplettes formatiertes Dokument erstellen, einschließlich narrativem Text (der sich dynamisch auf Basis deiner Daten ändern kann), Tabellen, Abbildungen, Aufzählungszeichen/Zahlen, Bibliografien usw.</p>
<p>Solche Dokumente können routinemäßig aktualisiert werden (z. B. tägliche Überwachungsberichte) und/oder für Teilmengen von Daten erstellt werden (z. B. Berichte für jedes Bundesland).</p>
<p>Andere Seiten in diesem Handbuch behandeln dieses Thema ausführlicher:</p>
<ul>
<li>Die Seite [Organisieren von Routineberichten] zeigt dir, wie du deine Berichtsproduktion mit automatisch erstellten Ordnern mit Zeitstempeln routinieren kannst.</li>
<li>Die Seite [Dashboards mit R Markdown] wird erklärt, wie man einen R Markdown-Bericht als Dashboard formatiert.</li>
</ul>
<p>Bemerkenswert ist, dass die <a href="https://r4epis.netlify.app/">R4Epis</a> Projekt hat Vorlagen für R Markdown-Skripte für häufige Ausbrüche und Erhebungsszenarien entwickelt, die an MSF-Projektstandorten auftreten.</p>
<!-- ======================================================= -->
<section id="vorbereitung" class="level2" data-number="40.1">
<h2 data-number="40.1" class="anchored" data-anchor-id="vorbereitung"><span class="header-section-number">40.1</span> Vorbereitung</h2>
<p><strong>Hintergrund zu R Markdown</strong></p>
<p>Um einige der Konzepte und Pakete zu erklären:</p>
<ul>
<li><strong>Markdown</strong> ist eine “Sprache”, die es dir ermöglicht, ein Dokument in einfachem Text zu schreiben, das in HTML und andere Formate umgewandelt werden kann. Sie ist nicht spezifisch für R. Dateien, die in Markdown geschrieben sind, haben die Endung “.md”.</li>
<li><strong>R Markdown</strong>: ist eine Variante von Markdown, die <em>spezifisch für R ist</em> - Sie ermöglicht es dir, ein Dokument mit Markdown zu schreiben, um Text zu erzeugen <em>und R-Code einzubetten und dessen Ausgaben anzuzeigen</em>. R Markdown-Dateien haben die Erweiterung “.Rmd”.</li>
<li><strong>rmarkdown - das Paket</strong> rmarkdown: Dieses Paket wird von R verwendet, um die .Rmd-Datei in die gewünschte Ausgabe zu verwandeln. Der Schwerpunkt liegt auf der Umwandlung der Markdown (Text)-Syntax, daher brauchen wir auch…</li>
<li><strong>knitr</strong> Dieses R-Paket liest die Code-Bausteine, führt sie aus und fügt sie wieder in das Dokument ein. So werden neben dem Text auch Tabellen und Diagramme eingefügt.</li>
<li><strong>Pandoc</strong> Schließlich konvertiert Pandoc die Ausgabe in Word/Pdf/Powerpoint usw. Es ist eine von R getrennte Software, wird aber automatisch mit RStudio installiert.</li>
</ul>
<p>Zusammenfassend lässt sich sagen, dass der Prozess, der passiert <em>im Hintergrund</em> (du musst nicht alle diese Schritte kennen!) besteht darin, die .Rmd-Datei an <strong>knitr</strong> ein, das die R-Code-Bausteine ausführt und eine neue .md-Datei (Markdown) erstellt, die den R-Code und die gerenderte Ausgabe enthält. Die .md-Datei wird dann von pandoc verarbeitet, um das fertige Produkt zu erstellen: ein Microsoft Word-Dokument, eine HTML-Datei, ein Powerpoint-Dokument, ein PDF usw.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/0_rmd.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="../images/markdown/0_rmd.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>(Quelle: <a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html">https://rmarkdown.rstudio.com/authoring_quick_tour.html</a>):</p>
<p><strong>Installation</strong></p>
<p>Um eine R Markdown-Ausgabe zu erstellen, musst du Folgendes installiert haben:</p>
<ul>
<li>Die <strong>rmarkdown</strong> Paket (<strong>knitr</strong> wird ebenfalls automatisch installiert)</li>
<li>Pandoc, das mit RStudio installiert werden sollte. Wenn du RStudio nicht verwendest, kannst du Pandoc hier herunterladen: <a href="http://pandoc.org">http://pandoc.org</a>.</li>
<li>Wenn du eine PDF-Ausgabe erzeugen möchtest (was etwas schwieriger ist), musst du LaTeX installieren. Für R Markdown-Benutzer, die LaTeX noch nicht installiert haben, empfehlen wir die Installation von TinyTeX (<a href="https://yihui.name/tinytex/">https://yihui.name/tinytex/</a>). Du kannst die folgenden Befehle verwenden:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tinytex)     <span class="co"># install tinytex package</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()  <span class="co"># R command to install TinyTeX software</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="erste-schritte" class="level2" data-number="40.2">
<h2 data-number="40.2" class="anchored" data-anchor-id="erste-schritte"><span class="header-section-number">40.2</span> Erste Schritte</h2>
<section id="installiere-das-r-paket-rmarkdown" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="installiere-das-r-paket-rmarkdown">Installiere das R-Paket rmarkdown</h3>
<p>Installiere das <strong>rmarkdown</strong> R-Paket. In diesem Handbuch betonen wir <code>p_load()</code> von <strong>pacman</strong>, der das Paket bei Bedarf installiert <em>und</em> lädt es zur Verwendung. Du kannst installierte Pakete auch laden mit <code>library()</code> von <strong>base</strong>R. Siehe die Seite über [R-Grundlagen] für weitere Informationen über R-Pakete.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(rmarkdown)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="starten-einer-neuen-rmd-datei" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="starten-einer-neuen-rmd-datei">Starten einer neuen Rmd-Datei</h3>
<p>Öffne in RStudio eine neue R-Markdown-Datei. Beginne mit “Datei”, dann “Neue Datei” und “R-Markdown…”.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/1_gettingstarted.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="../images/markdown/1_gettingstarted.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>R Studio bietet dir einige Ausgabeoptionen zur Auswahl an. Im folgenden Beispiel wählen wir “HTML”, weil wir ein HTML-Dokument erstellen wollen. Der Titel und die Autorennamen sind nicht wichtig. Wenn der gewünschte Ausgabedokumenttyp nicht dabei ist, ist das kein Problem - du kannst einfach einen beliebigen Typ auswählen und ihn später im Skript ändern.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/1_gettingstartedB.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="../images/markdown/1_gettingstartedB.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Dadurch wird ein neues .Rmd-Skript geöffnet.</p>
</section>
<section id="wichtig-zu-wissen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="wichtig-zu-wissen">Wichtig zu wissen</h3>
<p><strong>Das Arbeitsverzeichnis</strong></p>
<p>Das Arbeitsverzeichnis einer Markdown-Datei befindet sich dort, wo die Rmd-Datei selbst gespeichert ist. Wenn sich das R-Projekt zum Beispiel im <code>~/Documents/projectX</code> und die Rmd-Datei selbst befindet sich in einem Unterordner <code>~/Documents/projectX/markdownfiles/markdown.Rmd</code> befindet, wird der Code <code>read.csv("data.csv")</code> im Markdown nach einer csv-Datei im Ordner <code>markdownfiles</code> Ordner und nicht im Stammordner des Projekts, in dem Skripte innerhalb von Projekten normalerweise automatisch suchen würden.</p>
<p>Um auf Dateien an anderer Stelle zu verweisen, musst du entweder den vollständigen Dateipfad angeben oder die <strong>hier</strong> Paket. Die <strong>hier</strong>Paket setzt das Arbeitsverzeichnis auf den Stammordner des R-Projekts und wird im Detail in der [R-Projekte] und erklärt. [Import und Export] Seiten dieses Handbuchs erklärt. Um zum Beispiel eine Datei namens “data.csv” aus dem Paket<code>projectX</code> Ordner zu importieren, würde der Code lauten <code>import(here("data.csv"))</code>.</p>
<p>Beachte, dass die Verwendung von <code>setwd()</code> in R Markdown-Skripten nicht empfohlen wird - sie gilt nur für den Codechunk, in dem sie geschrieben ist.</p>
<p><strong>Arbeiten auf einem Laufwerk statt auf deinem Computer</strong></p>
<p>Da es bei R Markdown zu Problemen mit Pandoc kommen kann, wenn es auf einem freigegebenen Netzlaufwerk ausgeführt wird, wird empfohlen, den Ordner auf deinem lokalen Rechner zu erstellen, z. B. in einem Projekt unter “Eigene Dateien”. Wenn du Git verwendest (sehr empfehlenswert!), wirst du damit vertraut sein. Weitere Informationen findest du auf den Handbuchseiten zu [R auf Netzlaufwerken] und [Fehler und Hilfe].</p>
<!-- ======================================================= -->
</section>
</section>
<section id="r-markdown-komponenten" class="level2" data-number="40.3">
<h2 data-number="40.3" class="anchored" data-anchor-id="r-markdown-komponenten"><span class="header-section-number">40.3</span> R Markdown Komponenten</h2>
<p>Ein R Markdown-Dokument kann in RStudio genauso bearbeitet werden wie ein Standard-R-Skript. Wenn du ein neues R Markdown-Skript startest, versucht RStudio dir zu helfen, indem es eine Vorlage anzeigt, die die verschiedenen Abschnitte eines R Markdown-Skripts erklärt.</p>
<p>Das folgende Bild wird angezeigt, wenn du ein neues Rmd-Skript startest, das eine HTML-Ausgabe erzeugen soll (wie im vorherigen Abschnitt).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/2_defaultRMD.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="../images/markdown/2_defaultRMD.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Wie du sehen kannst, besteht eine Rmd-Datei aus drei grundlegenden Komponenten: YAML, Markdown-Text und R-Code-Bausteine.</p>
<p>Diese werden <em>erstellt und werden zu deiner Dokumentenausgabe</em>. Siehe das Diagramm unten:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/rmarkdown_translation.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="../images/markdown/rmarkdown_translation.png" class="quarto-figure quarto-figure-center figure-img" style="width:100.0%;height:150.0%"></a></p>
</figure>
</div>
</div>
</div>
<section id="yaml-metadaten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="yaml-metadaten">YAML-Metadaten</h3>
<p>Die so genannten “YAML-Metadaten” oder einfach nur “YAML” befinden sich am Anfang des R Markdown-Dokuments. In diesem Abschnitt des Skripts wird deiner Rmd-Datei mitgeteilt, welche Art von Ausgabe erzeugt werden soll, welche Formatierung gewünscht wird und welche anderen Metadaten wie Titel, Autor und Datum des Dokuments angegeben werden sollen. Es gibt noch weitere Verwendungszwecke, die hier nicht erwähnt werden (aber im Abschnitt “Eine Ausgabe erzeugen”). Beachte, dass die Einrückung wichtig ist; Tabulatoren werden nicht akzeptiert, Leerzeichen hingegen schon.</p>
<p>Dieser Abschnitt muss mit einer Zeile beginnen, die nur drei Bindestriche enthält <code>---</code> und muss mit einer Zeile mit drei Bindestrichen enden <code>---</code>. YAML-Parameter kommen in <code>key:value</code> Paaren. Die Platzierung von Doppelpunkten in YAML ist wichtig - die <code>key:value</code> Paare werden durch Doppelpunkte getrennt (nicht durch Gleichheitszeichen!).</p>
<p>Die YAML sollte mit den Metadaten für das Dokument beginnen. Die Reihenfolge dieser primären YAML-Parameter (nicht eingerückt) spielt keine Rolle. Zum Beispiel:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"My document"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"Me"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2024-02-21"</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Du kannst R-Code in YAML-Werten verwenden, indem du ihn als Inline-Code schreibst (mit vorangestelltem <code>r</code> innerhalb von Back-Ticks), aber auch innerhalb von Anführungszeichen (siehe obiges Beispiel für <code>date:</code>).</p>
<p>In der obigen Abbildung sehen wir, dass die YAML-Datei Folgendes enthält, weil wir angeklickt haben, dass die Standardausgabe eine HTML-Datei sein soll <code>output: html_document</code>. Wir können dies aber auch ändern und sagen <code>powerpoint_presentation</code> oder <code>word_document</code> oder sogar <code>pdf_document</code>.</p>
</section>
<section id="text" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="text">Text</h3>
<p>Dies ist der Text deines Dokuments, einschließlich der Titel und Überschriften. Er ist in der Sprache “Markdown” geschrieben, die in vielen verschiedenen Programmen verwendet wird.</p>
<p>Im Folgenden findest du die wichtigsten Methoden, um diesen Text zu schreiben. Eine ausführlichere Dokumentation findest du im R Markdown “Cheatsheet” auf der <a href="https://rstudio.com/resources/cheatsheets/">RStudio-Website</a>.</p>
<section id="neue-zeilen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="neue-zeilen">Neue Zeilen</h4>
<p>Einzigartig in R Markdown: Um eine neue Zeile zu beginnen, gibst du ein <em>zwei Leerzeichen</em>* am Ende der vorherigen Zeile und dann Enter/Return.</p>
</section>
<section id="fall" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="fall">Fall</h4>
<p>Umfasse deinen normalen Text mit diesen Zeichen, um zu ändern, wie er in der Ausgabe erscheint.</p>
<ul>
<li>Unterstriche (<code>_text_</code>) oder einzelne Sternchen (<code>*text*</code>) zu <em>kursiv zu setzen</em></li>
<li>Doppelte Sternchen (<code>**text**</code>) für <strong>fetten Text</strong></li>
<li>Rückwärtshaken (<code>text</code>), um Text als Code anzuzeigen</li>
</ul>
<p>Das tatsächliche Aussehen der Schriftart kann durch die Verwendung bestimmter Vorlagen (die in den YAML-Metadaten angegeben werden; siehe Beispieltabs) festgelegt werden.</p>
</section>
<section id="farbe" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="farbe">Farbe</h4>
<p>Es gibt keinen einfachen Mechanismus, um die Farbe von Text in R Markdown zu ändern. Ein Workaround, <em>WENN deine Ausgabe eine HTML-Datei ist</em> ist es, eine HTML-Zeile in den Markdown-Text einzufügen. Der folgende HTML-Code druckt eine Textzeile in fetter roter Schrift.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>&lt;span style="color: red;"&gt;**_DANGER:_** This is a warning.&lt;/span&gt;  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span style="color: red;"><strong><em>GEFAHR!</em></strong> Dies ist eine Warnung.</span></p>
</section>
<section id="titel-und-überschriften" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="titel-und-überschriften">Titel und Überschriften</h4>
<p>Ein Rautensymbol in einem Textteil eines R Markdown-Skripts erzeugt eine Überschrift. Das ist etwas anderes als in einem Stück R-Code im Skript, in dem ein Raute-Symbol ein Mechanismus zum Kommentieren/Annotieren/Deaktivieren ist, wie in einem normalen R-Skript.</p>
<p>Verschiedene Überschriftenebenen werden mit einer unterschiedlichen Anzahl von Rautensymbolen am Anfang einer neuen Zeile festgelegt. Ein Rautensymbol ist ein Titel oder eine erste Überschrift. Zwei Rautensymbole sind eine Überschrift der zweiten Ebene. Überschriften der dritten und vierten Ebene können mit immer mehr Rautensymbolen erstellt werden.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># First-level heading / title</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Second level heading  </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">### Third-level heading</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="aufzählungszeichen-und-nummerierung" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="aufzählungszeichen-und-nummerierung">Aufzählungszeichen und Nummerierung</h4>
<p>Verwende Sternchen (<code>*</code>), um eine Aufzählungsliste zu erstellen. Beende den vorherigen Satz, gib zwei Leerzeichen ein, Enter/Return <em>zweimal</em> und beginne dann deine Aufzählungspunkte. Füge ein Leerzeichen zwischen dem Sternchen und deinem Aufzählungstext ein. Nach jedem Aufzählungszeichen gibst du zwei Leerzeichen ein und dann Enter/Return. Unteraufzählungen funktionieren genauso, werden aber eingerückt. Zahlen funktionieren genauso, aber statt eines Sternchens schreibst du 1), 2), usw. So könnte der Text deines R Markdown-Skripts aussehen.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Here are my bullets (there are two spaces after this colon):  </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Bullet 1 (followed by two spaces and Enter/Return)  </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Bullet 2 (followed by two spaces and Enter/Return)  </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Sub-bullet 1 (followed by two spaces and Enter/Return)  </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Sub-bullet 2 (followed by two spaces and Enter/Return)  </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="text-auskommentieren" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="text-auskommentieren">Text auskommentieren</h4>
<p>Du kannst R Markdown-Text auskommentieren, genauso wie du das “#” verwenden kannst, um eine Zeile R-Code in einem R Chunk auszukommentieren. Markiere einfach den Text und drücke Strg+Umschalt+c (Cmd+Umschalt+c für Mac). Der Text ist dann von Pfeilen umgeben und wird grün. Er wird nicht in deiner Ausgabe erscheinen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/rmarkdown_hide_text.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="../images/markdown/rmarkdown_hide_text.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="code-blöcke" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="code-blöcke">Code-Blöcke</h3>
<p>Die Abschnitte des Skripts, in denen der R-Code ausgeführt wird, werden “Chunks” genannt. Hier kannst du Pakete laden, Daten importieren und die eigentliche Datenverwaltung und Visualisierung durchführen. Da es viele Code-Chunks geben kann, können sie dir helfen, deinen R-Code in Teile zu gliedern, die vielleicht mit Text durchsetzt sind. Zu beachten: Diese “Chunks” haben eine etwas andere Hintergrundfarbe als der erzählende Teil des Dokuments.</p>
<p>Jeder Chunk wird mit einer Zeile eröffnet, die mit drei Back-Ticks beginnt, und geschweiften Klammern, die Parameter für den Chunk enthalten (<code>{ }</code>). Der Chunk endet mit drei weiteren Back-Ticks.</p>
<p>Du kannst einen neuen Chunk erstellen, indem du ihn selbst eintippst, die Tastenkombination “Strg + Alt + i” (bzw. Cmd + Shift + r beim Mac) verwendest oder auf das grüne Symbol “Neuen Codechunk einfügen” oben in deinem Skripteditor klickst.</p>
<p>Einige Hinweise zum Inhalt der geschweiften Klammern <code>{ }</code>:</p>
<ul>
<li>Sie beginnen mit “r”, um anzuzeigen, dass der Sprachname innerhalb des Chunks R ist.</li>
<li>Nach dem “r” kannst du optional einen “Namen” für den Chunk schreiben - das ist nicht notwendig, kann dir aber helfen, deine Arbeit zu organisieren. Wenn du deine Chunks benennst, solltest du IMMER eindeutige Namen verwenden, sonst beschwert sich R, wenn du versuchst zu rendern.</li>
<li>Die geschweiften Klammern können auch andere Optionen enthalten, z. B. <code>tag=value</code> geschrieben werden, wie zum Beispiel:</li>
<li><code>eval = FALSE</code> um den R-Code nicht auszuführen</li>
<li><code>echo = FALSE</code> um den R-Quellcode des Chunks nicht im Ausgabedokument zu drucken</li>
<li><code>warning = FALSE</code> um Warnungen, die durch den R-Code erzeugt werden, nicht zu drucken</li>
<li><code>message = FALSE</code> um keine vom R-Code erzeugten Meldungen zu drucken</li>
<li><code>include =</code> entweder TRUE/FALSE, ob Chunk-Ausgaben (z. B. Plots) in das Dokument aufgenommen werden sollen</li>
<li><code>out.width =</code> und <code>out.height =</code> - bieten mit Stil <code>out.width = "75%"</code></li>
<li><code>fig.align = "center"</code> anpassen, wie eine Abbildung auf der Seite ausgerichtet ist</li>
<li><code>fig.show='hold'</code> wenn dein Stück mehrere Zahlen druckt und du willst, dass sie nebeneinander gedruckt werden (Paar mit <code>out.width = c("33%", "67%")</code>. Kann auch gesetzt werden als <code>fig.show='asis'</code> setzen, um sie unterhalb des Codes anzuzeigen, der sie erzeugt, <code>'hide'</code> zu verbergen, oder <code>'animate'</code> mehrere zu einer Animation zu verketten.</li>
<li>Ein Chunk-Header muss in <em>einer Zeile</em></li>
<li>Versuche, Punkte, Unterstriche und Leerzeichen zu vermeiden. Verwende stattdessen Bindestriche ( - ), wenn du ein Trennzeichen brauchst.</li>
</ul>
<p>Lies ausführlicher über die <strong>knitr</strong> Optionen <a href="https://yihui.org/knitr/options/">hier</a>.</p>
<p>Einige der oben genannten Optionen kannst du per Mausklick über die Einstellungsschaltflächen oben rechts im Chunk konfigurieren. Hier kannst du angeben, welche Teile des Chunks das gerenderte Dokument enthalten soll, nämlich den Code, die Ausgaben und die Warnungen. Die Einstellungen werden in den geschweiften Klammern angegeben, z. B. <code>echo=FALSE</code> wenn du angibst, dass du “nur die Ausgaben anzeigen” möchtest.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/3_chunk.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="../images/markdown/3_chunk.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Außerdem gibt es oben rechts in jedem Chunk zwei Pfeile, mit denen du den Code innerhalb eines Chunks oder den gesamten Code in den vorherigen Chunks ausführen kannst. Fahre mit dem Mauszeiger über sie, um zu sehen, was sie bewirken.</p>
<p>Damit globale Optionen auf alle Chunks im Skript angewendet werden, kannst du sie in deinem allerersten R-Code-Chunk im Skript einrichten. Damit zum Beispiel nur die Ausgaben für jeden Codechunk angezeigt werden und nicht der Code selbst, kannst du diesen Befehl in den R-Codechunk einfügen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">FALSE</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="r-code-im-text" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="r-code-im-text">R-Code im Text</h4>
<p>Du kannst auch minimalen R-Code in Backticks einfügen. Innerhalb der Back-Ticks beginnst du den Code mit “r” und einem Leerzeichen, damit RStudio weiß, dass es sich um R-Code handelt. Siehe das Beispiel unten.</p>
<p>Das folgende Beispiel zeigt mehrere Überschriftenebenen, Aufzählungszeichen und verwendet R-Code für das aktuelle Datum (<code>Sys.Date()</code>) in ein gedrucktes Datum umgewandelt.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/2_text.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="../images/markdown/2_text.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Das obige Beispiel ist einfach (Anzeige des aktuellen Datums), aber mit der gleichen Syntax kannst du auch Werte anzeigen, die durch komplexeren R-Code erzeugt wurden (z. B. zur Berechnung von Minimum, Median und Maximum einer Spalte). Du kannst auch R-Objekte oder Werte einbinden, die zuvor in R-Code-Blöcken erstellt wurden.</p>
<p>Das folgende Skript berechnet zum Beispiel den Anteil der Fälle, die jünger als 18 Jahre sind, indem es <strong>tidyverse</strong> Funktionen, und erstellt die Objekte <code>less18</code>, <code>total</code>, und <code>less18prop</code>. Dieser dynamische Wert wird in den nachfolgenden Text eingefügt. Wir sehen, wie es aussieht, wenn es in einem Word-Dokument gestrickt ist.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/3_chunktext.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="../images/markdown/3_chunktext.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="bilder" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bilder">Bilder</h3>
<p>Du kannst Bilder auf zwei Arten in dein R Markdown einfügen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>[](<span class="st">"path/to/image.png"</span>)  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn das oben genannte nicht funktioniert, versuche es mit <code>knitr::include_graphics()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"path/to/image.png"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(denk daran, dass dein Dateipfad mit der Option <strong>hier</strong> Paket)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"path"</span>, <span class="st">"to"</span>, <span class="st">"image.png"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tische" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tische">Tische</h3>
<p>Erstelle eine Tabelle mit Bindestrichen ( -) und Balken ( |). Die Anzahl der Bindestriche vor/zwischen den Balken bestimmt die Anzahl der Leerzeichen in der Zelle, bevor der Text umbrochen wird.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Column 1 |Column  2 |Column 3</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>---------|----------|--------</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>Cell A   |Cell B    |Cell C</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>Cell D   |Cell E    |Cell F</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Der obige Code erzeugt die unten stehende Tabelle:</p>
<table class="table">
<thead>
<tr class="header">
<th>Spalte 1</th>
<th>Spalte 2</th>
<th>Spalte 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Zelle A</td>
<td>Zelle B</td>
<td>Zelle C</td>
</tr>
<tr class="even">
<td>Zelle D</td>
<td>Zelle E</td>
<td>Zelle F</td>
</tr>
</tbody>
</table>
</section>
<section id="tabellierte-abschnitte" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tabellierte-abschnitte">Tabellierte Abschnitte</h3>
<p>Für HTML-Ausgaben kannst du die Abschnitte in “Registerkarten” anordnen. Füge einfach <code>.tabset</code> in die geschweiften Klammern <code>{ }</code> die gesetzt werden <em>nach einer Überschrift</em>. Alle Unterüberschriften unter dieser Überschrift (bis zu einer weiteren Überschrift der gleichen Ebene) werden als Registerkarten angezeigt, durch die der Benutzer klicken kann. Mehr lesen <a href="https://bookdown.org/yihui/rmarkdown-cookbook/html-tabs.html">hier</a></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/tabbed_script.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="../images/markdown/tabbed_script.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/tabbed_view.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="../images/markdown/tabbed_view.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Du kannst eine zusätzliche Option hinzufügen <code>.tabset-pills</code> nach <code>.tabset</code> hinzufügen, um den Tabs selbst ein “geflochtenes” Aussehen zu geben. Beachte, dass die Strg+f-Suchfunktion bei der Anzeige der HTML-Ausgabe mit Registerkarten nur die “aktiven” Registerkarten durchsucht, nicht die versteckten Registerkarten.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="dateistruktur" class="level2" data-number="40.4">
<h2 data-number="40.4" class="anchored" data-anchor-id="dateistruktur"><span class="header-section-number">40.4</span> Dateistruktur</h2>
<p>Es gibt verschiedene Möglichkeiten, dein R Markdown und die dazugehörigen R Skripte zu strukturieren. Jede hat Vor- und Nachteile:</p>
<ul>
<li>Eigenständiger R Markdown - alles, was für den Bericht benötigt wird, wird in den R Markdown importiert oder erstellt
<ul>
<li>Andere Dateien als Quelle - Du kannst externe R-Skripte mit der <code>source()</code> Befehl ausführen und ihre Ausgaben in der Rmd-Datei verwenden.</li>
<li>Child-Skripte - ein alternativer Mechanismus für <code>source()</code></li>
</ul></li>
<li>eine “runfile” zu verwenden - Befehle in einem R-Skript auszuführen <em>vor der</em> vor dem Rendern des R Markdowns</li>
</ul>
<section id="eigenständiges-rmd" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="eigenständiges-rmd">Eigenständiges Rmd</h3>
<p>Für einen relativ einfachen Bericht kannst du dein R Markdown-Skript so organisieren, dass es “in sich geschlossen” ist und keine externen Skripte einbezieht.</p>
<p>Alles, was du zum Ausführen des R Markdown-Skripts brauchst, wird in die Rmd-Datei importiert oder erstellt, einschließlich aller Code-Bausteine und des Ladens von Paketen. Dieser “in sich geschlossene” Ansatz eignet sich, wenn du nicht viele Daten verarbeiten musst (z. B. wenn du eine saubere oder halbwegs saubere Datendatei einbringst) und das Rendern des R Markdowns nicht zu lange dauert.</p>
<p>In diesem Szenario könnte ein logischer Aufbau des R Markdown-Skripts so aussehen:</p>
<ol type="1">
<li>Global setzen <strong>knitr</strong> Optionen</li>
<li>Pakete laden</li>
<li>Daten importieren</li>
<li>Daten verarbeiten</li>
<li>Ausgaben produzieren (Tabellen, Diagramme usw.)</li>
<li>Speichern der Ergebnisse, falls zutreffend (.csv, .png, etc.)</li>
</ol>
<section id="quelle-andere-dateien" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="quelle-andere-dateien">Quelle andere Dateien</h4>
<p>Eine Variante des “in sich geschlossenen” Ansatzes besteht darin, dass R Markdown-Codeabschnitte andere R-Skripte “quellen” (ausführen) lassen. Dadurch wird dein R Markdown-Skript weniger unübersichtlich, einfacher und leichter zu organisieren. Es kann auch hilfreich sein, wenn du die endgültigen Zahlen am Anfang des Berichts anzeigen möchtest. Bei diesem Ansatz fasst das endgültige R Markdown-Skript einfach die vorverarbeiteten Ausgaben in einem Dokument zusammen.</p>
<p>Eine Möglichkeit, dies zu tun, besteht darin, die R-Skripte (Dateipfad und -name mit Erweiterung) an den <strong>Basis</strong> R-Befehl <code>source()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"your-script.R"</span>, <span class="at">local =</span> knitr<span class="sc">::</span><span class="fu">knit_global</span>())</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or sys.source("your-script.R", envir = knitr::knit_global())</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Beachten Sie, dass bei der Verwendung von <code>source()</code> <em>innerhalb von</em> der R Markdown, werden die externen Dateien trotzdem ausgeführt <em>während des Renderns deiner Rmd-Datei</em>. Jedes Skript wird also jedes Mal ausgeführt, wenn du den Bericht renderst. Daher ist es wichtig, dass diese <code>source()</code> Befehle <em>innerhalb von</em> R Markdown zu verwenden, beschleunigt die Laufzeit nicht und hilft auch nicht bei der Fehlersuche, da beim Erstellen des R Markdowns immer noch Fehler ausgegeben werden.</p>
<p>Eine Alternative ist die Verwendung der <code>child =</code> <strong>knitr</strong> Option. MEHR ZU TUN ERKLÄREN</p>
<p>Du musst dir über verschiedene R <em>Umgebungen</em>. Objekte, die in einer Umgebung erstellt werden, stehen nicht unbedingt in der Umgebung zur Verfügung, die von R Markdown verwendet wird.</p>
</section>
</section>
<section id="runfile" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="runfile">Runfile</h3>
<p>Bei diesem Ansatz wird das R-Skript verwendet, das die <code>render()</code> Befehl(e) enthält, um Objekte vorzubearbeiten, die in den R-Markdown einfließen.</p>
<p>Du kannst zum Beispiel die Pakete laden, die Daten laden und bereinigen und sogar die gewünschten Diagramme erstellen, bevor du <code>render()</code>. Diese Schritte können im R-Skript oder in anderen Skripten ausgeführt werden, die als Quelle dienen. Solange diese Befehle in der gleichen RStudio-Sitzung ausgeführt und die Objekte in der Umgebung gespeichert werden, können die Objekte innerhalb des Rmd-Inhalts aufgerufen werden. Der R-Markdown selbst wird dann nur noch für den letzten Schritt verwendet - um die Ausgabe mit allen vorverarbeiteten Objekten zu erzeugen. So ist es viel einfacher, Fehler zu beheben, wenn etwas schief geht.</p>
<p>Dieser Ansatz ist aus den folgenden Gründen hilfreich:</p>
<ul>
<li>Informativere Fehlermeldungen - diese Meldungen werden aus dem R-Skript generiert, nicht aus dem R-Markdown. R Markdown-Fehlermeldungen sagen dir in der Regel, bei welchem Chunk ein Problem aufgetreten ist, aber nicht, bei welcher Zeile.</li>
<li>Falls zutreffend, kannst du lange Verarbeitungsschritte vor dem <code>render()</code> Befehls ausführen - sie werden dann nur einmal ausgeführt.</li>
</ul>
<p>In dem folgenden Beispiel haben wir ein separates R-Skript, in dem wir eine Vorverarbeitung <code>data</code> Objekt in die R-Umgebung einfügen und dann die “create_output.Rmd” mit <code>render()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"datafile.csv"</span>) <span class="sc">%&gt;%</span>       <span class="co"># Load data and save to environment</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age, hospital, weight)          <span class="co"># Select limited columns</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="at">input =</span> <span class="st">"create_output.Rmd"</span>)   <span class="co"># Create Rmd file</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ordnerstruktur" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="ordnerstruktur">Ordnerstruktur</h3>
<p>Der Workflow betrifft auch die allgemeine Ordnerstruktur, z. B. einen “Output”-Ordner für erstellte Dokumente und Zahlen und “Data”- oder “Input”-Ordner für bereinigte Daten. Wir gehen hier nicht weiter ins Detail, aber sieh dir die [Organisieren von Routineberichten] Seite.</p>
</section>
</section>
<section id="das-dokument-erstellen" class="level2" data-number="40.5">
<h2 data-number="40.5" class="anchored" data-anchor-id="das-dokument-erstellen"><span class="header-section-number">40.5</span> Das Dokument erstellen</h2>
<p>Du kannst das Dokument auf die folgenden Arten erstellen:</p>
<ul>
<li>Manuell durch Drücken der Schaltfläche “Stricken” oben im RStudio-Skripteditor (schnell und einfach)</li>
<li>Führe die <code>render()</code> Befehl (wird außerhalb des R Markdown-Skripts ausgeführt)</li>
</ul>
<section id="option-1-schaltfläche-stricken" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="option-1-schaltfläche-stricken">Option 1: Schaltfläche “Stricken</h3>
<p>Wenn du die Rmd-Datei geöffnet hast, drückst du auf das Symbol/den Button “Stricken” oben in der Datei.</p>
<p>R Studio zeigt den Fortschritt in einer Registerkarte “R Markdown” neben deiner R-Konsole an. Das Dokument wird automatisch geöffnet, wenn es fertig ist.</p>
<p>Das Dokument wird im selben Ordner wie dein R Markdown-Skript und unter demselben Dateinamen (abgesehen von der Erweiterung) gespeichert. Das ist natürlich nicht ideal für die Versionskontrolle (es wird bei jedem Stricken überschrieben, es sei denn, du verschiebst es manuell), da du die Datei dann eventuell selbst umbenennen musst (z. B. um ein Datum hinzuzufügen).</p>
<p>Das ist die RStudio-Verknüpfungstaste für die <code>render()</code> Funktion von <strong>rmarkdown</strong>. Dieser Ansatz ist nur mit einem in sich geschlossenen R-Markdown kompatibel, bei dem alle benötigten Komponenten in der Datei vorhanden sind oder von dort bezogen werden.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/4_progress.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="../images/markdown/4_progress.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="option-2-render-befehl" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="option-2-render-befehl">Option 2: <code>render()</code> Befehl</h3>
<p>Eine andere Möglichkeit, deine R Markdown-Ausgabe zu erzeugen, ist die Ausführung des <code>render()</code> Funktion (aus dem <strong>rmarkdown</strong> Paket). Du musst diesen Befehl ausführen <em>außerhalb von</em> dem R Markdown-Skript ausführen - also entweder in einem separaten R-Skript (oft “run file” genannt) oder als eigenständiger Befehl in der R-Konsole.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="at">input =</span> <span class="st">"my_report.Rmd"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wie bei “knit” speichern die Standardeinstellungen die Rmd-Ausgabe im gleichen Ordner wie das Rmd-Skript und mit dem gleichen Dateinamen (außer der Dateierweiterung). Wenn du zum Beispiel “mein_bericht.rmd” strickst, wird daraus “mein_bericht.docx”, wenn du in ein Word-Dokument strickst. Wenn du jedoch <code>render()</code> hast du die Möglichkeit, andere Einstellungen zu verwenden. <code>render()</code> kann unter anderem folgende Argumente akzeptieren:</p>
<ul>
<li><code>output_format =</code> Das ist das Ausgabeformat, in das konvertiert werden soll (z. B. <code>"html_document"</code>, <code>"pdf_document"</code>, <code>"word_document"</code>, oder <code>"all"</code>). Du kannst dies auch in der YAML innerhalb des R Markdown-Skripts angeben.</li>
<li><code>output_file =</code> Dies ist der Name der Ausgabedatei (und der Dateipfad). Diese kann über R-Funktionen wie <code>here()</code> oder erstellt werden. <code>str_glue()</code> wie unten gezeigt.</li>
<li><code>output_dir =</code> Dies ist ein Ausgabeverzeichnis (Ordner) zum Speichern der Datei. So kannst du ein anderes Verzeichnis wählen als das, in dem die Rmd-Datei gespeichert wird.</li>
<li><code>output_options =</code> Du kannst eine Liste von Optionen angeben, die die Optionen in der Skript-YAML überschreiben (z.B. )</li>
<li><code>output_yaml =</code> Du kannst den Pfad zu einer .yml-Datei angeben, die YAML-Spezifikationen enthält</li>
<li><code>params =</code> Siehe den Abschnitt über Parameter weiter unten</li>
<li>Siehe die vollständige Liste <a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html">hier</a></li>
</ul>
<p>Um die Versionskontrolle zu verbessern, speichert der folgende Befehl zum Beispiel die Ausgabedatei in einem Unterordner “outputs” mit dem aktuellen Datum im Dateinamen. Um den Dateinamen zu erstellen, muss die Funktion <code>str_glue()</code> aus dem <strong>stringr</strong>Paket wird verwendet, um statische Strings (einfach geschrieben) mit dynamischem R-Code (in geschweiften Klammern geschrieben) zu verbinden. Wenn heute zum Beispiel der 10. April 2021 ist, lautet der Dateiname “Report_2021-04-10.docx”. Siehe die Seite über [Zeichen und Zeichenketten] für weitere Details über<code>str_glue()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">input =</span> <span class="st">"create_output.Rmd"</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file =</span> stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"outputs/Report_{Sys.Date()}.docx"</span>)) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Während die Datei gerendert wird, zeigt dir die RStudio-Konsole den Rendering-Fortschritt bis zu 100 % und eine abschließende Meldung an, dass das Rendering abgeschlossen ist.</p>
</section>
<section id="optionen-3-reportfactory-paket" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="optionen-3-reportfactory-paket">Optionen 3: <strong>reportfactory</strong> Paket</h3>
<p>Das R-Paket <strong>reportfactory</strong> bietet eine alternative Methode zum Organisieren und Kompilieren von R Markdown-Berichten <em>für Szenarien, in denen du routinemäßig Berichte erstellst (z.B. täglich, wöchentlich…).</em> Es erleichtert die Kompilierung mehrerer R Markdown-Dateien und die Organisation ihrer Ergebnisse. Im Wesentlichen stellt es eine “Fabrik” zur Verfügung, von der aus du die R Markdown-Berichte ausführen kannst. Du erhältst automatisch Ordner mit Datums- und Zeitstempeln für die Ausgaben und hast eine “leichte” Versionskontrolle.</p>
<p>Mehr über diesen Arbeitsablauf erfährst du auf der Seite über [Organisieren von Routineberichten].</p>
<!-- ======================================================= -->
</section>
</section>
<section id="parametrisierte-berichte" class="level2" data-number="40.6">
<h2 data-number="40.6" class="anchored" data-anchor-id="parametrisierte-berichte"><span class="header-section-number">40.6</span> Parametrisierte Berichte</h2>
<p>Mit Hilfe von Parametern kannst du einen Bericht dynamisch gestalten, so dass er mit bestimmten Einstellungen ausgeführt werden kann (z. B. mit einem bestimmten Datum oder Ort oder mit bestimmten Strickoptionen). Im Folgenden konzentrieren wir uns auf die Grundlagen, aber es gibt noch mehr <a href="https://bookdown.org/yihui/rmarkdown/parameterized-reports.html">Details online</a> über parametrisierte Berichte.</p>
<p>Nehmen wir die Ebola-Lineliste als Beispiel und sagen wir, wir wollen jeden Tag einen Standard-Überwachungsbericht für jedes Krankenhaus erstellen. Wir zeigen, wie man dies mit Hilfe von Parametern erreichen kann.</p>
<p><em>Wichtig: Dynamische Berichte sind auch ohne die formale Parameterstruktur möglich (ohne <code>params:</code>), indem du einfache R-Objekte in einem angrenzenden R-Skript verwendest. Dies wird am Ende dieses Abschnitts erklärt.</em></p>
<section id="parameter-setzen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="parameter-setzen">Parameter setzen</h3>
<p>Du hast mehrere Möglichkeiten, um Parameterwerte für deine R Markdown-Ausgabe festzulegen.</p>
<section id="option-1-parameter-innerhalb-von-yaml-festlegen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="option-1-parameter-innerhalb-von-yaml-festlegen">Option 1: Parameter innerhalb von YAML festlegen</h4>
<p>Bearbeite die YAML und füge eine <code>params:</code> mit eingerückten Anweisungen für jeden Parameter, den du definieren willst. In diesem Beispiel erstellen wir Parameter <code>date</code> und <code>hospital</code> an, für die wir Werte festlegen. Diese Werte können sich jedes Mal ändern, wenn der Bericht ausgeführt wird. Wenn du die Schaltfläche “Stricken” verwendest, um die Ausgabe zu erstellen, haben die Parameter diese Standardwerte. Ebenso, wenn du die Schaltfläche <code>render()</code> verwendest, haben die Parameter diese Standardwerte, es sei denn, du hast in der <code>render()</code> Befehl angegeben.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Surveillance report</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">date</span><span class="kw">:</span><span class="at"> 2021-04-10</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">hospital</span><span class="kw">:</span><span class="at"> Central Hospital</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Im Hintergrund sind diese Parameterwerte in einer Nur-Lese-Liste namens <code>params</code>. So kannst du die Parameterwerte in den R-Code einfügen, wie du ein anderes R-Objekt/einen anderen Wert in deiner Umgebung einfügen würdest. Gib einfach ein <code>params$</code> gefolgt von dem Parameternamen ein. Zum Beispiel <code>params$hospital</code> für den Namen des Krankenhauses (standardmäßig “Zentralkrankenhaus”).</p>
<p>Beachte, dass Parameter auch Werte enthalten können <code>true</code> oder <code>false</code> enthalten können, und daher können diese in deine <strong>knitr</strong> Optionen für einen R-Chunk enthalten. Du kannst zum Beispiel festlegen <code>{r, eval=params$run}</code> anstelle von <code>{r, eval=FALSE}</code> setzen, und nun hängt es vom Wert eines Parameters ab, ob der Chunk läuft oder nicht <code>run:</code>.</p>
<p>Beachte, dass Parameter, die Datumsangaben sind, als String eingegeben werden. Also für <code>params$date</code> im R-Code interpretiert werden kann, muss er wahrscheinlich mit <code>as.Date()</code> oder einer ähnlichen Funktion in die Klasse Date umgewandelt werden.</p>
</section>
<section id="option-2-parameter-innerhalb-von-render" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="option-2-parameter-innerhalb-von-render">Option 2: Parameter innerhalb von <code>render()</code></h4>
<p>Wie bereits erwähnt, können Sie alternativ zum Drücken der Schaltfläche “Stricken” die Ausgabe mit dem Befehl <code>render()</code> Funktion in einem separaten Skript auszuführen. Im letzteren Fall kannst du die Parameter, die in diesem Rendering verwendet werden sollen, in der <code>params =</code> Argument von <code>render()</code>.</p>
<p>Beachten Sie, dass alle hier angegebenen Parameterwerte <em>überschreiben</em> ihre Standardwerte, wenn sie in die YAML geschrieben werden. Wir schreiben die Werte in Anführungszeichen, da sie in diesem Fall als Zeichen/String-Werte definiert werden sollten.</p>
<p>Der folgende Befehl rendert “surveillance_report.Rmd”, gibt einen dynamischen Ausgabedateinamen und -ordner an und stellt eine <code>list()</code> von zwei Parametern und deren Werten an das Argument <code>params =</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">input =</span> <span class="st">"surveillance_report.Rmd"</span>,  </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file =</span> stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"outputs/Report_{Sys.Date()}.docx"</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> <span class="fu">list</span>(<span class="at">date =</span> <span class="st">"2021-04-10"</span>, <span class="at">hospital  =</span> <span class="st">"Central Hospital"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="option-3-parameter-über-eine-grafische-benutzeroberfläche-festlegen" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="option-3-parameter-über-eine-grafische-benutzeroberfläche-festlegen">Option 3: Parameter über eine grafische Benutzeroberfläche festlegen</h4>
<p>Wenn du ein interaktiveres Gefühl haben möchtest, kannst du auch die grafische Benutzeroberfläche (GUI) verwenden, um manuell Werte für Parameter auszuwählen. Dazu klickst du auf das Dropdown-Menü neben der Schaltfläche “Stricken” und wählst “Mit Parametern stricken”.</p>
<p>Es erscheint ein Pop-up-Fenster, in das du die Werte für die Parameter eingeben kannst, die in der YAML des Dokuments festgelegt sind.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/5_parametersGUI.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="../images/markdown/5_parametersGUI.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Das Gleiche kannst du mit einer <code>render()</code> Befehl erreichen, indem du <code>params = "ask"</code> wie unten gezeigt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">input =</span> <span class="st">"surveillance_report.Rmd"</span>,  </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file =</span> stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"outputs/Report_{Sys.Date()}.docx"</span>),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> <span class="st">"ask"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bei der Eingabe von Werten in dieses Pop-up-Fenster können jedoch Fehler und Rechtschreibfehler auftreten. Vielleicht möchtest du die Werte, die über Dropdown-Menüs eingegeben werden können, einschränken. Das kannst du tun, indem du in der YAML mehrere Spezifikationen für jeden <code>params:</code> Eintrag hinzufügst.</p>
<ul>
<li><code>label:</code> ist wie der Titel für dieses bestimmte Dropdown-Menü</li>
<li><code>value:</code> ist der Standardwert (Startwert)</li>
<li><code>input:</code> eingestellt auf <code>select</code> für das Dropdown-Menü</li>
<li><code>choices:</code> Gib die in Frage kommenden Werte in das Dropdown-Menü ein</li>
</ul>
<p>Im Folgenden werden diese Angaben für die <code>hospital</code> Parameter.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Surveillance report</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">date</span><span class="kw">:</span><span class="at"> 2021-04-10</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">hospital</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Town:"</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">value</span><span class="kw">:</span><span class="at"> Central Hospital</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">input</span><span class="kw">:</span><span class="at"> select</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">choices</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">Central Hospital</span><span class="kw">,</span><span class="at"> Military Hospital</span><span class="kw">,</span><span class="at"> Port Hospital</span><span class="kw">,</span><span class="at"> St. Mark</span><span class="st">'s Maternity Hospital (SMMH)]</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Beim Stricken (entweder über die Schaltfläche “Stricken mit Parametern” oder durch <code>render()</code>), enthält das Pop-up-Fenster Dropdown-Optionen, aus denen du auswählen kannst.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/5_parametersGUIB.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="../images/markdown/5_parametersGUIB.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="parametrisiertes-beispiel" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="parametrisiertes-beispiel">Parametrisiertes Beispiel</h3>
<p>Der folgende Code erstellt Parameter für <code>date</code> und <code>hospital</code> die in R Markdown als Parameter verwendet werden <code>params$date</code> und <code>params$hospital</code> verwendet werden.</p>
<p>In der resultierenden Berichtsausgabe siehst du, wie die Daten nach dem spezifischen Krankenhaus gefiltert werden und der Titel der Grafik auf das richtige Krankenhaus und Datum verweist. Wir verwenden hier die Datei “linelist_cleaned.rds”, aber es wäre besonders sinnvoll, wenn die Lineliste selbst auch einen Datumsstempel enthielte, um sie an das parametrisierte Datum anzupassen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/6_Rmdexample.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="../images/markdown/6_Rmdexample.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Wenn du das strickst, erhältst du die endgültige Ausgabe mit der Standardschriftart und dem Standardlayout.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/6_RmdexampleB.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="../images/markdown/6_RmdexampleB.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="parametrisierung-ohne-params" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="parametrisierung-ohne-params">Parametrisierung ohne <code>params</code></h3>
<p>Wenn du eine R Markdown-Datei mit <code>render()</code> aus einem separaten Skript wiedergibst, kannst du die Auswirkungen der Parametrisierung auch ohne die Verwendung der <code>params:</code> Funktionalität.</p>
<p>Zum Beispiel kann in der <em>R-Skript</em> das die <code>render()</code> Befehl enthält, kannst du einfach definieren <code>hospital</code> und <code>date</code> als zwei R-Objekte (Werte) vor dem <code>render()</code> Befehl. Im R Markdown müsstest du nicht mit einem <code>params:</code> Abschnitt in der YAML zu haben, und wir würden uns auf die <code>date</code> Objekt verweisen, anstatt <code>params$date</code> und <code>hospital</code> statt <code>params$hospital</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a R script that is separate from the R Markdown</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># define R objects</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>hospital <span class="ot">&lt;-</span> <span class="st">"Central Hospital"</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="st">"2021-04-10"</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the R markdown</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="at">input =</span> <span class="st">"create_output.Rmd"</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn du diesen Ansatz verfolgst, kannst du nicht “mit Parametern stricken”, die GUI verwenden oder Strickoptionen in die Parameter aufnehmen. Allerdings ermöglicht es einen einfacheren Code, was von Vorteil sein kann.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="schleifenberichte" class="level2" data-number="40.7">
<h2 data-number="40.7" class="anchored" data-anchor-id="schleifenberichte"><span class="header-section-number">40.7</span> Schleifenberichte</h2>
<p>Es kann sein, dass wir einen Bericht mehrmals ausführen und dabei die Eingabeparameter variieren möchten, um einen Bericht für jede Gerichtsbarkeit/Einheit zu erstellen. Dies kann mit den Tools für <em>Iteration</em>die auf der Seite über Iteration ausführlich erklärt werden . [Iteration, Schleifen und Listen]. Zu den Optionen gehören die<strong>purrr</strong> Paket, oder die Verwendung eines <em>for-Schleife</em> wie unten erklärt.</p>
<p>Im Folgenden verwenden wir eine einfache <em>for-Schleife</em> um einen Überwachungsbericht für alle Krankenhäuser von Interesse zu erstellen. Dies geschieht mit einem einzigen Befehl (anstatt die Krankenhausparameter manuell einzeln zu ändern). Der Befehl zum Erstellen der Berichte muss in einem separaten Skript enthalten sein <em>außerhalb von</em> dem Bericht Rmd. Dieses Skript enthält auch definierte Objekte zum “Durchschleifen” - das heutige Datum und einen Vektor von Krankenhausnamen zum Durchschleifen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>hospitals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Central Hospital"</span>,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Military Hospital"</span>, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Port Hospital"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"St. Mark's Maternity Hospital (SMMH)"</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Diese Werte geben wir dann einzeln in die <code>render()</code> eine Schleife ein, die den Befehl für jeden Wert in der Liste einmal ausführt <code>hospitals</code> Vektor. Der Buchstabe <code>i</code> steht für die Indexposition (1 bis 4) des Krankenhauses, das gerade in dieser Iteration verwendet wird, so dass <code>hospital_list[1]</code> wäre “Zentralkrankenhaus”. Diese Information wird an zwei Stellen in der <code>render()</code> Befehl:</p>
<ol type="1">
<li>An den Dateinamen, so dass der Dateiname der ersten Iteration, wenn sie am 10. April 2021 erstellt wird, “Bericht_Zentralkrankenhaus_2021-04-10.docx” wäre und im Unterordner “output” des Arbeitsverzeichnisses gespeichert würde.</li>
<li>An <code>params =</code> so dass die Rmd den Krankenhausnamen intern verwendet, wenn die <code>params$hospital</code> Wert aufgerufen wird (z. B. um den Datensatz nur auf ein bestimmtes Krankenhaus zu filtern). In diesem Beispiel würden vier Dateien erstellt werden - eine für jedes Krankenhaus.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(hospitals)){</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">render</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">input =</span> <span class="st">"surveillance_report.Rmd"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">output_file =</span> <span class="fu">str_glue</span>(<span class="st">"output/Report_{hospitals[i]}_{Sys.Date()}.docx"</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(<span class="at">hospital  =</span> hospitals[i]))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>}       </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- In dem Szenario, in dem du f nicht diese strenge Form der Parametrisierung verwendest, sondern Objekte in der Umgebung speicherst, wie am Ende des Abschnitts Parametrisierung besprochen, würde die Renderfunktion wie folgt aussehen: -->
<!-- ```md -->
<!-- for(i in 1:length(hospital_list)){ -->
<!-- rmarkdown::render("ueberwachungs_bericht.Rmd", -->
<!-- }        -->
<!-- ``` -->
<!-- ======================================================= -->
</section>
<section id="vorlagen" class="level2" data-number="40.8">
<h2 data-number="40.8" class="anchored" data-anchor-id="vorlagen"><span class="header-section-number">40.8</span> Vorlagen</h2>
<p>Mit Hilfe einer Dokumentvorlage, die alle gewünschten Formatierungen enthält, kannst du das Aussehen der Rmd-Ausgabe anpassen. Du kannst zum Beispiel eine MS Word- oder Powerpoint-Datei erstellen, die Seiten/Folien mit den gewünschten Abmessungen, Wasserzeichen, Hintergründen und Schriftarten enthält.</p>
<section id="word-dokumente" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="word-dokumente">Word-Dokumente</h3>
<p>Um eine Vorlage zu erstellen, fängst du ein neues Word-Dokument an (oder verwendest eine bestehende Ausgabe mit der für dich passenden Formatierung) und bearbeitest die Schriftarten, indem du die Stile definierst. Unter Stil verweisen die Überschriften 1, 2 und 3 auf die verschiedenen Markdown-Kopfebenen (<code># Header 1</code>, <code>## Header 2</code> und <code>### Header 3</code> bzw.). Klicke mit der rechten Maustaste auf die Formatvorlage und klicke auf “Ändern”, um die Formatierung der Schrift und des Absatzes zu ändern (z. B. kannst du vor bestimmten Formatvorlagen Seitenumbrüche einfügen, um die Abstände zu verbessern). Andere Aspekte des Word-Dokuments wie Ränder, Seitengröße, Überschriften usw. können wie in einem normalen Word-Dokument geändert werden, in dem du direkt arbeitest.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/7_template.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="../images/markdown/7_template.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="powerpoint-dokumente" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="powerpoint-dokumente">Powerpoint-Dokumente</h3>
<p>Erstelle wie oben einen neuen Foliensatz oder verwende eine vorhandene PowerPoint-Datei mit der gewünschten Formatierung. Zur weiteren Bearbeitung klickst du auf “Ansicht” und “Folienmaster”. Hier kannst du das Aussehen der “Master”-Folie ändern, indem du die Textformatierung in den Textfeldern sowie die Hintergrund- und Seitenabmessungen für die gesamte Seite bearbeitest.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/8_ppttemplate.PNG" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="../images/markdown/8_ppttemplate.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Leider ist die Bearbeitung von Powerpoint-Dateien etwas weniger flexibel:</p>
<ul>
<li>Eine Überschrift der ersten Ebene (<code># Header 1</code>) wird automatisch zum Titel einer neuen Folie,</li>
<li>A <code>## Header 2</code> Text wird nicht als Untertitel, sondern als Text im Haupttextfeld der Folie angezeigt (es sei denn, du findest eine Möglichkeit, die Masteransicht zu ändern).</li>
<li>Ausgegebene Diagramme und Tabellen werden automatisch in neue Folien eingefügt. Du musst sie kombinieren, z. B. mit dem <strong>Patchwork</strong> Funktion verwenden, um ggplots zu kombinieren, damit sie auf der gleichen Seite angezeigt werden. Siehe dies <a href="https://mattherman.info/blog/ppt-patchwork/">Blogbeitrag</a> über die Verwendung der <strong>Patchwork</strong> Paket, um mehrere Bilder auf einer Folie zu platzieren.</li>
</ul>
<p>Siehe die <a href="https://davidgohel.github.io/officer/"><strong>Offizier</strong> Paket</a> für ein Tool, mit dem du tiefergehend mit Powerpoint-Präsentationen arbeiten kannst.</p>
</section>
<section id="vorlagen-in-die-yaml-einbinden" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="vorlagen-in-die-yaml-einbinden">Vorlagen in die YAML einbinden</h3>
<p>Sobald eine Vorlage erstellt wurde, können die Details dazu in der YAML des Rmd unter der Zeile “Ausgabe” und unter der Angabe des Dokumententyps (der in einer eigenen Zeile steht) hinzugefügt werden. Hinweis <code>reference_doc</code> kann für Powerpoint-Folienvorlagen verwendet werden.</p>
<p>Am einfachsten ist es, die Vorlage in demselben Ordner zu speichern, in dem sich auch die Rmd-Datei befindet (wie im Beispiel unten), oder in einem Unterordner darin.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Surveillance report</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">word_document</span><span class="kw">:</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">reference_docx</span><span class="kw">:</span><span class="at"> </span><span class="st">"template.docx"</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">date</span><span class="kw">:</span><span class="at"> 2021-04-10</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">hospital</span><span class="kw">:</span><span class="at"> Central Hospital</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="at"> </span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="formatieren-von-html-dateien" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="formatieren-von-html-dateien">Formatieren von HTML-Dateien</h3>
<p>HTML-Dateien verwenden keine Vorlagen, aber die Stile können in der YAML konfiguriert werden. HTML-Dateien sind interaktive Dokumente, die besonders flexibel sind. Wir behandeln hier einige grundlegende Optionen.</p>
<ul>
<li><p>Inhaltsverzeichnisse: Wir können ein Inhaltsverzeichnis einfügen mit <code>toc: true</code> hinzufügen und außerdem festlegen, dass es beim Scrollen sichtbar bleibt (“schwebt”), mit <code>toc_float: true</code>.</p></li>
<li><p>Themes: Wir können auf einige vorgefertigte Themes zurückgreifen, die aus der Bootswatch-Themenbibliothek stammen. Im folgenden Beispiel verwenden wir cerulean. Weitere Optionen sind: journal, flatly, darkly, readable, spacelab, united, cosmo, lumen, paper, sandstone, simplex und yeti.</p></li>
<li><p>Hervorheben: Mit dieser Einstellung wird das Aussehen von hervorgehobenem Text (z. B. Code innerhalb von angezeigten Abschnitten) geändert. Unterstützt werden die Stile default, tango, pygments, kate, monochrome, espresso, zenburn, haddock, breezedark und textmate.</p></li>
</ul>
<p>Hier ist ein Beispiel dafür, wie du die oben genannten Optionen in die YAML integrieren kannst.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"HTML example"</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> cerulean</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">highlight</span><span class="kw">:</span><span class="at"> kate</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Unten findest du zwei Beispiele für HTML-Ausgaben, die beide ein fließendes Inhaltsverzeichnis haben, aber unterschiedliche Themen- und Hervorhebungsstile auswählen:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/9_html.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="../images/markdown/9_html.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="dynamischer-inhalt" class="level2" data-number="40.9">
<h2 data-number="40.9" class="anchored" data-anchor-id="dynamischer-inhalt"><span class="header-section-number">40.9</span> Dynamischer Inhalt</h2>
<p>In einer HTML-Ausgabe kann der Inhalt deines Berichts dynamisch sein. Im Folgenden findest du einige Beispiele:</p>
<section id="tabellen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tabellen">Tabellen</h3>
<p>In einem HTML-Bericht kannst du Datenrahmen / Tibbles so ausgeben, dass der Inhalt dynamisch ist, mit Filtern und Bildlaufleisten. Es gibt mehrere Pakete, die diese Möglichkeit bieten.</p>
<p>Um dies zu tun mit dem <strong>DT</strong> Paket, wie es in diesem Handbuch verwendet wird, kannst du einen Codeabschnitt wie den folgenden einfügen:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/markdown/10_dynamictable.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="../images/markdown/10_dynamictable.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Die Funktion <code>datatable()</code> gibt den angegebenen Datenrahmen als dynamische Tabelle für den Leser aus. Du kannst die <code>rownames = FALSE</code> setzen, um die ganz linke Seite der Tabelle zu vereinfachen. <code>filter = "top"</code> bietet einen Filter über jede Spalte. In der <code>option()</code> Argument gibst du eine Liste mit anderen Spezifikationen an. Im Folgenden geben wir zwei an: <code>pageLength = 5</code> die Anzahl der angezeigten Zeilen auf 5 festlegen (die restlichen Zeilen können durch Blättern mit Pfeilen angezeigt werden), und <code>scrollX=TRUE</code> aktiviert eine Bildlaufleiste am unteren Rand der Tabelle (für Spalten, die zu weit nach rechts reichen).</p>
<p>Wenn dein Datensatz sehr groß ist, solltest du nur die obersten X Zeilen anzeigen, indem du den Datenrahmen in <code>head()</code>.</p>
</section>
<section id="html-widgets" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="html-widgets">HTML-Widgets</h3>
<p><a href="http://www.htmlwidgets.org/">HTML Widgets für R</a> sind eine spezielle Klasse von R-Paketen, die durch die Verwendung von JavaScript-Bibliotheken mehr Interaktivität ermöglichen. Du kannst sie in HTML-R-Markdown-Ausgaben einbetten.</p>
<p>Einige gängige Beispiele für diese Widgets sind:</p>
<ul>
<li>Plotly (wird auf dieser Handbuchseite und in der [Interaktive Plots] Seite)</li>
<li>visNetwork (verwendet in den [Übertragungsketten] Seite dieses Handbuchs)</li>
<li>Merkblatt (verwendet in den [GIS-Grundlagen] Seite dieses Handbuchs)</li>
<li>dygraphs (nützlich für die interaktive Darstellung von Zeitreihendaten)</li>
<li>DT (<code>datatable()</code>) (um dynamische Tabellen mit Filter, Sortierung usw. anzuzeigen)</li>
</ul>
<p>Die <code>ggplotly()</code> Funktion von <strong>plotly</strong>ist besonders einfach zu benutzen. Siehe die [Interaktive Plots] Seite.</p>
</section>
</section>
<section id="ressourcen" class="level2" data-number="40.10">
<h2 data-number="40.10" class="anchored" data-anchor-id="ressourcen"><span class="header-section-number">40.10</span> Ressourcen</h2>
<p>Weitere Informationen erhältst du über:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown/">https://bookdown.org/yihui/rmarkdown/</a></li>
<li><a href="https://rmarkdown.rstudio.com/articles_intro.html">https://rmarkdown.rstudio.com/articles_intro.html</a></li>
</ul>
<p>Eine gute Erklärung von Markdown vs.&nbsp;Knitr vs.&nbsp;Rmarkdown findest du hier: <a href="https://stackoverflow.com/questions/40563479/relationship-between-r-markdown-knitr-pandoc-and-bookdown">https://stackoverflow.com/questions/40563479/relationship-between-r-markdown-knitr-pandoc-and-bookdown</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../new_pages/interactive_plots.de.html" class="pagination-link" aria-label="Interaktive Diagramme">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Interaktive Diagramme</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../new_pages/reportfactory.de.html" class="pagination-link" aria-label="Organisieren von Routineberichten">
        <span class="nav-page-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Organisieren von Routineberichten</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","selector":".lightbox","closeEffect":"zoom","loop":false,"descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>